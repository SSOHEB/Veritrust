function WO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function CC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bv={exports:{}},Yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function YO(){if(xT)return Yf;xT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:a}}return Yf.Fragment=e,Yf.jsx=n,Yf.jsxs=n,Yf}var wT;function KO(){return wT||(wT=1,Bv.exports=YO()),Bv.exports}var g=KO(),Uv={exports:{}};function ZO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RC={exports:{}},Cn=RC.exports={},yi,bi;function tx(){throw new Error("setTimeout has not been defined")}function nx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?yi=setTimeout:yi=tx}catch{yi=tx}try{typeof clearTimeout=="function"?bi=clearTimeout:bi=nx}catch{bi=nx}})();function IC(t){if(yi===setTimeout)return setTimeout(t,0);if((yi===tx||!yi)&&setTimeout)return yi=setTimeout,setTimeout(t,0);try{return yi(t,0)}catch{try{return yi.call(null,t,0)}catch{return yi.call(this,t,0)}}}function QO(t){if(bi===clearTimeout)return clearTimeout(t);if((bi===nx||!bi)&&clearTimeout)return bi=clearTimeout,clearTimeout(t);try{return bi(t)}catch{try{return bi.call(null,t)}catch{return bi.call(this,t)}}}var ga=[],Fu=!1,ql,N0=-1;function XO(){!Fu||!ql||(Fu=!1,ql.length?ga=ql.concat(ga):N0=-1,ga.length&&kC())}function kC(){if(!Fu){var t=IC(XO);Fu=!0;for(var e=ga.length;e;){for(ql=ga,ga=[];++N0<e;)ql&&ql[N0].run();N0=-1,e=ga.length}ql=null,Fu=!1,QO(t)}}Cn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ga.push(new PC(t,e)),ga.length===1&&!Fu&&IC(kC)};function PC(t,e){this.fun=t,this.array=e}PC.prototype.run=function(){this.fun.apply(null,this.array)};Cn.title="browser";Cn.browser=!0;Cn.env={};Cn.argv=[];Cn.version="";Cn.versions={};function Va(){}Cn.on=Va;Cn.addListener=Va;Cn.once=Va;Cn.off=Va;Cn.removeListener=Va;Cn.removeAllListeners=Va;Cn.emit=Va;Cn.prependListener=Va;Cn.prependOnceListener=Va;Cn.listeners=function(t){return[]};Cn.binding=function(t){throw new Error("process.binding is not supported")};Cn.cwd=function(){return"/"};Cn.chdir=function(t){throw new Error("process.chdir is not supported")};Cn.umask=function(){return 0};var JO=RC.exports;const Zl=ZO(JO);var pt={},_T;function eD(){if(_T)return pt;_T=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function N(G,ne,fe){this.props=G,this.context=ne,this.refs=T,this.updater=fe||w}N.prototype.isReactComponent={},N.prototype.setState=function(G,ne){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ne,"setState")},N.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function k(){}k.prototype=N.prototype;function M(G,ne,fe){this.props=G,this.context=ne,this.refs=T,this.updater=fe||w}var B=M.prototype=new k;B.constructor=M,A(B,N.prototype),B.isPureReactComponent=!0;var $=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function P(G,ne,fe,ye,ge,Ce){return fe=Ce.ref,{$$typeof:t,type:G,key:ne,ref:fe!==void 0?fe:null,props:Ce}}function R(G,ne){return P(G.type,ne,void 0,void 0,void 0,G.props)}function j(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var ne={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(fe){return ne[fe]})}var z=/\/+/g;function q(G,ne){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):ne.toString(36)}function D(){}function me(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(D,D):(G.status="pending",G.then(function(ne){G.status==="pending"&&(G.status="fulfilled",G.value=ne)},function(ne){G.status==="pending"&&(G.status="rejected",G.reason=ne)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ie(G,ne,fe,ye,ge){var Ce=typeof G;(Ce==="undefined"||Ce==="boolean")&&(G=null);var Oe=!1;if(G===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(G.$$typeof){case t:case e:Oe=!0;break;case m:return Oe=G._init,ie(Oe(G._payload),ne,fe,ye,ge)}}if(Oe)return ge=ge(G),Oe=ye===""?"."+q(G,0):ye,$(ge)?(fe="",Oe!=null&&(fe=Oe.replace(z,"$&/")+"/"),ie(ge,ne,fe,"",function(nt){return nt})):ge!=null&&(j(ge)&&(ge=R(ge,fe+(ge.key==null||G&&G.key===ge.key?"":(""+ge.key).replace(z,"$&/")+"/")+Oe)),ne.push(ge)),1;Oe=0;var Ee=ye===""?".":ye+":";if($(G))for(var Ve=0;Ve<G.length;Ve++)ye=G[Ve],Ce=Ee+q(ye,Ve),Oe+=ie(ye,ne,fe,Ce,ge);else if(Ve=v(G),typeof Ve=="function")for(G=Ve.call(G),Ve=0;!(ye=G.next()).done;)ye=ye.value,Ce=Ee+q(ye,Ve++),Oe+=ie(ye,ne,fe,Ce,ge);else if(Ce==="object"){if(typeof G.then=="function")return ie(me(G),ne,fe,ye,ge);throw ne=String(G),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Y(G,ne,fe){if(G==null)return G;var ye=[],ge=0;return ie(G,ye,"","",function(Ce){return ne.call(fe,Ce,ge++)}),ye}function Q(G){if(G._status===-1){var ne=G._result;ne=ne(),ne.then(function(fe){(G._status===0||G._status===-1)&&(G._status=1,G._result=fe)},function(fe){(G._status===0||G._status===-1)&&(G._status=2,G._result=fe)}),G._status===-1&&(G._status=0,G._result=ne)}if(G._status===1)return G._result.default;throw G._result}var W=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ne))return}else if(typeof Zl=="object"&&typeof Zl.emit=="function"){Zl.emit("uncaughtException",G);return}console.error(G)};function se(){}return pt.Children={map:Y,forEach:function(G,ne,fe){Y(G,function(){ne.apply(this,arguments)},fe)},count:function(G){var ne=0;return Y(G,function(){ne++}),ne},toArray:function(G){return Y(G,function(ne){return ne})||[]},only:function(G){if(!j(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},pt.Component=N,pt.Fragment=n,pt.Profiler=s,pt.PureComponent=M,pt.StrictMode=r,pt.Suspense=d,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,pt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return U.H.useMemoCache(G)}},pt.cache=function(G){return function(){return G.apply(null,arguments)}},pt.cloneElement=function(G,ne,fe){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ye=A({},G.props),ge=G.key,Ce=void 0;if(ne!=null)for(Oe in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!Z.call(ne,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ne.ref===void 0||(ye[Oe]=ne[Oe]);var Oe=arguments.length-2;if(Oe===1)ye.children=fe;else if(1<Oe){for(var Ee=Array(Oe),Ve=0;Ve<Oe;Ve++)Ee[Ve]=arguments[Ve+2];ye.children=Ee}return P(G.type,ge,void 0,void 0,Ce,ye)},pt.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},pt.createElement=function(G,ne,fe){var ye,ge={},Ce=null;if(ne!=null)for(ye in ne.key!==void 0&&(Ce=""+ne.key),ne)Z.call(ne,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(ge[ye]=ne[ye]);var Oe=arguments.length-2;if(Oe===1)ge.children=fe;else if(1<Oe){for(var Ee=Array(Oe),Ve=0;Ve<Oe;Ve++)Ee[Ve]=arguments[Ve+2];ge.children=Ee}if(G&&G.defaultProps)for(ye in Oe=G.defaultProps,Oe)ge[ye]===void 0&&(ge[ye]=Oe[ye]);return P(G,Ce,void 0,void 0,null,ge)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(G){return{$$typeof:u,render:G}},pt.isValidElement=j,pt.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:Q}},pt.memo=function(G,ne){return{$$typeof:h,type:G,compare:ne===void 0?null:ne}},pt.startTransition=function(G){var ne=U.T,fe={};U.T=fe;try{var ye=G(),ge=U.S;ge!==null&&ge(fe,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(se,W)}catch(Ce){W(Ce)}finally{U.T=ne}},pt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},pt.use=function(G){return U.H.use(G)},pt.useActionState=function(G,ne,fe){return U.H.useActionState(G,ne,fe)},pt.useCallback=function(G,ne){return U.H.useCallback(G,ne)},pt.useContext=function(G){return U.H.useContext(G)},pt.useDebugValue=function(){},pt.useDeferredValue=function(G,ne){return U.H.useDeferredValue(G,ne)},pt.useEffect=function(G,ne,fe){var ye=U.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(G,ne)},pt.useId=function(){return U.H.useId()},pt.useImperativeHandle=function(G,ne,fe){return U.H.useImperativeHandle(G,ne,fe)},pt.useInsertionEffect=function(G,ne){return U.H.useInsertionEffect(G,ne)},pt.useLayoutEffect=function(G,ne){return U.H.useLayoutEffect(G,ne)},pt.useMemo=function(G,ne){return U.H.useMemo(G,ne)},pt.useOptimistic=function(G,ne){return U.H.useOptimistic(G,ne)},pt.useReducer=function(G,ne,fe){return U.H.useReducer(G,ne,fe)},pt.useRef=function(G){return U.H.useRef(G)},pt.useState=function(G){return U.H.useState(G)},pt.useSyncExternalStore=function(G,ne,fe){return U.H.useSyncExternalStore(G,ne,fe)},pt.useTransition=function(){return U.H.useTransition()},pt.version="19.1.0",pt}var ET;function Uw(){return ET||(ET=1,Uv.exports=eD()),Uv.exports}var O=Uw();const $e=CC(O),OC=WO({__proto__:null,default:$e},[O]);var Fv={exports:{}},Kf={},zv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function tD(){return TT||(TT=1,function(t){function e(Y,Q){var W=Y.length;Y.push(Q);e:for(;0<W;){var se=W-1>>>1,G=Y[se];if(0<s(G,Q))Y[se]=Q,Y[W]=G,W=se;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],W=Y.pop();if(W!==Q){Y[0]=W;e:for(var se=0,G=Y.length,ne=G>>>1;se<ne;){var fe=2*(se+1)-1,ye=Y[fe],ge=fe+1,Ce=Y[ge];if(0>s(ye,W))ge<G&&0>s(Ce,ye)?(Y[se]=Ce,Y[ge]=W,se=ge):(Y[se]=ye,Y[fe]=W,se=fe);else if(ge<G&&0>s(Ce,W))Y[se]=Ce,Y[ge]=W,se=ge;else break e}}return Q}function s(Y,Q){var W=Y.sortIndex-Q.sortIndex;return W!==0?W:Y.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,b=null,v=3,w=!1,A=!1,T=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(Y){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=Y)r(h),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=n(h)}}function U(Y){if(T=!1,$(Y),!A)if(n(d)!==null)A=!0,Z||(Z=!0,q());else{var Q=n(h);Q!==null&&ie(U,Q.startTime-Y)}}var Z=!1,P=-1,R=5,j=-1;function F(){return N?!0:!(t.unstable_now()-j<R)}function z(){if(N=!1,Z){var Y=t.unstable_now();j=Y;var Q=!0;try{e:{A=!1,T&&(T=!1,M(P),P=-1),w=!0;var W=v;try{t:{for($(Y),b=n(d);b!==null&&!(b.expirationTime>Y&&F());){var se=b.callback;if(typeof se=="function"){b.callback=null,v=b.priorityLevel;var G=se(b.expirationTime<=Y);if(Y=t.unstable_now(),typeof G=="function"){b.callback=G,$(Y),Q=!0;break t}b===n(d)&&r(d),$(Y)}else r(d);b=n(d)}if(b!==null)Q=!0;else{var ne=n(h);ne!==null&&ie(U,ne.startTime-Y),Q=!1}}break e}finally{b=null,v=W,w=!1}Q=void 0}}finally{Q?q():Z=!1}}}var q;if(typeof B=="function")q=function(){B(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,me=D.port2;D.port1.onmessage=z,q=function(){me.postMessage(null)}}else q=function(){k(z,0)};function ie(Y,Q){P=k(function(){Y(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var W=v;v=Q;try{return Y()}finally{v=W}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=v;v=Y;try{return Q()}finally{v=W}},t.unstable_scheduleCallback=function(Y,Q,W){var se=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?se+W:se):W=se,Y){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,Y={id:m++,callback:Q,priorityLevel:Y,startTime:W,expirationTime:G,sortIndex:-1},W>se?(Y.sortIndex=W,e(h,Y),n(d)===null&&Y===n(h)&&(T?(M(P),P=-1):T=!0,ie(U,W-se))):(Y.sortIndex=G,e(d,Y),A||w||(A=!0,Z||(Z=!0,q()))),Y},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Y){var Q=v;return function(){var W=v;v=Q;try{return Y.apply(this,arguments)}finally{v=W}}}}($v)),$v}var AT;function nD(){return AT||(AT=1,zv.exports=tD()),zv.exports}var qv={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function rD(){if(ST)return ur;ST=1;var t=Uw();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},ur.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},ur.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},ur.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ur.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,b=u(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:w}):m==="script"&&r.d.X(d,{crossOrigin:b,integrity:v,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ur.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},ur.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=u(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ur.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},ur.requestFormReset=function(d){r.d.r(d)},ur.unstable_batchedUpdates=function(d,h){return d(h)},ur.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},ur.useFormStatus=function(){return l.H.useHostTransitionStatus()},ur.version="19.1.0",ur}var NT;function DC(){if(NT)return qv.exports;NT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qv.exports=rD(),qv.exports}var CT;function sD(){if(CT)return Kf;CT=1;var t=nD(),e=Uw(),n=DC();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(a(i)!==i)throw Error(r(188))}function d(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,f=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return u(y),i;if(x===f)return u(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==f.return)c=y,f=x;else{for(var I=!1,L=y.child;L;){if(L===c){I=!0,c=y,f=x;break}if(L===f){I=!0,f=y,c=x;break}L=L.sibling}if(!I){for(L=x.child;L;){if(L===c){I=!0,c=x,f=y;break}if(L===f){I=!0,f=x,c=y;break}L=L.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case Z:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case B:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:me(i.type)||"Memo";case R:o=i._payload,i=i._init;try{return me(i(o))}catch{}}return null}var ie=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},se=[],G=-1;function ne(i){return{current:i}}function fe(i){0>G||(i.current=se[G],se[G]=null,G--)}function ye(i,o){G++,se[G]=i.current,i.current=o}var ge=ne(null),Ce=ne(null),Oe=ne(null),Ee=ne(null);function Ve(i,o){switch(ye(Oe,o),ye(Ce,i),ye(ge,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Y5(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Y5(o),i=K5(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(ge),ye(ge,i)}function nt(){fe(ge),fe(Ce),fe(Oe)}function Qe(i){i.memoizedState!==null&&ye(Ee,i);var o=ge.current,c=K5(o,i.type);o!==c&&(ye(Ce,i),ye(ge,c))}function et(i){Ce.current===i&&(fe(ge),fe(Ce)),Ee.current===i&&(fe(Ee),$f._currentValue=W)}var st=Object.prototype.hasOwnProperty,Xe=t.unstable_scheduleCallback,Dt=t.unstable_cancelCallback,Rn=t.unstable_shouldYield,yn=t.unstable_requestPaint,Kt=t.unstable_now,il=t.unstable_getCurrentPriorityLevel,an=t.unstable_ImmediatePriority,J=t.unstable_UserBlockingPriority,le=t.unstable_NormalPriority,be=t.unstable_LowPriority,De=t.unstable_IdlePriority,Ie=t.log,Ne=t.unstable_setDisableYieldValue,Be=null,it=null;function at(i){if(typeof Ie=="function"&&Ne(i),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Be,i)}catch{}}var Lt=Math.clz32?Math.clz32:S,V=Math.log,E=Math.LN2;function S(i){return i>>>=0,i===0?32:31-(V(i)/E|0)|0}var K=256,te=4194304;function ue(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ve(i,o,c){var f=i.pendingLanes;if(f===0)return 0;var y=0,x=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var L=f&134217727;return L!==0?(f=L&~x,f!==0?y=ue(f):(I&=L,I!==0?y=ue(I):c||(c=L&~i,c!==0&&(y=ue(c))))):(L=f&~x,L!==0?y=ue(L):I!==0?y=ue(I):c||(c=f&~i,c!==0&&(y=ue(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function ot(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function kt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var i=K;return K<<=1,(K&4194048)===0&&(K=256),i}function jt(){var i=te;return te<<=1,(te&62914560)===0&&(te=4194304),i}function St(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function bn(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fm(i,o,c,f,y,x){var I=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var L=i.entanglements,X=i.expirationTimes,ce=i.hiddenUpdates;for(c=I&~c;0<c;){var xe=31-Lt(c),Te=1<<xe;L[xe]=0,X[xe]=-1;var de=ce[xe];if(de!==null)for(ce[xe]=null,xe=0;xe<de.length;xe++){var he=de[xe];he!==null&&(he.lane&=-536870913)}c&=~Te}f!==0&&Ba(i,f,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(I&~o))}function Ba(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Lt(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|c&4194090}function Ua(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var f=31-Lt(c),y=1<<f;y&o|i[f]&o&&(i[f]|=o),c&=~y}}function Hd(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ui(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:mT(i.type))}function qy(i,o){var c=Q.p;try{return Q.p=i,o()}finally{Q.p=c}}var ni=Math.random().toString(36).slice(2),vn="__reactFiber$"+ni,er="__reactProps$"+ni,Fi="__reactContainer$"+ni,al="__reactEvents$"+ni,ol="__reactListeners$"+ni,Hy="__reactHandles$"+ni,Ss="__reactResources$"+ni,Fa="__reactMarker$"+ni;function Pc(i){delete i[vn],delete i[er],delete i[al],delete i[ol],delete i[Hy]}function ri(i){var o=i[vn];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Fi]||c[vn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=J5(i);i!==null;){if(c=i[vn])return c;i=J5(i)}return o}i=c,c=i.parentNode}return null}function si(i){if(i=i[vn]||i[Fi]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function za(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function $a(i){var o=i[Ss];return o||(o=i[Ss]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xn(i){i[Fa]=!0}var zm=new Set,ll={};function ii(i,o){ai(i,o),ai(i+"Capture",o)}function ai(i,o){for(ll[i]=o,i=0;i<o.length;i++)zm.add(o[i])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oi={},Oc={};function Gy(i){return st.call(Oc,i)?!0:st.call(oi,i)?!1:cl.test(i)?Oc[i]=!0:(oi[i]=!0,!1)}function ul(i,o,c){if(Gy(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function dl(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function os(i,o,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+f)}}var fl,Dc;function zi(i){if(fl===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);fl=o&&o[1]||"",Dc=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fl+i+Dc}var jc=!1;function Mc(i,o){if(!i||jc)return"";jc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(he){var de=he}Reflect.construct(i,[],Te)}else{try{Te.call()}catch(he){de=he}i.call(Te.prototype)}}else{try{throw Error()}catch(he){de=he}(Te=i())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),I=x[0],L=x[1];if(I&&L){var X=I.split(`
`),ce=L.split(`
`);for(y=f=0;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ce.length&&!ce[y].includes("DetermineComponentFrameRoot");)y++;if(f===X.length||y===ce.length)for(f=X.length-1,y=ce.length-1;1<=f&&0<=y&&X[f]!==ce[y];)y--;for(;1<=f&&0<=y;f--,y--)if(X[f]!==ce[y]){if(f!==1||y!==1)do if(f--,y--,0>y||X[f]!==ce[y]){var xe=`
`+X[f].replace(" at new "," at ");return i.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",i.displayName)),xe}while(1<=f&&0<=y);break}}}finally{jc=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?zi(c):""}function Wy(i){switch(i.tag){case 26:case 27:case 5:return zi(i.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Mc(i.type,!1);case 11:return Mc(i.type.render,!1);case 1:return Mc(i.type,!0);case 31:return zi("Activity");default:return""}}function Ns(i){try{var o="";do o+=Wy(i),i=i.return;while(i);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qa(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function hl(i){var o=qa(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){f=""+I,x.call(this,I)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ha(i){i._valueTracker||(i._valueTracker=hl(i))}function qt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return i&&(f=qa(i)?i.checked?"true":"false":i.value),i=f,i!==c?(o.setValue(i),!0):!1}function $i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ml=/[\n"\\]/g;function Hn(i){return i.replace(ml,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Wd(i,o,c,f,y,x,I,L){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),o!=null?I==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+un(o)):i.value!==""+un(o)&&(i.value=""+un(o)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),o!=null?Kd(i,I,un(o)):c!=null?Kd(i,I,un(c)):f!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+un(L):i.removeAttribute("name")}function Yd(i,o,c,f,y,x,I,L){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;c=c!=null?""+un(c):"",o=o!=null?""+un(o):c,L||o===i.value||(i.value=o),i.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=L?i.checked:!!f,i.defaultChecked=!!f,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I)}function Kd(i,o,c){o==="number"&&$i(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ga(i,o,c,f){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&f&&(i[c].defaultSelected=!0)}else{for(c=""+un(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function $m(i,o,c){if(o!=null&&(o=""+un(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+un(c):""}function qm(i,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(r(92));if(ie(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=un(o),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f)}function ls(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zd(i,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,c):typeof c!="number"||c===0||qi.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function Qd(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&Zd(i,y,f)}else for(var x in o)o.hasOwnProperty(x)&&Zd(i,x,o[x])}function Vc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(i){return Gm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Xd=null;function Jd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wa=null,yr=null;function Wm(i){var o=si(i);if(o&&(i=o.stateNode)){var c=i[er]||null;e:switch(i=o.stateNode,o.type){case"input":if(Wd(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Hn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==i&&f.form===i.form){var y=f[er]||null;if(!y)throw Error(r(90));Wd(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===i.form&&qt(f)}break e;case"textarea":$m(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ga(i,!!c.multiple,o,!1)}}}var pl=!1;function gl(i,o,c){if(pl)return i(o,c);pl=!0;try{var f=i(o);return f}finally{if(pl=!1,(Wa!==null||yr!==null)&&(Mp(),Wa&&(o=Wa,i=yr,yr=Wa=null,Wm(o),i)))for(o=0;o<i.length;o++)Wm(i[o])}}function Ya(i,o){var c=i.stateNode;if(c===null)return null;var f=c[er]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(br)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Hi=!1}var cs=null,Zt=null,Lc=null;function Ym(){if(Lc)return Lc;var i,o=Zt,c=o.length,f,y="value"in cs?cs.value:cs.textContent,x=y.length;for(i=0;i<c&&o[i]===y[i];i++);var I=c-i;for(f=1;f<=I&&o[c-f]===y[x-f];f++);return Lc=y.slice(i,1<f?1-f:void 0)}function yl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function bl(){return!0}function ef(){return!1}function Vn(i){function o(c,f,y,x,I){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(c=i[L],this[L]=c?c(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?bl:ef,this.isPropagationStopped=ef,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),o}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Vn(lr),xl=m({},lr,{view:0,detail:0}),wl=Vn(xl),Bc,_l,li,El=m({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==li&&(li&&i.type==="mousemove"?(Bc=i.screenX-li.screenX,_l=i.screenY-li.screenY):_l=Bc=0,li=i),Bc)},movementY:function(i){return"movementY"in i?i.movementY:_l}}),Tl=Vn(El),Yy=m({},El,{dataTransfer:0}),Km=Vn(Yy),Al=m({},xl,{relatedTarget:0}),Uc=Vn(Al),Zm=m({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),tf=Vn(Zm),nf=m({},lr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qm=Vn(nf),Fc=m({},lr,{data:0}),rf=Vn(Fc),Xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Jm[i])?!!o[i]:!1}function zc(){return ep}var tp=m({},xl,{key:function(i){if(i.key){var o=Xm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=yl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gi[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(i){return i.type==="keypress"?yl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$c=Vn(tp),vr=m({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=Vn(vr),np=m({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),Za=Vn(np),p=m({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_=Vn(p),C=m({},El,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Vn(C),oe=m({},lr,{newState:0,oldState:0}),pe=Vn(oe),ke=[9,13,27,32],dt=br&&"CompositionEvent"in window,tn=null;br&&"documentMode"in document&&(tn=document.documentMode);var Ft=br&&"TextEvent"in window&&!tn,wn=br&&(!dt||tn&&8<tn&&11>=tn),Ur=" ",ci=!1;function Rs(i,o){switch(i){case"keyup":return ke.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Is(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ks=!1;function af(i,o){switch(i){case"compositionend":return Is(o);case"keypress":return o.which!==32?null:(ci=!0,Ur);case"textInput":return i=o.data,i===Ur&&ci?null:i;default:return null}}function x9(i,o){if(ks)return i==="compositionend"||!dt&&Rs(i,o)?(i=Ym(),Lc=Zt=cs=null,ks=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return wn&&o.locale!=="ko"?null:o.data;default:return null}}var w9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l2(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!w9[i.type]:o==="textarea"}function c2(i,o,c,f){Wa?yr?yr.push(f):yr=[f]:Wa=f,o=zp(o,"onChange"),0<o.length&&(c=new vl("onChange","change",null,c,f),i.push({event:c,listeners:o}))}var of=null,lf=null;function _9(i){$5(i,0)}function rp(i){var o=za(i);if(qt(o))return i}function u2(i,o){if(i==="change")return o}var d2=!1;if(br){var Ky;if(br){var Zy="oninput"in document;if(!Zy){var f2=document.createElement("div");f2.setAttribute("oninput","return;"),Zy=typeof f2.oninput=="function"}Ky=Zy}else Ky=!1;d2=Ky&&(!document.documentMode||9<document.documentMode)}function h2(){of&&(of.detachEvent("onpropertychange",m2),lf=of=null)}function m2(i){if(i.propertyName==="value"&&rp(lf)){var o=[];c2(o,lf,i,Jd(i)),gl(_9,o)}}function E9(i,o,c){i==="focusin"?(h2(),of=o,lf=c,of.attachEvent("onpropertychange",m2)):i==="focusout"&&h2()}function T9(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rp(lf)}function A9(i,o){if(i==="click")return rp(o)}function S9(i,o){if(i==="input"||i==="change")return rp(o)}function N9(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Fr=typeof Object.is=="function"?Object.is:N9;function cf(i,o){if(Fr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!st.call(o,y)||!Fr(i[y],o[y]))return!1}return!0}function p2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function g2(i,o){var c=p2(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=o&&f>=o)return{node:c,offset:o-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=p2(c)}}function y2(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?y2(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function b2(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=$i(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=$i(i.document)}return o}function Qy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var C9=br&&"documentMode"in document&&11>=document.documentMode,qc=null,Xy=null,uf=null,Jy=!1;function v2(i,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Jy||qc==null||qc!==$i(f)||(f=qc,"selectionStart"in f&&Qy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),uf&&cf(uf,f)||(uf=f,f=zp(Xy,"onSelect"),0<f.length&&(o=new vl("onSelect","select",null,o,c),i.push({event:o,listeners:f}),o.target=qc)))}function Sl(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Hc={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},eb={},x2={};br&&(x2=document.createElement("div").style,"AnimationEvent"in window||(delete Hc.animationend.animation,delete Hc.animationiteration.animation,delete Hc.animationstart.animation),"TransitionEvent"in window||delete Hc.transitionend.transition);function Nl(i){if(eb[i])return eb[i];if(!Hc[i])return i;var o=Hc[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in x2)return eb[i]=o[c];return i}var w2=Nl("animationend"),_2=Nl("animationiteration"),E2=Nl("animationstart"),R9=Nl("transitionrun"),I9=Nl("transitionstart"),k9=Nl("transitioncancel"),T2=Nl("transitionend"),A2=new Map,tb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tb.push("scrollEnd");function Ps(i,o){A2.set(i,o),ii(o,[i])}var S2=new WeakMap;function us(i,o){if(typeof i=="object"&&i!==null){var c=S2.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Ns(o)},S2.set(i,o),o)}return{value:i,source:o,stack:Ns(o)}}var ds=[],Gc=0,nb=0;function sp(){for(var i=Gc,o=nb=Gc=0;o<i;){var c=ds[o];ds[o++]=null;var f=ds[o];ds[o++]=null;var y=ds[o];ds[o++]=null;var x=ds[o];if(ds[o++]=null,f!==null&&y!==null){var I=f.pending;I===null?y.next=y:(y.next=I.next,I.next=y),f.pending=y}x!==0&&N2(c,y,x)}}function ip(i,o,c,f){ds[Gc++]=i,ds[Gc++]=o,ds[Gc++]=c,ds[Gc++]=f,nb|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function rb(i,o,c,f){return ip(i,o,c,f),ap(i)}function Wc(i,o){return ip(i,null,null,o),ap(i)}function N2(i,o,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var y=!1,x=i.return;x!==null;)x.childLanes|=c,f=x.alternate,f!==null&&(f.childLanes|=c),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&o!==null&&(y=31-Lt(c),i=x.hiddenUpdates,f=i[y],f===null?i[y]=[o]:f.push(o),o.lane=c|536870912),x):null}function ap(i){if(50<jf)throw jf=0,cv=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Yc={};function P9(i,o,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(i,o,c,f){return new P9(i,o,c,f)}function sb(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,o){var c=i.alternate;return c===null?(c=zr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function C2(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function op(i,o,c,f,y,x){var I=0;if(f=i,typeof i=="function")sb(i)&&(I=1);else if(typeof i=="string")I=DO(i,c,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=zr(31,c,o,y),i.elementType=j,i.lanes=x,i;case A:return Cl(c.children,y,x,o);case T:I=8,y|=24;break;case N:return i=zr(12,c,o,y|2),i.elementType=N,i.lanes=x,i;case U:return i=zr(13,c,o,y),i.elementType=U,i.lanes=x,i;case Z:return i=zr(19,c,o,y),i.elementType=Z,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case B:I=10;break e;case M:I=9;break e;case $:I=11;break e;case P:I=14;break e;case R:I=16,f=null;break e}I=29,c=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=zr(I,c,o,y),o.elementType=i,o.type=f,o.lanes=x,o}function Cl(i,o,c,f){return i=zr(7,i,f,o),i.lanes=c,i}function ib(i,o,c){return i=zr(6,i,null,o),i.lanes=c,i}function ab(i,o,c){return o=zr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Kc=[],Zc=0,lp=null,cp=0,fs=[],hs=0,Rl=null,Yi=1,Ki="";function Il(i,o){Kc[Zc++]=cp,Kc[Zc++]=lp,lp=i,cp=o}function R2(i,o,c){fs[hs++]=Yi,fs[hs++]=Ki,fs[hs++]=Rl,Rl=i;var f=Yi;i=Ki;var y=32-Lt(f)-1;f&=~(1<<y),c+=1;var x=32-Lt(o)+y;if(30<x){var I=y-y%5;x=(f&(1<<I)-1).toString(32),f>>=I,y-=I,Yi=1<<32-Lt(o)+y|c<<y|f,Ki=x+i}else Yi=1<<x|c<<y|f,Ki=i}function ob(i){i.return!==null&&(Il(i,1),R2(i,1,0))}function lb(i){for(;i===lp;)lp=Kc[--Zc],Kc[Zc]=null,cp=Kc[--Zc],Kc[Zc]=null;for(;i===Rl;)Rl=fs[--hs],fs[hs]=null,Ki=fs[--hs],fs[hs]=null,Yi=fs[--hs],fs[hs]=null}var xr=null,mn=null,Mt=!1,kl=null,ui=!1,cb=Error(r(519));function Pl(i){var o=Error(r(418,""));throw hf(us(o,i)),cb}function I2(i){var o=i.stateNode,c=i.type,f=i.memoizedProps;switch(o[vn]=i,o[er]=f,c){case"dialog":_t("cancel",o),_t("close",o);break;case"iframe":case"object":case"embed":_t("load",o);break;case"video":case"audio":for(c=0;c<Vf.length;c++)_t(Vf[c],o);break;case"source":_t("error",o);break;case"img":case"image":case"link":_t("error",o),_t("load",o);break;case"details":_t("toggle",o);break;case"input":_t("invalid",o),Yd(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ha(o);break;case"select":_t("invalid",o);break;case"textarea":_t("invalid",o),qm(o,f.value,f.defaultValue,f.children),Ha(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||W5(o.textContent,c)?(f.popover!=null&&(_t("beforetoggle",o),_t("toggle",o)),f.onScroll!=null&&_t("scroll",o),f.onScrollEnd!=null&&_t("scrollend",o),f.onClick!=null&&(o.onclick=$p),o=!0):o=!1,o||Pl(i)}function k2(i){for(xr=i.return;xr;)switch(xr.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:xr=xr.return}}function df(i){if(i!==xr)return!1;if(!Mt)return k2(i),Mt=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Av(i.type,i.memoizedProps)),c=!c),c&&mn&&Pl(i),k2(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(o===0){mn=Ds(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;i=i.nextSibling}mn=null}}else o===27?(o=mn,ho(i.type)?(i=Rv,Rv=null,mn=i):mn=o):mn=xr?Ds(i.stateNode.nextSibling):null;return!0}function ff(){mn=xr=null,Mt=!1}function P2(){var i=kl;return i!==null&&(Nr===null?Nr=i:Nr.push.apply(Nr,i),kl=null),i}function hf(i){kl===null?kl=[i]:kl.push(i)}var ub=ne(null),Ol=null,Zi=null;function Qa(i,o,c){ye(ub,o._currentValue),o._currentValue=c}function Qi(i){i._currentValue=ub.current,fe(ub)}function db(i,o,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===c)break;i=i.return}}function fb(i,o,c,f){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var I=y.child;x=x.firstContext;e:for(;x!==null;){var L=x;x=y;for(var X=0;X<o.length;X++)if(L.context===o[X]){x.lanes|=c,L=x.alternate,L!==null&&(L.lanes|=c),db(x.return,c,i),f||(I=null);break e}x=L.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=c,x=I.alternate,x!==null&&(x.lanes|=c),db(I,c,i),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===i){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function mf(i,o,c,f){i=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var L=y.type;Fr(y.pendingProps.value,I.value)||(i!==null?i.push(L):i=[L])}}else if(y===Ee.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push($f):i=[$f])}y=y.return}i!==null&&fb(o,i,c,f),o.flags|=262144}function up(i){for(i=i.firstContext;i!==null;){if(!Fr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dl(i){Ol=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cr(i){return O2(Ol,i)}function dp(i,o){return Ol===null&&Dl(i),O2(i,o)}function O2(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Zi===null){if(i===null)throw Error(r(308));Zi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Zi=Zi.next=o;return c}var O9=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},D9=t.unstable_scheduleCallback,j9=t.unstable_NormalPriority,Ln={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hb(){return{controller:new O9,data:new Map,refCount:0}}function pf(i){i.refCount--,i.refCount===0&&D9(j9,function(){i.controller.abort()})}var gf=null,mb=0,Qc=0,Xc=null;function M9(i,o){if(gf===null){var c=gf=[];mb=0,Qc=gv(),Xc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return mb++,o.then(D2,D2),o}function D2(){if(--mb===0&&gf!==null){Xc!==null&&(Xc.status="fulfilled");var i=gf;gf=null,Qc=0,Xc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function V9(i,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var j2=Y.S;Y.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&M9(i,o),j2!==null&&j2(i,o)};var jl=ne(null);function pb(){var i=jl.current;return i!==null?i:Qt.pooledCache}function fp(i,o){o===null?ye(jl,jl.current):ye(jl,o.pool)}function M2(){var i=pb();return i===null?null:{parent:Ln._currentValue,pool:i}}var yf=Error(r(460)),V2=Error(r(474)),hp=Error(r(542)),gb={then:function(){}};function L2(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mp(){}function B2(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(mp,mp),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,F2(i),i;default:if(typeof o.status=="string")o.then(mp,mp);else{if(i=Qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,F2(i),i}throw bf=o,yf}}var bf=null;function U2(){if(bf===null)throw Error(r(459));var i=bf;return bf=null,i}function F2(i){if(i===yf||i===hp)throw Error(r(483))}var Xa=!1;function yb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bb(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ja(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function eo(i,o,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(zt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=ap(i),N2(i,null,c),o}return ip(i,f,o,c),ap(i)}function vf(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,Ua(i,c)}}function vb(i,o){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=I:x=x.next=I,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var xb=!1;function xf(){if(xb){var i=Xc;if(i!==null)throw i}}function wf(i,o,c,f){xb=!1;var y=i.updateQueue;Xa=!1;var x=y.firstBaseUpdate,I=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var X=L,ce=X.next;X.next=null,I===null?x=ce:I.next=ce,I=X;var xe=i.alternate;xe!==null&&(xe=xe.updateQueue,L=xe.lastBaseUpdate,L!==I&&(L===null?xe.firstBaseUpdate=ce:L.next=ce,xe.lastBaseUpdate=X))}if(x!==null){var Te=y.baseState;I=0,xe=ce=X=null,L=x;do{var de=L.lane&-536870913,he=de!==L.lane;if(he?(Nt&de)===de:(f&de)===de){de!==0&&de===Qc&&(xb=!0),xe!==null&&(xe=xe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var lt=i,Je=L;de=o;var Wt=c;switch(Je.tag){case 1:if(lt=Je.payload,typeof lt=="function"){Te=lt.call(Wt,Te,de);break e}Te=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=Je.payload,de=typeof lt=="function"?lt.call(Wt,Te,de):lt,de==null)break e;Te=m({},Te,de);break e;case 2:Xa=!0}}de=L.callback,de!==null&&(i.flags|=64,he&&(i.flags|=8192),he=y.callbacks,he===null?y.callbacks=[de]:he.push(de))}else he={lane:de,tag:L.tag,payload:L.payload,callback:L.callback,next:null},xe===null?(ce=xe=he,X=Te):xe=xe.next=he,I|=de;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;he=L,L=he.next,he.next=null,y.lastBaseUpdate=he,y.shared.pending=null}}while(!0);xe===null&&(X=Te),y.baseState=X,y.firstBaseUpdate=ce,y.lastBaseUpdate=xe,x===null&&(y.shared.lanes=0),lo|=I,i.lanes=I,i.memoizedState=Te}}function z2(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function $2(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)z2(c[i],o)}var Jc=ne(null),pp=ne(0);function q2(i,o){i=sa,ye(pp,i),ye(Jc,o),sa=i|o.baseLanes}function wb(){ye(pp,sa),ye(Jc,Jc.current)}function _b(){sa=pp.current,fe(Jc),fe(pp)}var to=0,gt=null,Ht=null,In=null,gp=!1,eu=!1,Ml=!1,yp=0,_f=0,tu=null,L9=0;function _n(){throw Error(r(321))}function Eb(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Fr(i[c],o[c]))return!1;return!0}function Tb(i,o,c,f,y,x){return to=x,gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=i===null||i.memoizedState===null?N6:C6,Ml=!1,x=c(f,y),Ml=!1,eu&&(x=G2(o,c,f,y)),H2(i),x}function H2(i){Y.H=Ep;var o=Ht!==null&&Ht.next!==null;if(to=0,In=Ht=gt=null,gp=!1,_f=0,tu=null,o)throw Error(r(300));i===null||Gn||(i=i.dependencies,i!==null&&up(i)&&(Gn=!0))}function G2(i,o,c,f){gt=i;var y=0;do{if(eu&&(tu=null),_f=0,eu=!1,25<=y)throw Error(r(301));if(y+=1,In=Ht=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=H9,x=o(c,f)}while(eu);return x}function B9(){var i=Y.H,o=i.useState()[0];return o=typeof o.then=="function"?Ef(o):o,i=i.useState()[0],(Ht!==null?Ht.memoizedState:null)!==i&&(gt.flags|=1024),o}function Ab(){var i=yp!==0;return yp=0,i}function Sb(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function Nb(i){if(gp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}gp=!1}to=0,In=Ht=gt=null,eu=!1,_f=yp=0,tu=null}function Ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?gt.memoizedState=In=i:In=In.next=i,In}function kn(){if(Ht===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var o=In===null?gt.memoizedState:In.next;if(o!==null)In=o,Ht=i;else{if(i===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},In===null?gt.memoizedState=In=i:In=In.next=i}return In}function Cb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ef(i){var o=_f;return _f+=1,tu===null&&(tu=[]),i=B2(tu,i,o),o=gt,(In===null?o.memoizedState:In.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?N6:C6),i}function bp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ef(i);if(i.$$typeof===B)return cr(i)}throw Error(r(438,String(i)))}function Rb(i){var o=null,c=gt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=gt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Cb(),gt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),f=0;f<i;f++)c[f]=F;return o.index++,c}function Xi(i,o){return typeof o=="function"?o(i):o}function vp(i){var o=kn();return Ib(o,Ht,i)}function Ib(i,o,c){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var y=i.baseQueue,x=f.pending;if(x!==null){if(y!==null){var I=y.next;y.next=x.next,x.next=I}o.baseQueue=y=x,f.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{o=y.next;var L=I=null,X=null,ce=o,xe=!1;do{var Te=ce.lane&-536870913;if(Te!==ce.lane?(Nt&Te)===Te:(to&Te)===Te){var de=ce.revertLane;if(de===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Te===Qc&&(xe=!0);else if((to&de)===de){ce=ce.next,de===Qc&&(xe=!0);continue}else Te={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(L=X=Te,I=x):X=X.next=Te,gt.lanes|=de,lo|=de;Te=ce.action,Ml&&c(x,Te),x=ce.hasEagerState?ce.eagerState:c(x,Te)}else de={lane:Te,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(L=X=de,I=x):X=X.next=de,gt.lanes|=Te,lo|=Te;ce=ce.next}while(ce!==null&&ce!==o);if(X===null?I=x:X.next=L,!Fr(x,i.memoizedState)&&(Gn=!0,xe&&(c=Xc,c!==null)))throw c;i.memoizedState=x,i.baseState=I,i.baseQueue=X,f.lastRenderedState=x}return y===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function kb(i){var o=kn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var I=y=y.next;do x=i(x,I.action),I=I.next;while(I!==y);Fr(x,o.memoizedState)||(Gn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function W2(i,o,c){var f=gt,y=kn(),x=Mt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var I=!Fr((Ht||y).memoizedState,c);I&&(y.memoizedState=c,Gn=!0),y=y.queue;var L=Z2.bind(null,f,y,i);if(Tf(2048,8,L,[i]),y.getSnapshot!==o||I||In!==null&&In.memoizedState.tag&1){if(f.flags|=2048,nu(9,xp(),K2.bind(null,f,y,c,o),null),Qt===null)throw Error(r(349));x||(to&124)!==0||Y2(f,o,c)}return c}function Y2(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=gt.updateQueue,o===null?(o=Cb(),gt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function K2(i,o,c,f){o.value=c,o.getSnapshot=f,Q2(o)&&X2(i)}function Z2(i,o,c){return c(function(){Q2(o)&&X2(i)})}function Q2(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Fr(i,c)}catch{return!0}}function X2(i){var o=Wc(i,2);o!==null&&Wr(o,i,2)}function Pb(i){var o=Ar();if(typeof i=="function"){var c=i;if(i=c(),Ml){at(!0);try{c()}finally{at(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:i},o}function J2(i,o,c,f){return i.baseState=c,Ib(i,Ht,typeof f=="function"?f:Xi)}function U9(i,o,c,f,y){if(_p(i))throw Error(r(485));if(i=o.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};Y.T!==null?c(!0):x.isTransition=!1,f(x),c=o.pending,c===null?(x.next=o.pending=x,e6(o,x)):(x.next=c.next,o.pending=c.next=x)}}function e6(i,o){var c=o.action,f=o.payload,y=i.state;if(o.isTransition){var x=Y.T,I={};Y.T=I;try{var L=c(y,f),X=Y.S;X!==null&&X(I,L),t6(i,o,L)}catch(ce){Ob(i,o,ce)}finally{Y.T=x}}else try{x=c(y,f),t6(i,o,x)}catch(ce){Ob(i,o,ce)}}function t6(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){n6(i,o,f)},function(f){return Ob(i,o,f)}):n6(i,o,c)}function n6(i,o,c){o.status="fulfilled",o.value=c,r6(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,e6(i,c)))}function Ob(i,o,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,r6(o),o=o.next;while(o!==f)}i.action=null}function r6(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function s6(i,o){return o}function i6(i,o){if(Mt){var c=Qt.formState;if(c!==null){e:{var f=gt;if(Mt){if(mn){t:{for(var y=mn,x=ui;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ds(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){mn=Ds(y.nextSibling),f=y.data==="F!";break e}}Pl(f)}f=!1}f&&(o=c[0])}}return c=Ar(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s6,lastRenderedState:o},c.queue=f,c=T6.bind(null,gt,f),f.dispatch=c,f=Pb(!1),x=Lb.bind(null,gt,!1,f.queue),f=Ar(),y={state:o,dispatch:null,action:i,pending:null},f.queue=y,c=U9.bind(null,gt,y,x,c),y.dispatch=c,f.memoizedState=i,[o,c,!1]}function a6(i){var o=kn();return o6(o,Ht,i)}function o6(i,o,c){if(o=Ib(i,o,s6)[0],i=vp(Xi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Ef(o)}catch(I){throw I===yf?hp:I}else f=o;o=kn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(gt.flags|=2048,nu(9,xp(),F9.bind(null,y,c),null)),[f,x,i]}function F9(i,o){i.action=o}function l6(i){var o=kn(),c=Ht;if(c!==null)return o6(o,c,i);kn(),o=o.memoizedState,c=kn();var f=c.queue.dispatch;return c.memoizedState=i,[o,f,!1]}function nu(i,o,c,f){return i={tag:i,create:c,deps:f,inst:o,next:null},o=gt.updateQueue,o===null&&(o=Cb(),gt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,o.lastEffect=i),i}function xp(){return{destroy:void 0,resource:void 0}}function c6(){return kn().memoizedState}function wp(i,o,c,f){var y=Ar();f=f===void 0?null:f,gt.flags|=i,y.memoizedState=nu(1|o,xp(),c,f)}function Tf(i,o,c,f){var y=kn();f=f===void 0?null:f;var x=y.memoizedState.inst;Ht!==null&&f!==null&&Eb(f,Ht.memoizedState.deps)?y.memoizedState=nu(o,x,c,f):(gt.flags|=i,y.memoizedState=nu(1|o,x,c,f))}function u6(i,o){wp(8390656,8,i,o)}function d6(i,o){Tf(2048,8,i,o)}function f6(i,o){return Tf(4,2,i,o)}function h6(i,o){return Tf(4,4,i,o)}function m6(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function p6(i,o,c){c=c!=null?c.concat([i]):null,Tf(4,4,m6.bind(null,o,i),c)}function Db(){}function g6(i,o){var c=kn();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&Eb(o,f[1])?f[0]:(c.memoizedState=[i,o],i)}function y6(i,o){var c=kn();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&Eb(o,f[1]))return f[0];if(f=i(),Ml){at(!0);try{i()}finally{at(!1)}}return c.memoizedState=[f,o],f}function jb(i,o,c){return c===void 0||(to&1073741824)!==0?i.memoizedState=o:(i.memoizedState=c,i=x5(),gt.lanes|=i,lo|=i,c)}function b6(i,o,c,f){return Fr(c,o)?c:Jc.current!==null?(i=jb(i,c,f),Fr(i,o)||(Gn=!0),i):(to&42)===0?(Gn=!0,i.memoizedState=c):(i=x5(),gt.lanes|=i,lo|=i,o)}function v6(i,o,c,f,y){var x=Q.p;Q.p=x!==0&&8>x?x:8;var I=Y.T,L={};Y.T=L,Lb(i,!1,o,c);try{var X=y(),ce=Y.S;if(ce!==null&&ce(L,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var xe=V9(X,f);Af(i,o,xe,Gr(i))}else Af(i,o,f,Gr(i))}catch(Te){Af(i,o,{then:function(){},status:"rejected",reason:Te},Gr())}finally{Q.p=x,Y.T=I}}function z9(){}function Mb(i,o,c,f){if(i.tag!==5)throw Error(r(476));var y=x6(i).queue;v6(i,y,o,W,c===null?z9:function(){return w6(i),c(f)})}function x6(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function w6(i){var o=x6(i).next.queue;Af(i,o,{},Gr())}function Vb(){return cr($f)}function _6(){return kn().memoizedState}function E6(){return kn().memoizedState}function $9(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=Gr();i=Ja(c);var f=eo(o,i,c);f!==null&&(Wr(f,o,c),vf(f,o,c)),o={cache:hb()},i.payload=o;return}o=o.return}}function q9(i,o,c){var f=Gr();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},_p(i)?A6(o,c):(c=rb(i,o,c,f),c!==null&&(Wr(c,i,f),S6(c,o,f)))}function T6(i,o,c){var f=Gr();Af(i,o,c,f)}function Af(i,o,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(_p(i))A6(o,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var I=o.lastRenderedState,L=x(I,c);if(y.hasEagerState=!0,y.eagerState=L,Fr(L,I))return ip(i,o,y,0),Qt===null&&sp(),!1}catch{}finally{}if(c=rb(i,o,y,f),c!==null)return Wr(c,i,f),S6(c,o,f),!0}return!1}function Lb(i,o,c,f){if(f={lane:2,revertLane:gv(),action:f,hasEagerState:!1,eagerState:null,next:null},_p(i)){if(o)throw Error(r(479))}else o=rb(i,c,f,2),o!==null&&Wr(o,i,2)}function _p(i){var o=i.alternate;return i===gt||o!==null&&o===gt}function A6(i,o){eu=gp=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function S6(i,o,c){if((c&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,Ua(i,c)}}var Ep={readContext:cr,use:bp,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n},N6={readContext:cr,use:bp,useCallback:function(i,o){return Ar().memoizedState=[i,o===void 0?null:o],i},useContext:cr,useEffect:u6,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,wp(4194308,4,m6.bind(null,o,i),c)},useLayoutEffect:function(i,o){return wp(4194308,4,i,o)},useInsertionEffect:function(i,o){wp(4,2,i,o)},useMemo:function(i,o){var c=Ar();o=o===void 0?null:o;var f=i();if(Ml){at(!0);try{i()}finally{at(!1)}}return c.memoizedState=[f,o],f},useReducer:function(i,o,c){var f=Ar();if(c!==void 0){var y=c(o);if(Ml){at(!0);try{c(o)}finally{at(!1)}}}else y=o;return f.memoizedState=f.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},f.queue=i,i=i.dispatch=q9.bind(null,gt,i),[f.memoizedState,i]},useRef:function(i){var o=Ar();return i={current:i},o.memoizedState=i},useState:function(i){i=Pb(i);var o=i.queue,c=T6.bind(null,gt,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:Db,useDeferredValue:function(i,o){var c=Ar();return jb(c,i,o)},useTransition:function(){var i=Pb(!1);return i=v6.bind(null,gt,i.queue,!0,!1),Ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var f=gt,y=Ar();if(Mt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Qt===null)throw Error(r(349));(Nt&124)!==0||Y2(f,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,u6(Z2.bind(null,f,x,i),[i]),f.flags|=2048,nu(9,xp(),K2.bind(null,f,x,c,o),null),c},useId:function(){var i=Ar(),o=Qt.identifierPrefix;if(Mt){var c=Ki,f=Yi;c=(f&~(1<<32-Lt(f)-1)).toString(32)+c,o=""+o+"R"+c,c=yp++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=L9++,o=""+o+"r"+c.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:Vb,useFormState:i6,useActionState:i6,useOptimistic:function(i){var o=Ar();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Lb.bind(null,gt,!0,c),c.dispatch=o,[i,o]},useMemoCache:Rb,useCacheRefresh:function(){return Ar().memoizedState=$9.bind(null,gt)}},C6={readContext:cr,use:bp,useCallback:g6,useContext:cr,useEffect:d6,useImperativeHandle:p6,useInsertionEffect:f6,useLayoutEffect:h6,useMemo:y6,useReducer:vp,useRef:c6,useState:function(){return vp(Xi)},useDebugValue:Db,useDeferredValue:function(i,o){var c=kn();return b6(c,Ht.memoizedState,i,o)},useTransition:function(){var i=vp(Xi)[0],o=kn().memoizedState;return[typeof i=="boolean"?i:Ef(i),o]},useSyncExternalStore:W2,useId:_6,useHostTransitionStatus:Vb,useFormState:a6,useActionState:a6,useOptimistic:function(i,o){var c=kn();return J2(c,Ht,i,o)},useMemoCache:Rb,useCacheRefresh:E6},H9={readContext:cr,use:bp,useCallback:g6,useContext:cr,useEffect:d6,useImperativeHandle:p6,useInsertionEffect:f6,useLayoutEffect:h6,useMemo:y6,useReducer:kb,useRef:c6,useState:function(){return kb(Xi)},useDebugValue:Db,useDeferredValue:function(i,o){var c=kn();return Ht===null?jb(c,i,o):b6(c,Ht.memoizedState,i,o)},useTransition:function(){var i=kb(Xi)[0],o=kn().memoizedState;return[typeof i=="boolean"?i:Ef(i),o]},useSyncExternalStore:W2,useId:_6,useHostTransitionStatus:Vb,useFormState:l6,useActionState:l6,useOptimistic:function(i,o){var c=kn();return Ht!==null?J2(c,Ht,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Rb,useCacheRefresh:E6},ru=null,Sf=0;function Tp(i){var o=Sf;return Sf+=1,ru===null&&(ru=[]),B2(ru,i,o)}function Nf(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Ap(i,o){throw o.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function R6(i){var o=i._init;return o(i._payload)}function I6(i){function o(re,ee){if(i){var ae=re.deletions;ae===null?(re.deletions=[ee],re.flags|=16):ae.push(ee)}}function c(re,ee){if(!i)return null;for(;ee!==null;)o(re,ee),ee=ee.sibling;return null}function f(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function y(re,ee){return re=Wi(re,ee),re.index=0,re.sibling=null,re}function x(re,ee,ae){return re.index=ae,i?(ae=re.alternate,ae!==null?(ae=ae.index,ae<ee?(re.flags|=67108866,ee):ae):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function I(re){return i&&re.alternate===null&&(re.flags|=67108866),re}function L(re,ee,ae,we){return ee===null||ee.tag!==6?(ee=ib(ae,re.mode,we),ee.return=re,ee):(ee=y(ee,ae),ee.return=re,ee)}function X(re,ee,ae,we){var Ue=ae.type;return Ue===A?xe(re,ee,ae.props.children,we,ae.key):ee!==null&&(ee.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&R6(Ue)===ee.type)?(ee=y(ee,ae.props),Nf(ee,ae),ee.return=re,ee):(ee=op(ae.type,ae.key,ae.props,null,re.mode,we),Nf(ee,ae),ee.return=re,ee)}function ce(re,ee,ae,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=ab(ae,re.mode,we),ee.return=re,ee):(ee=y(ee,ae.children||[]),ee.return=re,ee)}function xe(re,ee,ae,we,Ue){return ee===null||ee.tag!==7?(ee=Cl(ae,re.mode,we,Ue),ee.return=re,ee):(ee=y(ee,ae),ee.return=re,ee)}function Te(re,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=ib(""+ee,re.mode,ae),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ae=op(ee.type,ee.key,ee.props,null,re.mode,ae),Nf(ae,ee),ae.return=re,ae;case w:return ee=ab(ee,re.mode,ae),ee.return=re,ee;case R:var we=ee._init;return ee=we(ee._payload),Te(re,ee,ae)}if(ie(ee)||q(ee))return ee=Cl(ee,re.mode,ae,null),ee.return=re,ee;if(typeof ee.then=="function")return Te(re,Tp(ee),ae);if(ee.$$typeof===B)return Te(re,dp(re,ee),ae);Ap(re,ee)}return null}function de(re,ee,ae,we){var Ue=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ue!==null?null:L(re,ee,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return ae.key===Ue?X(re,ee,ae,we):null;case w:return ae.key===Ue?ce(re,ee,ae,we):null;case R:return Ue=ae._init,ae=Ue(ae._payload),de(re,ee,ae,we)}if(ie(ae)||q(ae))return Ue!==null?null:xe(re,ee,ae,we,null);if(typeof ae.then=="function")return de(re,ee,Tp(ae),we);if(ae.$$typeof===B)return de(re,ee,dp(re,ae),we);Ap(re,ae)}return null}function he(re,ee,ae,we,Ue){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return re=re.get(ae)||null,L(ee,re,""+we,Ue);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case v:return re=re.get(we.key===null?ae:we.key)||null,X(ee,re,we,Ue);case w:return re=re.get(we.key===null?ae:we.key)||null,ce(ee,re,we,Ue);case R:var bt=we._init;return we=bt(we._payload),he(re,ee,ae,we,Ue)}if(ie(we)||q(we))return re=re.get(ae)||null,xe(ee,re,we,Ue,null);if(typeof we.then=="function")return he(re,ee,ae,Tp(we),Ue);if(we.$$typeof===B)return he(re,ee,ae,dp(ee,we),Ue);Ap(ee,we)}return null}function lt(re,ee,ae,we){for(var Ue=null,bt=null,We=ee,tt=ee=0,Yn=null;We!==null&&tt<ae.length;tt++){We.index>tt?(Yn=We,We=null):Yn=We.sibling;var Pt=de(re,We,ae[tt],we);if(Pt===null){We===null&&(We=Yn);break}i&&We&&Pt.alternate===null&&o(re,We),ee=x(Pt,ee,tt),bt===null?Ue=Pt:bt.sibling=Pt,bt=Pt,We=Yn}if(tt===ae.length)return c(re,We),Mt&&Il(re,tt),Ue;if(We===null){for(;tt<ae.length;tt++)We=Te(re,ae[tt],we),We!==null&&(ee=x(We,ee,tt),bt===null?Ue=We:bt.sibling=We,bt=We);return Mt&&Il(re,tt),Ue}for(We=f(We);tt<ae.length;tt++)Yn=he(We,re,tt,ae[tt],we),Yn!==null&&(i&&Yn.alternate!==null&&We.delete(Yn.key===null?tt:Yn.key),ee=x(Yn,ee,tt),bt===null?Ue=Yn:bt.sibling=Yn,bt=Yn);return i&&We.forEach(function(bo){return o(re,bo)}),Mt&&Il(re,tt),Ue}function Je(re,ee,ae,we){if(ae==null)throw Error(r(151));for(var Ue=null,bt=null,We=ee,tt=ee=0,Yn=null,Pt=ae.next();We!==null&&!Pt.done;tt++,Pt=ae.next()){We.index>tt?(Yn=We,We=null):Yn=We.sibling;var bo=de(re,We,Pt.value,we);if(bo===null){We===null&&(We=Yn);break}i&&We&&bo.alternate===null&&o(re,We),ee=x(bo,ee,tt),bt===null?Ue=bo:bt.sibling=bo,bt=bo,We=Yn}if(Pt.done)return c(re,We),Mt&&Il(re,tt),Ue;if(We===null){for(;!Pt.done;tt++,Pt=ae.next())Pt=Te(re,Pt.value,we),Pt!==null&&(ee=x(Pt,ee,tt),bt===null?Ue=Pt:bt.sibling=Pt,bt=Pt);return Mt&&Il(re,tt),Ue}for(We=f(We);!Pt.done;tt++,Pt=ae.next())Pt=he(We,re,tt,Pt.value,we),Pt!==null&&(i&&Pt.alternate!==null&&We.delete(Pt.key===null?tt:Pt.key),ee=x(Pt,ee,tt),bt===null?Ue=Pt:bt.sibling=Pt,bt=Pt);return i&&We.forEach(function(GO){return o(re,GO)}),Mt&&Il(re,tt),Ue}function Wt(re,ee,ae,we){if(typeof ae=="object"&&ae!==null&&ae.type===A&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:e:{for(var Ue=ae.key;ee!==null;){if(ee.key===Ue){if(Ue=ae.type,Ue===A){if(ee.tag===7){c(re,ee.sibling),we=y(ee,ae.props.children),we.return=re,re=we;break e}}else if(ee.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&R6(Ue)===ee.type){c(re,ee.sibling),we=y(ee,ae.props),Nf(we,ae),we.return=re,re=we;break e}c(re,ee);break}else o(re,ee);ee=ee.sibling}ae.type===A?(we=Cl(ae.props.children,re.mode,we,ae.key),we.return=re,re=we):(we=op(ae.type,ae.key,ae.props,null,re.mode,we),Nf(we,ae),we.return=re,re=we)}return I(re);case w:e:{for(Ue=ae.key;ee!==null;){if(ee.key===Ue)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){c(re,ee.sibling),we=y(ee,ae.children||[]),we.return=re,re=we;break e}else{c(re,ee);break}else o(re,ee);ee=ee.sibling}we=ab(ae,re.mode,we),we.return=re,re=we}return I(re);case R:return Ue=ae._init,ae=Ue(ae._payload),Wt(re,ee,ae,we)}if(ie(ae))return lt(re,ee,ae,we);if(q(ae)){if(Ue=q(ae),typeof Ue!="function")throw Error(r(150));return ae=Ue.call(ae),Je(re,ee,ae,we)}if(typeof ae.then=="function")return Wt(re,ee,Tp(ae),we);if(ae.$$typeof===B)return Wt(re,ee,dp(re,ae),we);Ap(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ee!==null&&ee.tag===6?(c(re,ee.sibling),we=y(ee,ae),we.return=re,re=we):(c(re,ee),we=ib(ae,re.mode,we),we.return=re,re=we),I(re)):c(re,ee)}return function(re,ee,ae,we){try{Sf=0;var Ue=Wt(re,ee,ae,we);return ru=null,Ue}catch(We){if(We===yf||We===hp)throw We;var bt=zr(29,We,null,re.mode);return bt.lanes=we,bt.return=re,bt}finally{}}}var su=I6(!0),k6=I6(!1),ms=ne(null),di=null;function no(i){var o=i.alternate;ye(Bn,Bn.current&1),ye(ms,i),di===null&&(o===null||Jc.current!==null||o.memoizedState!==null)&&(di=i)}function P6(i){if(i.tag===22){if(ye(Bn,Bn.current),ye(ms,i),di===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(di=i)}}else ro()}function ro(){ye(Bn,Bn.current),ye(ms,ms.current)}function Ji(i){fe(ms),di===i&&(di=null),fe(Bn)}var Bn=ne(0);function Sp(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Cv(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Bb(i,o,c,f){o=i.memoizedState,c=c(f,o),c=c==null?o:m({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Ub={enqueueSetState:function(i,o,c){i=i._reactInternals;var f=Gr(),y=Ja(f);y.payload=o,c!=null&&(y.callback=c),o=eo(i,y,f),o!==null&&(Wr(o,i,f),vf(o,i,f))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var f=Gr(),y=Ja(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=eo(i,y,f),o!==null&&(Wr(o,i,f),vf(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Gr(),f=Ja(c);f.tag=2,o!=null&&(f.callback=o),o=eo(i,f,c),o!==null&&(Wr(o,i,c),vf(o,i,c))}};function O6(i,o,c,f,y,x,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,x,I):o.prototype&&o.prototype.isPureReactComponent?!cf(c,f)||!cf(y,x):!0}function D6(i,o,c,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==i&&Ub.enqueueReplaceState(o,o.state,null)}function Vl(i,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(i=i.defaultProps){c===o&&(c=m({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}var Np=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof Zl=="object"&&typeof Zl.emit=="function"){Zl.emit("uncaughtException",i);return}console.error(i)};function j6(i){Np(i)}function M6(i){console.error(i)}function V6(i){Np(i)}function Cp(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function L6(i,o,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Fb(i,o,c){return c=Ja(c),c.tag=3,c.payload={element:null},c.callback=function(){Cp(i,o)},c}function B6(i){return i=Ja(i),i.tag=3,i}function U6(i,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=f.value;i.payload=function(){return y(x)},i.callback=function(){L6(o,c,f)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){L6(o,c,f),typeof y!="function"&&(co===null?co=new Set([this]):co.add(this));var L=f.stack;this.componentDidCatch(f.value,{componentStack:L!==null?L:""})})}function G9(i,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&mf(o,c,y,!0),c=ms.current,c!==null){switch(c.tag){case 13:return di===null?dv():c.alternate===null&&pn===0&&(pn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===gb?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),hv(i,f,y)),!1;case 22:return c.flags|=65536,f===gb?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),hv(i,f,y)),!1}throw Error(r(435,c.tag))}return hv(i,f,y),dv(),!1}if(Mt)return o=ms.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==cb&&(i=Error(r(422),{cause:f}),hf(us(i,c)))):(f!==cb&&(o=Error(r(423),{cause:f}),hf(us(o,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,f=us(f,c),y=Fb(i.stateNode,f,y),vb(i,y),pn!==4&&(pn=2)),!1;var x=Error(r(520),{cause:f});if(x=us(x,c),Df===null?Df=[x]:Df.push(x),pn!==4&&(pn=2),o===null)return!0;f=us(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=Fb(c.stateNode,f,i),vb(c,i),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(co===null||!co.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=B6(y),U6(y,i,c,f),vb(c,y),!1}c=c.return}while(c!==null);return!1}var F6=Error(r(461)),Gn=!1;function tr(i,o,c,f){o.child=i===null?k6(o,null,c,f):su(o,i.child,c,f)}function z6(i,o,c,f,y){c=c.render;var x=o.ref;if("ref"in f){var I={};for(var L in f)L!=="ref"&&(I[L]=f[L])}else I=f;return Dl(o),f=Tb(i,o,c,I,x,y),L=Ab(),i!==null&&!Gn?(Sb(i,o,y),ea(i,o,y)):(Mt&&L&&ob(o),o.flags|=1,tr(i,o,f,y),o.child)}function $6(i,o,c,f,y){if(i===null){var x=c.type;return typeof x=="function"&&!sb(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,q6(i,o,x,f,y)):(i=op(c.type,null,f,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,!Kb(i,y)){var I=x.memoizedProps;if(c=c.compare,c=c!==null?c:cf,c(I,f)&&i.ref===o.ref)return ea(i,o,y)}return o.flags|=1,i=Wi(x,f),i.ref=o.ref,i.return=o,o.child=i}function q6(i,o,c,f,y){if(i!==null){var x=i.memoizedProps;if(cf(x,f)&&i.ref===o.ref)if(Gn=!1,o.pendingProps=f=x,Kb(i,y))(i.flags&131072)!==0&&(Gn=!0);else return o.lanes=i.lanes,ea(i,o,y)}return zb(i,o,c,f,y)}function H6(i,o,c){var f=o.pendingProps,y=f.children,x=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=x!==null?x.baseLanes|c:c,i!==null){for(y=o.child=i.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;o.childLanes=x&~f}else o.childLanes=0,o.child=null;return G6(i,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&fp(o,x!==null?x.cachePool:null),x!==null?q2(o,x):wb(),P6(o);else return o.lanes=o.childLanes=536870912,G6(i,o,x!==null?x.baseLanes|c:c,c)}else x!==null?(fp(o,x.cachePool),q2(o,x),ro(),o.memoizedState=null):(i!==null&&fp(o,null),wb(),ro());return tr(i,o,y,c),o.child}function G6(i,o,c,f){var y=pb();return y=y===null?null:{parent:Ln._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},i!==null&&fp(o,null),wb(),P6(o),i!==null&&mf(i,o,f,!0),null}function Rp(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function zb(i,o,c,f,y){return Dl(o),c=Tb(i,o,c,f,void 0,y),f=Ab(),i!==null&&!Gn?(Sb(i,o,y),ea(i,o,y)):(Mt&&f&&ob(o),o.flags|=1,tr(i,o,c,y),o.child)}function W6(i,o,c,f,y,x){return Dl(o),o.updateQueue=null,c=G2(o,f,c,y),H2(i),f=Ab(),i!==null&&!Gn?(Sb(i,o,x),ea(i,o,x)):(Mt&&f&&ob(o),o.flags|=1,tr(i,o,c,x),o.child)}function Y6(i,o,c,f,y){if(Dl(o),o.stateNode===null){var x=Yc,I=c.contextType;typeof I=="object"&&I!==null&&(x=cr(I)),x=new c(f,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ub,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=f,x.state=o.memoizedState,x.refs={},yb(o),I=c.contextType,x.context=typeof I=="object"&&I!==null?cr(I):Yc,x.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Bb(o,c,I,f),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&Ub.enqueueReplaceState(x,x.state,null),wf(o,f,x,y),xf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){x=o.stateNode;var L=o.memoizedProps,X=Vl(c,L);x.props=X;var ce=x.context,xe=c.contextType;I=Yc,typeof xe=="object"&&xe!==null&&(I=cr(xe));var Te=c.getDerivedStateFromProps;xe=typeof Te=="function"||typeof x.getSnapshotBeforeUpdate=="function",L=o.pendingProps!==L,xe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L||ce!==I)&&D6(o,x,f,I),Xa=!1;var de=o.memoizedState;x.state=de,wf(o,f,x,y),xf(),ce=o.memoizedState,L||de!==ce||Xa?(typeof Te=="function"&&(Bb(o,c,Te,f),ce=o.memoizedState),(X=Xa||O6(o,c,X,f,de,ce,I))?(xe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ce),x.props=f,x.state=ce,x.context=I,f=X):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,bb(i,o),I=o.memoizedProps,xe=Vl(c,I),x.props=xe,Te=o.pendingProps,de=x.context,ce=c.contextType,X=Yc,typeof ce=="object"&&ce!==null&&(X=cr(ce)),L=c.getDerivedStateFromProps,(ce=typeof L=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==Te||de!==X)&&D6(o,x,f,X),Xa=!1,de=o.memoizedState,x.state=de,wf(o,f,x,y),xf();var he=o.memoizedState;I!==Te||de!==he||Xa||i!==null&&i.dependencies!==null&&up(i.dependencies)?(typeof L=="function"&&(Bb(o,c,L,f),he=o.memoizedState),(xe=Xa||O6(o,c,xe,f,de,he,X)||i!==null&&i.dependencies!==null&&up(i.dependencies))?(ce||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,he,X),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,he,X)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=he),x.props=f,x.state=he,x.context=X,f=xe):(typeof x.componentDidUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),f=!1)}return x=f,Rp(i,o),f=(o.flags&128)!==0,x||f?(x=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,i!==null&&f?(o.child=su(o,i.child,null,y),o.child=su(o,null,c,y)):tr(i,o,c,y),o.memoizedState=x.state,i=o.child):i=ea(i,o,y),i}function K6(i,o,c,f){return ff(),o.flags|=256,tr(i,o,c,f),o.child}var $b={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qb(i){return{baseLanes:i,cachePool:M2()}}function Hb(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=ps),i}function Z6(i,o,c){var f=o.pendingProps,y=!1,x=(o.flags&128)!==0,I;if((I=x)||(I=i!==null&&i.memoizedState===null?!1:(Bn.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,i===null){if(Mt){if(y?no(o):ro(),Mt){var L=mn,X;if(X=L){e:{for(X=L,L=ui;X.nodeType!==8;){if(!L){L=null;break e}if(X=Ds(X.nextSibling),X===null){L=null;break e}}L=X}L!==null?(o.memoizedState={dehydrated:L,treeContext:Rl!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},X=zr(18,null,null,0),X.stateNode=L,X.return=o,o.child=X,xr=o,mn=null,X=!0):X=!1}X||Pl(o)}if(L=o.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Cv(L)?o.lanes=32:o.lanes=536870912,null;Ji(o)}return L=f.children,f=f.fallback,y?(ro(),y=o.mode,L=Ip({mode:"hidden",children:L},y),f=Cl(f,y,c,null),L.return=o,f.return=o,L.sibling=f,o.child=L,y=o.child,y.memoizedState=qb(c),y.childLanes=Hb(i,I,c),o.memoizedState=$b,f):(no(o),Gb(o,L))}if(X=i.memoizedState,X!==null&&(L=X.dehydrated,L!==null)){if(x)o.flags&256?(no(o),o.flags&=-257,o=Wb(i,o,c)):o.memoizedState!==null?(ro(),o.child=i.child,o.flags|=128,o=null):(ro(),y=f.fallback,L=o.mode,f=Ip({mode:"visible",children:f.children},L),y=Cl(y,L,c,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,su(o,i.child,null,c),f=o.child,f.memoizedState=qb(c),f.childLanes=Hb(i,I,c),o.memoizedState=$b,o=y);else if(no(o),Cv(L)){if(I=L.nextSibling&&L.nextSibling.dataset,I)var ce=I.dgst;I=ce,f=Error(r(419)),f.stack="",f.digest=I,hf({value:f,source:null,stack:null}),o=Wb(i,o,c)}else if(Gn||mf(i,o,c,!1),I=(c&i.childLanes)!==0,Gn||I){if(I=Qt,I!==null&&(f=c&-c,f=(f&42)!==0?1:Hd(f),f=(f&(I.suspendedLanes|c))!==0?0:f,f!==0&&f!==X.retryLane))throw X.retryLane=f,Wc(i,f),Wr(I,i,f),F6;L.data==="$?"||dv(),o=Wb(i,o,c)}else L.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=X.treeContext,mn=Ds(L.nextSibling),xr=o,Mt=!0,kl=null,ui=!1,i!==null&&(fs[hs++]=Yi,fs[hs++]=Ki,fs[hs++]=Rl,Yi=i.id,Ki=i.overflow,Rl=o),o=Gb(o,f.children),o.flags|=4096);return o}return y?(ro(),y=f.fallback,L=o.mode,X=i.child,ce=X.sibling,f=Wi(X,{mode:"hidden",children:f.children}),f.subtreeFlags=X.subtreeFlags&65011712,ce!==null?y=Wi(ce,y):(y=Cl(y,L,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,L=i.child.memoizedState,L===null?L=qb(c):(X=L.cachePool,X!==null?(ce=Ln._currentValue,X=X.parent!==ce?{parent:ce,pool:ce}:X):X=M2(),L={baseLanes:L.baseLanes|c,cachePool:X}),y.memoizedState=L,y.childLanes=Hb(i,I,c),o.memoizedState=$b,f):(no(o),c=i.child,i=c.sibling,c=Wi(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,i!==null&&(I=o.deletions,I===null?(o.deletions=[i],o.flags|=16):I.push(i)),o.child=c,o.memoizedState=null,c)}function Gb(i,o){return o=Ip({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Ip(i,o){return i=zr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Wb(i,o,c){return su(o,i.child,null,c),i=Gb(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Q6(i,o,c){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),db(i.return,o,c)}function Yb(i,o,c,f,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=y)}function X6(i,o,c){var f=o.pendingProps,y=f.revealOrder,x=f.tail;if(tr(i,o,f.children,c),f=Bn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Q6(i,c,o);else if(i.tag===19)Q6(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(ye(Bn,f),y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&Sp(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Yb(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Sp(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}Yb(o,!0,c,null,x);break;case"together":Yb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ea(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),lo|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(mf(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=Wi(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Wi(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Kb(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&up(i)))}function W9(i,o,c){switch(o.tag){case 3:Ve(o,o.stateNode.containerInfo),Qa(o,Ln,i.memoizedState.cache),ff();break;case 27:case 5:Qe(o);break;case 4:Ve(o,o.stateNode.containerInfo);break;case 10:Qa(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(no(o),o.flags|=128,null):(c&o.child.childLanes)!==0?Z6(i,o,c):(no(o),i=ea(i,o,c),i!==null?i.sibling:null);no(o);break;case 19:var y=(i.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(mf(i,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return X6(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ye(Bn,Bn.current),f)break;return null;case 22:case 23:return o.lanes=0,H6(i,o,c);case 24:Qa(o,Ln,i.memoizedState.cache)}return ea(i,o,c)}function J6(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Gn=!0;else{if(!Kb(i,c)&&(o.flags&128)===0)return Gn=!1,W9(i,o,c);Gn=(i.flags&131072)!==0}else Gn=!1,Mt&&(o.flags&1048576)!==0&&R2(o,cp,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")sb(f)?(i=Vl(f,i),o.tag=1,o=Y6(null,o,f,i,c)):(o.tag=0,o=zb(null,o,f,i,c));else{if(f!=null){if(y=f.$$typeof,y===$){o.tag=11,o=z6(null,o,f,i,c);break e}else if(y===P){o.tag=14,o=$6(null,o,f,i,c);break e}}throw o=me(f)||f,Error(r(306,o,""))}}return o;case 0:return zb(i,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=Vl(f,o.pendingProps),Y6(i,o,f,y,c);case 3:e:{if(Ve(o,o.stateNode.containerInfo),i===null)throw Error(r(387));f=o.pendingProps;var x=o.memoizedState;y=x.element,bb(i,o),wf(o,f,null,c);var I=o.memoizedState;if(f=I.cache,Qa(o,Ln,f),f!==x.cache&&fb(o,[Ln],c,!0),xf(),f=I.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=K6(i,o,f,c);break e}else if(f!==y){y=us(Error(r(424)),o),hf(y),o=K6(i,o,f,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(mn=Ds(i.firstChild),xr=o,Mt=!0,kl=null,ui=!0,c=k6(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ff(),f===y){o=ea(i,o,c);break e}tr(i,o,f,c)}o=o.child}return o;case 26:return Rp(i,o),i===null?(c=rT(o.type,null,o.pendingProps,null))?o.memoizedState=c:Mt||(c=o.type,i=o.pendingProps,f=qp(Oe.current).createElement(c),f[vn]=o,f[er]=i,rr(f,c,i),xn(f),o.stateNode=f):o.memoizedState=rT(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Qe(o),i===null&&Mt&&(f=o.stateNode=eT(o.type,o.pendingProps,Oe.current),xr=o,ui=!0,y=mn,ho(o.type)?(Rv=y,mn=Ds(f.firstChild)):mn=y),tr(i,o,o.pendingProps.children,c),Rp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Mt&&((y=f=mn)&&(f=wO(f,o.type,o.pendingProps,ui),f!==null?(o.stateNode=f,xr=o,mn=Ds(f.firstChild),ui=!1,y=!0):y=!1),y||Pl(o)),Qe(o),y=o.type,x=o.pendingProps,I=i!==null?i.memoizedProps:null,f=x.children,Av(y,x)?f=null:I!==null&&Av(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=Tb(i,o,B9,null,null,c),$f._currentValue=y),Rp(i,o),tr(i,o,f,c),o.child;case 6:return i===null&&Mt&&((i=c=mn)&&(c=_O(c,o.pendingProps,ui),c!==null?(o.stateNode=c,xr=o,mn=null,i=!0):i=!1),i||Pl(o)),null;case 13:return Z6(i,o,c);case 4:return Ve(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=su(o,null,f,c):tr(i,o,f,c),o.child;case 11:return z6(i,o,o.type,o.pendingProps,c);case 7:return tr(i,o,o.pendingProps,c),o.child;case 8:return tr(i,o,o.pendingProps.children,c),o.child;case 12:return tr(i,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,Qa(o,o.type,f.value),tr(i,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Dl(o),y=cr(y),f=f(y),o.flags|=1,tr(i,o,f,c),o.child;case 14:return $6(i,o,o.type,o.pendingProps,c);case 15:return q6(i,o,o.type,o.pendingProps,c);case 19:return X6(i,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},i===null?(c=Ip(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Wi(i.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return H6(i,o,c);case 24:return Dl(o),f=cr(Ln),i===null?(y=pb(),y===null&&(y=Qt,x=hb(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:f,cache:y},yb(o),Qa(o,Ln,y)):((i.lanes&c)!==0&&(bb(i,o),wf(o,null,null,c),xf()),y=i.memoizedState,x=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Qa(o,Ln,f)):(f=x.cache,Qa(o,Ln,f),f!==y.cache&&fb(o,[Ln],c,!0))),tr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ta(i){i.flags|=4}function e5(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lT(o)){if(o=ms.current,o!==null&&((Nt&4194048)===Nt?di!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||o!==di))throw bf=gb,V2;i.flags|=8192}}function kp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?jt():536870912,i.lanes|=o,lu|=o)}function Cf(i,o){if(!Mt)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function dn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=c,o}function Y9(i,o,c){var f=o.pendingProps;switch(lb(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(o),null;case 1:return dn(o),null;case 3:return c=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Qi(Ln),nt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(df(o)?ta(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,P2())),dn(o),null;case 26:return c=o.memoizedState,i===null?(ta(o),c!==null?(dn(o),e5(o,c)):(dn(o),o.flags&=-16777217)):c?c!==i.memoizedState?(ta(o),dn(o),e5(o,c)):(dn(o),o.flags&=-16777217):(i.memoizedProps!==f&&ta(o),dn(o),o.flags&=-16777217),null;case 27:et(o),c=Oe.current;var y=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&ta(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return dn(o),null}i=ge.current,df(o)?I2(o):(i=eT(y,f,c),o.stateNode=i,ta(o))}return dn(o),null;case 5:if(et(o),c=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&ta(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return dn(o),null}if(i=ge.current,df(o))I2(o);else{switch(y=qp(Oe.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}i[vn]=o,i[er]=f;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=i;e:switch(rr(i,c,f),c){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ta(o)}}return dn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&ta(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=Oe.current,df(o)){if(i=o.stateNode,c=o.memoizedProps,f=null,y=xr,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}i[vn]=o,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||W5(i.nodeValue,c)),i||Pl(o)}else i=qp(i).createTextNode(f),i[vn]=o,o.stateNode=i}return dn(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=df(o),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[vn]=o}else ff(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dn(o),y=!1}else y=P2(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ji(o),o):(Ji(o),null)}if(Ji(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,i=i!==null&&i.memoizedState!==null,c){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==y&&(f.flags|=2048)}return c!==i&&c&&(o.child.flags|=8192),kp(o,o.updateQueue),dn(o),null;case 4:return nt(),i===null&&xv(o.stateNode.containerInfo),dn(o),null;case 10:return Qi(o.type),dn(o),null;case 19:if(fe(Bn),y=o.memoizedState,y===null)return dn(o),null;if(f=(o.flags&128)!==0,x=y.rendering,x===null)if(f)Cf(y,!1);else{if(pn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(x=Sp(i),x!==null){for(o.flags|=128,Cf(y,!1),i=x.updateQueue,o.updateQueue=i,kp(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)C2(c,i),c=c.sibling;return ye(Bn,Bn.current&1|2),o.child}i=i.sibling}y.tail!==null&&Kt()>Dp&&(o.flags|=128,f=!0,Cf(y,!1),o.lanes=4194304)}else{if(!f)if(i=Sp(x),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,kp(o,i),Cf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Mt)return dn(o),null}else 2*Kt()-y.renderingStartTime>Dp&&c!==536870912&&(o.flags|=128,f=!0,Cf(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(i=y.last,i!==null?i.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Kt(),o.sibling=null,i=Bn.current,ye(Bn,f?i&1|2:i&1),o):(dn(o),null);case 22:case 23:return Ji(o),_b(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(dn(o),o.subtreeFlags&6&&(o.flags|=8192)):dn(o),c=o.updateQueue,c!==null&&kp(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),i!==null&&fe(jl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Qi(Ln),dn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function K9(i,o){switch(lb(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qi(Ln),nt(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return et(o),null;case 13:if(Ji(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ff()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return fe(Bn),null;case 4:return nt(),null;case 10:return Qi(o.type),null;case 22:case 23:return Ji(o),_b(),i!==null&&fe(jl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Qi(Ln),null;case 25:return null;default:return null}}function t5(i,o){switch(lb(o),o.tag){case 3:Qi(Ln),nt();break;case 26:case 27:case 5:et(o);break;case 4:nt();break;case 13:Ji(o);break;case 19:fe(Bn);break;case 10:Qi(o.type);break;case 22:case 23:Ji(o),_b(),i!==null&&fe(jl);break;case 24:Qi(Ln)}}function Rf(i,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&i)===i){f=void 0;var x=c.create,I=c.inst;f=x(),I.destroy=f}c=c.next}while(c!==y)}}catch(L){Yt(o,o.return,L)}}function so(i,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var x=y.next;f=x;do{if((f.tag&i)===i){var I=f.inst,L=I.destroy;if(L!==void 0){I.destroy=void 0,y=o;var X=c,ce=L;try{ce()}catch(xe){Yt(y,X,xe)}}}f=f.next}while(f!==x)}}catch(xe){Yt(o,o.return,xe)}}function n5(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{$2(o,c)}catch(f){Yt(i,i.return,f)}}}function r5(i,o,c){c.props=Vl(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){Yt(i,o,f)}}function If(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(y){Yt(i,o,y)}}function fi(i,o){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Yt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Yt(i,o,y)}else c.current=null}function s5(i){var o=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Yt(i,i.return,y)}}function Zb(i,o,c){try{var f=i.stateNode;gO(f,i.type,c,o),f[er]=o}catch(y){Yt(i,i.return,y)}}function i5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ho(i.type)||i.tag===4}function Qb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||i5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ho(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xb(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=$p));else if(f!==4&&(f===27&&ho(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(Xb(i,o,c),i=i.sibling;i!==null;)Xb(i,o,c),i=i.sibling}function Pp(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(f!==4&&(f===27&&ho(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Pp(i,o,c),i=i.sibling;i!==null;)Pp(i,o,c),i=i.sibling}function a5(i){var o=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);rr(o,f,c),o[vn]=i,o[er]=c}catch(x){Yt(i,i.return,x)}}var na=!1,En=!1,Jb=!1,o5=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function Z9(i,o){if(i=i.containerInfo,Ev=Zp,i=b2(i),Qy(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var I=0,L=-1,X=-1,ce=0,xe=0,Te=i,de=null;t:for(;;){for(var he;Te!==c||y!==0&&Te.nodeType!==3||(L=I+y),Te!==x||f!==0&&Te.nodeType!==3||(X=I+f),Te.nodeType===3&&(I+=Te.nodeValue.length),(he=Te.firstChild)!==null;)de=Te,Te=he;for(;;){if(Te===i)break t;if(de===c&&++ce===y&&(L=I),de===x&&++xe===f&&(X=I),(he=Te.nextSibling)!==null)break;Te=de,de=Te.parentNode}Te=he}c=L===-1||X===-1?null:{start:L,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(Tv={focusedElem:i,selectionRange:c},Zp=!1,Wn=o;Wn!==null;)if(o=Wn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Wn=i;else for(;Wn!==null;){switch(o=Wn,x=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,f=c.stateNode;try{var lt=Vl(c.type,y,c.elementType===c.type);i=f.getSnapshotBeforeUpdate(lt,x),f.__reactInternalSnapshotBeforeUpdate=i}catch(Je){Yt(c,c.return,Je)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)Nv(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Wn=i;break}Wn=o.return}}function l5(i,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:io(i,c),f&4&&Rf(5,c);break;case 1:if(io(i,c),f&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(I){Yt(c,c.return,I)}else{var y=Vl(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Yt(c,c.return,I)}}f&64&&n5(c),f&512&&If(c,c.return);break;case 3:if(io(i,c),f&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{$2(i,o)}catch(I){Yt(c,c.return,I)}}break;case 27:o===null&&f&4&&a5(c);case 26:case 5:io(i,c),o===null&&f&4&&s5(c),f&512&&If(c,c.return);break;case 12:io(i,c);break;case 13:io(i,c),f&4&&d5(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=iO.bind(null,c),EO(i,c))));break;case 22:if(f=c.memoizedState!==null||na,!f){o=o!==null&&o.memoizedState!==null||En,y=na;var x=En;na=f,(En=o)&&!x?ao(i,c,(c.subtreeFlags&8772)!==0):io(i,c),na=y,En=x}break;case 30:break;default:io(i,c)}}function c5(i){var o=i.alternate;o!==null&&(i.alternate=null,c5(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Pc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var on=null,Sr=!1;function ra(i,o,c){for(c=c.child;c!==null;)u5(i,o,c),c=c.sibling}function u5(i,o,c){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Be,c)}catch{}switch(c.tag){case 26:En||fi(c,o),ra(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:En||fi(c,o);var f=on,y=Sr;ho(c.type)&&(on=c.stateNode,Sr=!1),ra(i,o,c),Bf(c.stateNode),on=f,Sr=y;break;case 5:En||fi(c,o);case 6:if(f=on,y=Sr,on=null,ra(i,o,c),on=f,Sr=y,on!==null)if(Sr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(c.stateNode)}catch(x){Yt(c,o,x)}else try{on.removeChild(c.stateNode)}catch(x){Yt(c,o,x)}break;case 18:on!==null&&(Sr?(i=on,X5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Wf(i)):X5(on,c.stateNode));break;case 4:f=on,y=Sr,on=c.stateNode.containerInfo,Sr=!0,ra(i,o,c),on=f,Sr=y;break;case 0:case 11:case 14:case 15:En||so(2,c,o),En||so(4,c,o),ra(i,o,c);break;case 1:En||(fi(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&r5(c,o,f)),ra(i,o,c);break;case 21:ra(i,o,c);break;case 22:En=(f=En)||c.memoizedState!==null,ra(i,o,c),En=f;break;default:ra(i,o,c)}}function d5(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wf(i)}catch(c){Yt(o,o.return,c)}}function Q9(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new o5),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new o5),o;default:throw Error(r(435,i.tag))}}function ev(i,o){var c=Q9(i);o.forEach(function(f){var y=aO.bind(null,i,f);c.has(f)||(c.add(f),f.then(y,y))})}function $r(i,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],x=i,I=o,L=I;e:for(;L!==null;){switch(L.tag){case 27:if(ho(L.type)){on=L.stateNode,Sr=!1;break e}break;case 5:on=L.stateNode,Sr=!1;break e;case 3:case 4:on=L.stateNode.containerInfo,Sr=!0;break e}L=L.return}if(on===null)throw Error(r(160));u5(x,I,y),on=null,Sr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)f5(o,i),o=o.sibling}var Os=null;function f5(i,o){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$r(o,i),qr(i),f&4&&(so(3,i,i.return),Rf(3,i),so(5,i,i.return));break;case 1:$r(o,i),qr(i),f&512&&(En||c===null||fi(c,c.return)),f&64&&na&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Os;if($r(o,i),qr(i),f&512&&(En||c===null||fi(c,c.return)),f&4){var x=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Fa]||x[vn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(f),y.head.insertBefore(x,y.querySelector("head > title"))),rr(x,f,c),x[vn]=i,xn(x),f=x;break e;case"link":var I=aT("link","href",y).get(f+(c.href||""));if(I){for(var L=0;L<I.length;L++)if(x=I[L],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(L,1);break t}}x=y.createElement(f),rr(x,f,c),y.head.appendChild(x);break;case"meta":if(I=aT("meta","content",y).get(f+(c.content||""))){for(L=0;L<I.length;L++)if(x=I[L],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(L,1);break t}}x=y.createElement(f),rr(x,f,c),y.head.appendChild(x);break;default:throw Error(r(468,f))}x[vn]=i,xn(x),f=x}i.stateNode=f}else oT(y,i.type,i.stateNode);else i.stateNode=iT(y,f,i.memoizedProps);else x!==f?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,f===null?oT(y,i.type,i.stateNode):iT(y,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Zb(i,i.memoizedProps,c.memoizedProps)}break;case 27:$r(o,i),qr(i),f&512&&(En||c===null||fi(c,c.return)),c!==null&&f&4&&Zb(i,i.memoizedProps,c.memoizedProps);break;case 5:if($r(o,i),qr(i),f&512&&(En||c===null||fi(c,c.return)),i.flags&32){y=i.stateNode;try{ls(y,"")}catch(he){Yt(i,i.return,he)}}f&4&&i.stateNode!=null&&(y=i.memoizedProps,Zb(i,y,c!==null?c.memoizedProps:y)),f&1024&&(Jb=!0);break;case 6:if($r(o,i),qr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(he){Yt(i,i.return,he)}}break;case 3:if(Wp=null,y=Os,Os=Hp(o.containerInfo),$r(o,i),Os=y,qr(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Wf(o.containerInfo)}catch(he){Yt(i,i.return,he)}Jb&&(Jb=!1,h5(i));break;case 4:f=Os,Os=Hp(i.stateNode.containerInfo),$r(o,i),qr(i),Os=f;break;case 12:$r(o,i),qr(i);break;case 13:$r(o,i),qr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(av=Kt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,ev(i,f)));break;case 22:y=i.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,ce=na,xe=En;if(na=ce||y,En=xe||X,$r(o,i),En=xe,na=ce,qr(i),f&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||X||na||En||Ll(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){X=c=o;try{if(x=X.stateNode,y)I=x.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{L=X.stateNode;var Te=X.memoizedProps.style,de=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;L.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(he){Yt(X,X.return,he)}}}else if(o.tag===6){if(c===null){X=o;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(he){Yt(X,X.return,he)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,ev(i,c))));break;case 19:$r(o,i),qr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,ev(i,f)));break;case 30:break;case 21:break;default:$r(o,i),qr(i)}}function qr(i){var o=i.flags;if(o&2){try{for(var c,f=i.return;f!==null;){if(i5(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=Qb(i);Pp(i,x,y);break;case 5:var I=c.stateNode;c.flags&32&&(ls(I,""),c.flags&=-33);var L=Qb(i);Pp(i,L,I);break;case 3:case 4:var X=c.stateNode.containerInfo,ce=Qb(i);Xb(i,ce,X);break;default:throw Error(r(161))}}catch(xe){Yt(i,i.return,xe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function h5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;h5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function io(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)l5(i,o.alternate,o),o=o.sibling}function Ll(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:so(4,o,o.return),Ll(o);break;case 1:fi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&r5(o,o.return,c),Ll(o);break;case 27:Bf(o.stateNode);case 26:case 5:fi(o,o.return),Ll(o);break;case 22:o.memoizedState===null&&Ll(o);break;case 30:Ll(o);break;default:Ll(o)}i=i.sibling}}function ao(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=i,x=o,I=x.flags;switch(x.tag){case 0:case 11:case 15:ao(y,x,c),Rf(4,x);break;case 1:if(ao(y,x,c),f=x,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ce){Yt(f,f.return,ce)}if(f=x,y=f.updateQueue,y!==null){var L=f.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)z2(X[y],L)}catch(ce){Yt(f,f.return,ce)}}c&&I&64&&n5(x),If(x,x.return);break;case 27:a5(x);case 26:case 5:ao(y,x,c),c&&f===null&&I&4&&s5(x),If(x,x.return);break;case 12:ao(y,x,c);break;case 13:ao(y,x,c),c&&I&4&&d5(y,x);break;case 22:x.memoizedState===null&&ao(y,x,c),If(x,x.return);break;case 30:break;default:ao(y,x,c)}o=o.sibling}}function tv(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&pf(c))}function nv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pf(i))}function hi(i,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)m5(i,o,c,f),o=o.sibling}function m5(i,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:hi(i,o,c,f),y&2048&&Rf(9,o);break;case 1:hi(i,o,c,f);break;case 3:hi(i,o,c,f),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pf(i)));break;case 12:if(y&2048){hi(i,o,c,f),i=o.stateNode;try{var x=o.memoizedProps,I=x.id,L=x.onPostCommit;typeof L=="function"&&L(I,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){Yt(o,o.return,X)}}else hi(i,o,c,f);break;case 13:hi(i,o,c,f);break;case 23:break;case 22:x=o.stateNode,I=o.alternate,o.memoizedState!==null?x._visibility&2?hi(i,o,c,f):kf(i,o):x._visibility&2?hi(i,o,c,f):(x._visibility|=2,iu(i,o,c,f,(o.subtreeFlags&10256)!==0)),y&2048&&tv(I,o);break;case 24:hi(i,o,c,f),y&2048&&nv(o.alternate,o);break;default:hi(i,o,c,f)}}function iu(i,o,c,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=i,I=o,L=c,X=f,ce=I.flags;switch(I.tag){case 0:case 11:case 15:iu(x,I,L,X,y),Rf(8,I);break;case 23:break;case 22:var xe=I.stateNode;I.memoizedState!==null?xe._visibility&2?iu(x,I,L,X,y):kf(x,I):(xe._visibility|=2,iu(x,I,L,X,y)),y&&ce&2048&&tv(I.alternate,I);break;case 24:iu(x,I,L,X,y),y&&ce&2048&&nv(I.alternate,I);break;default:iu(x,I,L,X,y)}o=o.sibling}}function kf(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,f=o,y=f.flags;switch(f.tag){case 22:kf(c,f),y&2048&&tv(f.alternate,f);break;case 24:kf(c,f),y&2048&&nv(f.alternate,f);break;default:kf(c,f)}o=o.sibling}}var Pf=8192;function au(i){if(i.subtreeFlags&Pf)for(i=i.child;i!==null;)p5(i),i=i.sibling}function p5(i){switch(i.tag){case 26:au(i),i.flags&Pf&&i.memoizedState!==null&&MO(Os,i.memoizedState,i.memoizedProps);break;case 5:au(i);break;case 3:case 4:var o=Os;Os=Hp(i.stateNode.containerInfo),au(i),Os=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Pf,Pf=16777216,au(i),Pf=o):au(i));break;default:au(i)}}function g5(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Of(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Wn=f,b5(f,i)}g5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y5(i),i=i.sibling}function y5(i){switch(i.tag){case 0:case 11:case 15:Of(i),i.flags&2048&&so(9,i,i.return);break;case 3:Of(i);break;case 12:Of(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Op(i)):Of(i);break;default:Of(i)}}function Op(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Wn=f,b5(f,i)}g5(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:so(8,o,o.return),Op(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Op(o));break;default:Op(o)}i=i.sibling}}function b5(i,o){for(;Wn!==null;){var c=Wn;switch(c.tag){case 0:case 11:case 15:so(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:pf(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Wn=f;else e:for(c=i;Wn!==null;){f=Wn;var y=f.sibling,x=f.return;if(c5(f),f===c){Wn=null;break e}if(y!==null){y.return=x,Wn=y;break e}Wn=x}}}var X9={getCacheForType:function(i){var o=cr(Ln),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c}},J9=typeof WeakMap=="function"?WeakMap:Map,zt=0,Qt=null,wt=null,Nt=0,$t=0,Hr=null,oo=!1,ou=!1,rv=!1,sa=0,pn=0,lo=0,Bl=0,sv=0,ps=0,lu=0,Df=null,Nr=null,iv=!1,av=0,Dp=1/0,jp=null,co=null,nr=0,uo=null,cu=null,uu=0,ov=0,lv=null,v5=null,jf=0,cv=null;function Gr(){if((zt&2)!==0&&Nt!==0)return Nt&-Nt;if(Y.T!==null){var i=Qc;return i!==0?i:gv()}return Ui()}function x5(){ps===0&&(ps=(Nt&536870912)===0||Mt?Bt():536870912);var i=ms.current;return i!==null&&(i.flags|=32),ps}function Wr(i,o,c){(i===Qt&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(du(i,0),fo(i,Nt,ps,!1)),bn(i,c),((zt&2)===0||i!==Qt)&&(i===Qt&&((zt&2)===0&&(Bl|=c),pn===4&&fo(i,Nt,ps,!1)),mi(i))}function w5(i,o,c){if((zt&6)!==0)throw Error(r(327));var f=!c&&(o&124)===0&&(o&i.expiredLanes)===0||ot(i,o),y=f?nO(i,o):fv(i,o,!0),x=f;do{if(y===0){ou&&!f&&fo(i,o,0,!1);break}else{if(c=i.current.alternate,x&&!eO(c)){y=fv(i,o,!1),x=!1;continue}if(y===2){if(x=o,i.errorRecoveryDisabledLanes&x)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var L=i;y=Df;var X=L.current.memoizedState.isDehydrated;if(X&&(du(L,I).flags|=256),I=fv(L,I,!1),I!==2){if(rv&&!X){L.errorRecoveryDisabledLanes|=x,Bl|=x,y=4;break e}x=Nr,Nr=y,x!==null&&(Nr===null?Nr=x:Nr.push.apply(Nr,x))}y=I}if(x=!1,y!==2)continue}}if(y===1){du(i,0),fo(i,o,0,!0);break}e:{switch(f=i,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:fo(f,o,ps,!oo);break e;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=av+300-Kt(),10<y)){if(fo(f,o,ps,!oo),ve(f,0,!0)!==0)break e;f.timeoutHandle=Z5(_5.bind(null,f,c,Nr,jp,iv,o,ps,Bl,lu,oo,x,2,-0,0),y);break e}_5(f,c,Nr,jp,iv,o,ps,Bl,lu,oo,x,0,-0,0)}}break}while(!0);mi(i)}function _5(i,o,c,f,y,x,I,L,X,ce,xe,Te,de,he){if(i.timeoutHandle=-1,Te=o.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(zf={stylesheets:null,count:0,unsuspend:jO},p5(o),Te=VO(),Te!==null)){i.cancelPendingCommit=Te(R5.bind(null,i,o,x,c,f,y,I,L,X,xe,1,de,he)),fo(i,x,I,!ce);return}R5(i,o,x,c,f,y,I,L,X)}function eO(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],x=y.getSnapshot;y=y.value;try{if(!Fr(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fo(i,o,c,f){o&=~sv,o&=~Bl,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var y=o;0<y;){var x=31-Lt(y),I=1<<x;f[x]=-1,y&=~I}c!==0&&Ba(i,c,o)}function Mp(){return(zt&6)===0?(Mf(0),!1):!0}function uv(){if(wt!==null){if($t===0)var i=wt.return;else i=wt,Zi=Ol=null,Nb(i),ru=null,Sf=0,i=wt;for(;i!==null;)t5(i.alternate,i),i=i.return;wt=null}}function du(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,bO(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),uv(),Qt=i,wt=c=Wi(i.current,null),Nt=o,$t=0,Hr=null,oo=!1,ou=ot(i,o),rv=!1,lu=ps=sv=Bl=lo=pn=0,Nr=Df=null,iv=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var y=31-Lt(f),x=1<<y;o|=i[y],f&=~x}return sa=o,sp(),c}function E5(i,o){gt=null,Y.H=Ep,o===yf||o===hp?(o=U2(),$t=3):o===V2?(o=U2(),$t=4):$t=o===F6?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Hr=o,wt===null&&(pn=1,Cp(i,us(o,i.current)))}function T5(){var i=Y.H;return Y.H=Ep,i===null?Ep:i}function A5(){var i=Y.A;return Y.A=X9,i}function dv(){pn=4,oo||(Nt&4194048)!==Nt&&ms.current!==null||(ou=!0),(lo&134217727)===0&&(Bl&134217727)===0||Qt===null||fo(Qt,Nt,ps,!1)}function fv(i,o,c){var f=zt;zt|=2;var y=T5(),x=A5();(Qt!==i||Nt!==o)&&(jp=null,du(i,o)),o=!1;var I=pn;e:do try{if($t!==0&&wt!==null){var L=wt,X=Hr;switch($t){case 8:uv(),I=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(o=!0);var ce=$t;if($t=0,Hr=null,fu(i,L,X,ce),c&&ou){I=0;break e}break;default:ce=$t,$t=0,Hr=null,fu(i,L,X,ce)}}tO(),I=pn;break}catch(xe){E5(i,xe)}while(!0);return o&&i.shellSuspendCounter++,Zi=Ol=null,zt=f,Y.H=y,Y.A=x,wt===null&&(Qt=null,Nt=0,sp()),I}function tO(){for(;wt!==null;)S5(wt)}function nO(i,o){var c=zt;zt|=2;var f=T5(),y=A5();Qt!==i||Nt!==o?(jp=null,Dp=Kt()+500,du(i,o)):ou=ot(i,o);e:do try{if($t!==0&&wt!==null){o=wt;var x=Hr;t:switch($t){case 1:$t=0,Hr=null,fu(i,o,x,1);break;case 2:case 9:if(L2(x)){$t=0,Hr=null,N5(o);break}o=function(){$t!==2&&$t!==9||Qt!==i||($t=7),mi(i)},x.then(o,o);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:L2(x)?($t=0,Hr=null,N5(o)):($t=0,Hr=null,fu(i,o,x,7));break;case 5:var I=null;switch(wt.tag){case 26:I=wt.memoizedState;case 5:case 27:var L=wt;if(!I||lT(I)){$t=0,Hr=null;var X=L.sibling;if(X!==null)wt=X;else{var ce=L.return;ce!==null?(wt=ce,Vp(ce)):wt=null}break t}}$t=0,Hr=null,fu(i,o,x,5);break;case 6:$t=0,Hr=null,fu(i,o,x,6);break;case 8:uv(),pn=6;break e;default:throw Error(r(462))}}rO();break}catch(xe){E5(i,xe)}while(!0);return Zi=Ol=null,Y.H=f,Y.A=y,zt=c,wt!==null?0:(Qt=null,Nt=0,sp(),pn)}function rO(){for(;wt!==null&&!Rn();)S5(wt)}function S5(i){var o=J6(i.alternate,i,sa);i.memoizedProps=i.pendingProps,o===null?Vp(i):wt=o}function N5(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=W6(c,o,o.pendingProps,o.type,void 0,Nt);break;case 11:o=W6(c,o,o.pendingProps,o.type.render,o.ref,Nt);break;case 5:Nb(o);default:t5(c,o),o=wt=C2(o,sa),o=J6(c,o,sa)}i.memoizedProps=i.pendingProps,o===null?Vp(i):wt=o}function fu(i,o,c,f){Zi=Ol=null,Nb(o),ru=null,Sf=0;var y=o.return;try{if(G9(i,y,o,c,Nt)){pn=1,Cp(i,us(c,i.current)),wt=null;return}}catch(x){if(y!==null)throw wt=y,x;pn=1,Cp(i,us(c,i.current)),wt=null;return}o.flags&32768?(Mt||f===1?i=!0:ou||(Nt&536870912)!==0?i=!1:(oo=i=!0,(f===2||f===9||f===3||f===6)&&(f=ms.current,f!==null&&f.tag===13&&(f.flags|=16384))),C5(o,i)):Vp(o)}function Vp(i){var o=i;do{if((o.flags&32768)!==0){C5(o,oo);return}i=o.return;var c=Y9(o.alternate,o,sa);if(c!==null){wt=c;return}if(o=o.sibling,o!==null){wt=o;return}wt=o=i}while(o!==null);pn===0&&(pn=5)}function C5(i,o){do{var c=K9(i.alternate,i);if(c!==null){c.flags&=32767,wt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){wt=i;return}wt=i=c}while(i!==null);pn=6,wt=null}function R5(i,o,c,f,y,x,I,L,X){i.cancelPendingCommit=null;do Lp();while(nr!==0);if((zt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=nb,Fm(i,c,x,I,L,X),i===Qt&&(wt=Qt=null,Nt=0),cu=o,uo=i,uu=c,ov=x,lv=y,v5=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oO(le,function(){return D5(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,y=Q.p,Q.p=2,I=zt,zt|=4;try{Z9(i,o,c)}finally{zt=I,Q.p=y,Y.T=f}}nr=1,I5(),k5(),P5()}}function I5(){if(nr===1){nr=0;var i=uo,o=cu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var f=Q.p;Q.p=2;var y=zt;zt|=4;try{f5(o,i);var x=Tv,I=b2(i.containerInfo),L=x.focusedElem,X=x.selectionRange;if(I!==L&&L&&L.ownerDocument&&y2(L.ownerDocument.documentElement,L)){if(X!==null&&Qy(L)){var ce=X.start,xe=X.end;if(xe===void 0&&(xe=ce),"selectionStart"in L)L.selectionStart=ce,L.selectionEnd=Math.min(xe,L.value.length);else{var Te=L.ownerDocument||document,de=Te&&Te.defaultView||window;if(de.getSelection){var he=de.getSelection(),lt=L.textContent.length,Je=Math.min(X.start,lt),Wt=X.end===void 0?Je:Math.min(X.end,lt);!he.extend&&Je>Wt&&(I=Wt,Wt=Je,Je=I);var re=g2(L,Je),ee=g2(L,Wt);if(re&&ee&&(he.rangeCount!==1||he.anchorNode!==re.node||he.anchorOffset!==re.offset||he.focusNode!==ee.node||he.focusOffset!==ee.offset)){var ae=Te.createRange();ae.setStart(re.node,re.offset),he.removeAllRanges(),Je>Wt?(he.addRange(ae),he.extend(ee.node,ee.offset)):(ae.setEnd(ee.node,ee.offset),he.addRange(ae))}}}}for(Te=[],he=L;he=he.parentNode;)he.nodeType===1&&Te.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Te.length;L++){var we=Te[L];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Zp=!!Ev,Tv=Ev=null}finally{zt=y,Q.p=f,Y.T=c}}i.current=o,nr=2}}function k5(){if(nr===2){nr=0;var i=uo,o=cu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var f=Q.p;Q.p=2;var y=zt;zt|=4;try{l5(i,o.alternate,o)}finally{zt=y,Q.p=f,Y.T=c}}nr=3}}function P5(){if(nr===4||nr===3){nr=0,yn();var i=uo,o=cu,c=uu,f=v5;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?nr=5:(nr=0,cu=uo=null,O5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(co=null),Gd(c),o=o.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Be,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Y.T,y=Q.p,Q.p=2,Y.T=null;try{for(var x=i.onRecoverableError,I=0;I<f.length;I++){var L=f[I];x(L.value,{componentStack:L.stack})}}finally{Y.T=o,Q.p=y}}(uu&3)!==0&&Lp(),mi(i),y=i.pendingLanes,(c&4194090)!==0&&(y&42)!==0?i===cv?jf++:(jf=0,cv=i):jf=0,Mf(0)}}function O5(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,pf(o)))}function Lp(i){return I5(),k5(),P5(),D5()}function D5(){if(nr!==5)return!1;var i=uo,o=ov;ov=0;var c=Gd(uu),f=Y.T,y=Q.p;try{Q.p=32>c?32:c,Y.T=null,c=lv,lv=null;var x=uo,I=uu;if(nr=0,cu=uo=null,uu=0,(zt&6)!==0)throw Error(r(331));var L=zt;if(zt|=4,y5(x.current),m5(x,x.current,I,c),zt=L,Mf(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Be,x)}catch{}return!0}finally{Q.p=y,Y.T=f,O5(i,o)}}function j5(i,o,c){o=us(c,o),o=Fb(i.stateNode,o,2),i=eo(i,o,2),i!==null&&(bn(i,2),mi(i))}function Yt(i,o,c){if(i.tag===3)j5(i,i,c);else for(;o!==null;){if(o.tag===3){j5(o,i,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(co===null||!co.has(f))){i=us(c,i),c=B6(2),f=eo(o,c,2),f!==null&&(U6(c,f,o,i),bn(f,2),mi(f));break}}o=o.return}}function hv(i,o,c){var f=i.pingCache;if(f===null){f=i.pingCache=new J9;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(rv=!0,y.add(c),i=sO.bind(null,i,o,c),o.then(i,i))}function sO(i,o,c){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Qt===i&&(Nt&c)===c&&(pn===4||pn===3&&(Nt&62914560)===Nt&&300>Kt()-av?(zt&2)===0&&du(i,0):sv|=c,lu===Nt&&(lu=0)),mi(i)}function M5(i,o){o===0&&(o=jt()),i=Wc(i,o),i!==null&&(bn(i,o),mi(i))}function iO(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),M5(i,c)}function aO(i,o){var c=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),M5(i,c)}function oO(i,o){return Xe(i,o)}var Bp=null,hu=null,mv=!1,Up=!1,pv=!1,Ul=0;function mi(i){i!==hu&&i.next===null&&(hu===null?Bp=hu=i:hu=hu.next=i),Up=!0,mv||(mv=!0,cO())}function Mf(i,o){if(!pv&&Up){pv=!0;do for(var c=!1,f=Bp;f!==null;){if(i!==0){var y=f.pendingLanes;if(y===0)var x=0;else{var I=f.suspendedLanes,L=f.pingedLanes;x=(1<<31-Lt(42|i)+1)-1,x&=y&~(I&~L),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,U5(f,x))}else x=Nt,x=ve(f,f===Qt?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||ot(f,x)||(c=!0,U5(f,x));f=f.next}while(c);pv=!1}}function lO(){V5()}function V5(){Up=mv=!1;var i=0;Ul!==0&&(yO()&&(i=Ul),Ul=0);for(var o=Kt(),c=null,f=Bp;f!==null;){var y=f.next,x=L5(f,o);x===0?(f.next=null,c===null?Bp=y:c.next=y,y===null&&(hu=c)):(c=f,(i!==0||(x&3)!==0)&&(Up=!0)),f=y}Mf(i)}function L5(i,o){for(var c=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var I=31-Lt(x),L=1<<I,X=y[I];X===-1?((L&c)===0||(L&f)!==0)&&(y[I]=kt(L,o)):X<=o&&(i.expiredLanes|=L),x&=~L}if(o=Qt,c=Nt,c=ve(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===o&&($t===2||$t===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Dt(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ot(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(f!==null&&Dt(f),Gd(c)){case 2:case 8:c=J;break;case 32:c=le;break;case 268435456:c=De;break;default:c=le}return f=B5.bind(null,i),c=Xe(c,f),i.callbackPriority=o,i.callbackNode=c,o}return f!==null&&f!==null&&Dt(f),i.callbackPriority=2,i.callbackNode=null,2}function B5(i,o){if(nr!==0&&nr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Lp()&&i.callbackNode!==c)return null;var f=Nt;return f=ve(i,i===Qt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(w5(i,f,o),L5(i,Kt()),i.callbackNode!=null&&i.callbackNode===c?B5.bind(null,i):null)}function U5(i,o){if(Lp())return null;w5(i,o,!0)}function cO(){vO(function(){(zt&6)!==0?Xe(an,lO):V5()})}function gv(){return Ul===0&&(Ul=Bt()),Ul}function F5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Cs(""+i)}function z5(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function uO(i,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var x=F5((y[er]||null).action),I=f.submitter;I&&(o=(o=I[er]||null)?F5(o.formAction):I.getAttribute("formAction"),o!==null&&(x=o,I=null));var L=new vl("action","action",null,f,y);i.push({event:L,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ul!==0){var X=I?z5(y,I):new FormData(y);Mb(c,{pending:!0,data:X,method:y.method,action:x},null,X)}}else typeof x=="function"&&(L.preventDefault(),X=I?z5(y,I):new FormData(y),Mb(c,{pending:!0,data:X,method:y.method,action:x},x,X))},currentTarget:y}]})}}for(var yv=0;yv<tb.length;yv++){var bv=tb[yv],dO=bv.toLowerCase(),fO=bv[0].toUpperCase()+bv.slice(1);Ps(dO,"on"+fO)}Ps(w2,"onAnimationEnd"),Ps(_2,"onAnimationIteration"),Ps(E2,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(R9,"onTransitionRun"),Ps(I9,"onTransitionStart"),Ps(k9,"onTransitionCancel"),Ps(T2,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vf));function $5(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],y=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var I=f.length-1;0<=I;I--){var L=f[I],X=L.instance,ce=L.currentTarget;if(L=L.listener,X!==x&&y.isPropagationStopped())break e;x=L,y.currentTarget=ce;try{x(y)}catch(xe){Np(xe)}y.currentTarget=null,x=X}else for(I=0;I<f.length;I++){if(L=f[I],X=L.instance,ce=L.currentTarget,L=L.listener,X!==x&&y.isPropagationStopped())break e;x=L,y.currentTarget=ce;try{x(y)}catch(xe){Np(xe)}y.currentTarget=null,x=X}}}}function _t(i,o){var c=o[al];c===void 0&&(c=o[al]=new Set);var f=i+"__bubble";c.has(f)||(q5(o,i,2,!1),c.add(f))}function vv(i,o,c){var f=0;o&&(f|=4),q5(c,i,f,o)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function xv(i){if(!i[Fp]){i[Fp]=!0,zm.forEach(function(c){c!=="selectionchange"&&(hO.has(c)||vv(c,!1,i),vv(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Fp]||(o[Fp]=!0,vv("selectionchange",!1,o))}}function q5(i,o,c,f){switch(mT(o)){case 2:var y=UO;break;case 8:y=FO;break;default:y=Dv}c=y.bind(null,o,c,i),y=void 0,!Hi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function wv(i,o,c,f,y){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var L=f.stateNode.containerInfo;if(L===y)break;if(I===4)for(I=f.return;I!==null;){var X=I.tag;if((X===3||X===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;L!==null;){if(I=ri(L),I===null)return;if(X=I.tag,X===5||X===6||X===26||X===27){f=x=I;continue e}L=L.parentNode}}f=f.return}gl(function(){var ce=x,xe=Jd(c),Te=[];e:{var de=A2.get(i);if(de!==void 0){var he=vl,lt=i;switch(i){case"keypress":if(yl(c)===0)break e;case"keydown":case"keyup":he=$c;break;case"focusin":lt="focus",he=Uc;break;case"focusout":lt="blur",he=Uc;break;case"beforeblur":case"afterblur":he=Uc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Za;break;case w2:case _2:case E2:he=tf;break;case T2:he=_;break;case"scroll":case"scrollend":he=wl;break;case"wheel":he=H;break;case"copy":case"cut":case"paste":he=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=sf;break;case"toggle":case"beforetoggle":he=pe}var Je=(o&4)!==0,Wt=!Je&&(i==="scroll"||i==="scrollend"),re=Je?de!==null?de+"Capture":null:de;Je=[];for(var ee=ce,ae;ee!==null;){var we=ee;if(ae=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ae===null||re===null||(we=Ya(ee,re),we!=null&&Je.push(Lf(ee,we,ae))),Wt)break;ee=ee.return}0<Je.length&&(de=new he(de,lt,null,c,xe),Te.push({event:de,listeners:Je}))}}if((o&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",de&&c!==Xd&&(lt=c.relatedTarget||c.fromElement)&&(ri(lt)||lt[Fi]))break e;if((he||de)&&(de=xe.window===xe?xe:(de=xe.ownerDocument)?de.defaultView||de.parentWindow:window,he?(lt=c.relatedTarget||c.toElement,he=ce,lt=lt?ri(lt):null,lt!==null&&(Wt=a(lt),Je=lt.tag,lt!==Wt||Je!==5&&Je!==27&&Je!==6)&&(lt=null)):(he=null,lt=ce),he!==lt)){if(Je=Tl,we="onMouseLeave",re="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&(Je=sf,we="onPointerLeave",re="onPointerEnter",ee="pointer"),Wt=he==null?de:za(he),ae=lt==null?de:za(lt),de=new Je(we,ee+"leave",he,c,xe),de.target=Wt,de.relatedTarget=ae,we=null,ri(xe)===ce&&(Je=new Je(re,ee+"enter",lt,c,xe),Je.target=ae,Je.relatedTarget=Wt,we=Je),Wt=we,he&&lt)t:{for(Je=he,re=lt,ee=0,ae=Je;ae;ae=mu(ae))ee++;for(ae=0,we=re;we;we=mu(we))ae++;for(;0<ee-ae;)Je=mu(Je),ee--;for(;0<ae-ee;)re=mu(re),ae--;for(;ee--;){if(Je===re||re!==null&&Je===re.alternate)break t;Je=mu(Je),re=mu(re)}Je=null}else Je=null;he!==null&&H5(Te,de,he,Je,!1),lt!==null&&Wt!==null&&H5(Te,Wt,lt,Je,!0)}}e:{if(de=ce?za(ce):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var Ue=u2;else if(l2(de))if(d2)Ue=S9;else{Ue=T9;var bt=E9}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Vc(ce.elementType)&&(Ue=u2):Ue=A9;if(Ue&&(Ue=Ue(i,ce))){c2(Te,Ue,c,xe);break e}bt&&bt(i,de,ce),i==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Kd(de,"number",de.value)}switch(bt=ce?za(ce):window,i){case"focusin":(l2(bt)||bt.contentEditable==="true")&&(qc=bt,Xy=ce,uf=null);break;case"focusout":uf=Xy=qc=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,v2(Te,c,xe);break;case"selectionchange":if(C9)break;case"keydown":case"keyup":v2(Te,c,xe)}var We;if(dt)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else ks?Rs(i,c)&&(tt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(tt="onCompositionStart");tt&&(wn&&c.locale!=="ko"&&(ks||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&ks&&(We=Ym()):(cs=xe,Zt="value"in cs?cs.value:cs.textContent,ks=!0)),bt=zp(ce,tt),0<bt.length&&(tt=new rf(tt,i,null,c,xe),Te.push({event:tt,listeners:bt}),We?tt.data=We:(We=Is(c),We!==null&&(tt.data=We)))),(We=Ft?af(i,c):x9(i,c))&&(tt=zp(ce,"onBeforeInput"),0<tt.length&&(bt=new rf("onBeforeInput","beforeinput",null,c,xe),Te.push({event:bt,listeners:tt}),bt.data=We)),uO(Te,i,ce,c,xe)}$5(Te,o)})}function Lf(i,o,c){return{instance:i,listener:o,currentTarget:c}}function zp(i,o){for(var c=o+"Capture",f=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Ya(i,c),y!=null&&f.unshift(Lf(i,y,x)),y=Ya(i,o),y!=null&&f.push(Lf(i,y,x))),i.tag===3)return f;i=i.return}return[]}function mu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function H5(i,o,c,f,y){for(var x=o._reactName,I=[];c!==null&&c!==f;){var L=c,X=L.alternate,ce=L.stateNode;if(L=L.tag,X!==null&&X===f)break;L!==5&&L!==26&&L!==27||ce===null||(X=ce,y?(ce=Ya(c,x),ce!=null&&I.unshift(Lf(c,ce,X))):y||(ce=Ya(c,x),ce!=null&&I.push(Lf(c,ce,X)))),c=c.return}I.length!==0&&i.push({event:o,listeners:I})}var mO=/\r\n?/g,pO=/\u0000|\uFFFD/g;function G5(i){return(typeof i=="string"?i:""+i).replace(mO,`
`).replace(pO,"")}function W5(i,o){return o=G5(o),G5(i)===o}function $p(){}function Gt(i,o,c,f,y,x){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ls(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ls(i,""+f);break;case"className":dl(i,"class",f);break;case"tabIndex":dl(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(i,c,f);break;case"style":Qd(i,f,x);break;case"data":if(o!=="object"){dl(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Cs(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Gt(i,o,"name",y.name,y,null),Gt(i,o,"formEncType",y.formEncType,y,null),Gt(i,o,"formMethod",y.formMethod,y,null),Gt(i,o,"formTarget",y.formTarget,y,null)):(Gt(i,o,"encType",y.encType,y,null),Gt(i,o,"method",y.method,y,null),Gt(i,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Cs(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=$p);break;case"onScroll":f!=null&&_t("scroll",i);break;case"onScrollEnd":f!=null&&_t("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=Cs(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":_t("beforetoggle",i),_t("toggle",i),ul(i,"popover",f);break;case"xlinkActuate":os(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":os(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":os(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":os(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":os(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":os(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":os(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":os(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":os(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ul(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Hm.get(c)||c,ul(i,c,f))}}function _v(i,o,c,f,y,x){switch(c){case"style":Qd(i,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof f=="string"?ls(i,f):(typeof f=="number"||typeof f=="bigint")&&ls(i,""+f);break;case"onScroll":f!=null&&_t("scroll",i);break;case"onScrollEnd":f!=null&&_t("scrollend",i);break;case"onClick":f!=null&&(i.onclick=$p);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ll.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=i[er]||null,x=x!=null?x[c]:null,typeof x=="function"&&i.removeEventListener(o,x,y),typeof f=="function")){typeof x!="function"&&x!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,f,y);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):ul(i,c,f)}}}function rr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",i),_t("load",i);var f=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var I=c[x];if(I!=null)switch(x){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Gt(i,o,x,I,c,null)}}y&&Gt(i,o,"srcSet",c.srcSet,c,null),f&&Gt(i,o,"src",c.src,c,null);return;case"input":_t("invalid",i);var L=x=I=y=null,X=null,ce=null;for(f in c)if(c.hasOwnProperty(f)){var xe=c[f];if(xe!=null)switch(f){case"name":y=xe;break;case"type":I=xe;break;case"checked":X=xe;break;case"defaultChecked":ce=xe;break;case"value":x=xe;break;case"defaultValue":L=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:Gt(i,o,f,xe,c,null)}}Yd(i,x,L,X,ce,I,y,!1),Ha(i);return;case"select":_t("invalid",i),f=I=x=null;for(y in c)if(c.hasOwnProperty(y)&&(L=c[y],L!=null))switch(y){case"value":x=L;break;case"defaultValue":I=L;break;case"multiple":f=L;default:Gt(i,o,y,L,c,null)}o=x,c=I,i.multiple=!!f,o!=null?Ga(i,!!f,o,!1):c!=null&&Ga(i,!!f,c,!0);return;case"textarea":_t("invalid",i),x=y=f=null;for(I in c)if(c.hasOwnProperty(I)&&(L=c[I],L!=null))switch(I){case"value":f=L;break;case"defaultValue":y=L;break;case"children":x=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Gt(i,o,I,L,c,null)}qm(i,f,y,x),Ha(i);return;case"option":for(X in c)if(c.hasOwnProperty(X)&&(f=c[X],f!=null))switch(X){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Gt(i,o,X,f,c,null)}return;case"dialog":_t("beforetoggle",i),_t("toggle",i),_t("cancel",i),_t("close",i);break;case"iframe":case"object":_t("load",i);break;case"video":case"audio":for(f=0;f<Vf.length;f++)_t(Vf[f],i);break;case"image":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"embed":case"source":case"link":_t("error",i),_t("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in c)if(c.hasOwnProperty(ce)&&(f=c[ce],f!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Gt(i,o,ce,f,c,null)}return;default:if(Vc(o)){for(xe in c)c.hasOwnProperty(xe)&&(f=c[xe],f!==void 0&&_v(i,o,xe,f,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(f=c[L],f!=null&&Gt(i,o,L,f,c,null))}function gO(i,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,I=null,L=null,X=null,ce=null,xe=null;for(he in c){var Te=c[he];if(c.hasOwnProperty(he)&&Te!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":X=Te;default:f.hasOwnProperty(he)||Gt(i,o,he,null,f,Te)}}for(var de in f){var he=f[de];if(Te=c[de],f.hasOwnProperty(de)&&(he!=null||Te!=null))switch(de){case"type":x=he;break;case"name":y=he;break;case"checked":ce=he;break;case"defaultChecked":xe=he;break;case"value":I=he;break;case"defaultValue":L=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:he!==Te&&Gt(i,o,de,he,f,Te)}}Wd(i,I,L,X,ce,xe,x,y);return;case"select":he=I=L=de=null;for(x in c)if(X=c[x],c.hasOwnProperty(x)&&X!=null)switch(x){case"value":break;case"multiple":he=X;default:f.hasOwnProperty(x)||Gt(i,o,x,null,f,X)}for(y in f)if(x=f[y],X=c[y],f.hasOwnProperty(y)&&(x!=null||X!=null))switch(y){case"value":de=x;break;case"defaultValue":L=x;break;case"multiple":I=x;default:x!==X&&Gt(i,o,y,x,f,X)}o=L,c=I,f=he,de!=null?Ga(i,!!c,de,!1):!!f!=!!c&&(o!=null?Ga(i,!!c,o,!0):Ga(i,!!c,c?[]:"",!1));return;case"textarea":he=de=null;for(L in c)if(y=c[L],c.hasOwnProperty(L)&&y!=null&&!f.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Gt(i,o,L,null,f,y)}for(I in f)if(y=f[I],x=c[I],f.hasOwnProperty(I)&&(y!=null||x!=null))switch(I){case"value":de=y;break;case"defaultValue":he=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&Gt(i,o,I,y,f,x)}$m(i,de,he);return;case"option":for(var lt in c)if(de=c[lt],c.hasOwnProperty(lt)&&de!=null&&!f.hasOwnProperty(lt))switch(lt){case"selected":i.selected=!1;break;default:Gt(i,o,lt,null,f,de)}for(X in f)if(de=f[X],he=c[X],f.hasOwnProperty(X)&&de!==he&&(de!=null||he!=null))switch(X){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Gt(i,o,X,de,f,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in c)de=c[Je],c.hasOwnProperty(Je)&&de!=null&&!f.hasOwnProperty(Je)&&Gt(i,o,Je,null,f,de);for(ce in f)if(de=f[ce],he=c[ce],f.hasOwnProperty(ce)&&de!==he&&(de!=null||he!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Gt(i,o,ce,de,f,he)}return;default:if(Vc(o)){for(var Wt in c)de=c[Wt],c.hasOwnProperty(Wt)&&de!==void 0&&!f.hasOwnProperty(Wt)&&_v(i,o,Wt,void 0,f,de);for(xe in f)de=f[xe],he=c[xe],!f.hasOwnProperty(xe)||de===he||de===void 0&&he===void 0||_v(i,o,xe,de,f,he);return}}for(var re in c)de=c[re],c.hasOwnProperty(re)&&de!=null&&!f.hasOwnProperty(re)&&Gt(i,o,re,null,f,de);for(Te in f)de=f[Te],he=c[Te],!f.hasOwnProperty(Te)||de===he||de==null&&he==null||Gt(i,o,Te,de,f,he)}var Ev=null,Tv=null;function qp(i){return i.nodeType===9?i:i.ownerDocument}function Y5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K5(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Av(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sv=null;function yO(){var i=window.event;return i&&i.type==="popstate"?i===Sv?!1:(Sv=i,!0):(Sv=null,!1)}var Z5=typeof setTimeout=="function"?setTimeout:void 0,bO=typeof clearTimeout=="function"?clearTimeout:void 0,Q5=typeof Promise=="function"?Promise:void 0,vO=typeof queueMicrotask=="function"?queueMicrotask:typeof Q5<"u"?function(i){return Q5.resolve(null).then(i).catch(xO)}:Z5;function xO(i){setTimeout(function(){throw i})}function ho(i){return i==="head"}function X5(i,o){var c=o,f=0,y=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(0<f&&8>f){c=f;var I=i.ownerDocument;if(c&1&&Bf(I.documentElement),c&2&&Bf(I.body),c&4)for(c=I.head,Bf(c),I=c.firstChild;I;){var L=I.nextSibling,X=I.nodeName;I[Fa]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||c.removeChild(I),I=L}}if(y===0){i.removeChild(x),Wf(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=x}while(c);Wf(o)}function Nv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Nv(c),Pc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function wO(i,o,c,f){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Fa])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Ds(i.nextSibling),i===null)break}return null}function _O(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ds(i.nextSibling),i===null))return null;return i}function Cv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function EO(i,o){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Ds(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Rv=null;function J5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}function eT(i,o,c){switch(o=qp(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Bf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Pc(i)}var gs=new Map,tT=new Set;function Hp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ia=Q.d;Q.d={f:TO,r:AO,D:SO,C:NO,L:CO,m:RO,X:kO,S:IO,M:PO};function TO(){var i=ia.f(),o=Mp();return i||o}function AO(i){var o=si(i);o!==null&&o.tag===5&&o.type==="form"?w6(o):ia.r(i)}var pu=typeof document>"u"?null:document;function nT(i,o,c){var f=pu;if(f&&typeof o=="string"&&o){var y=Hn(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),tT.has(y)||(tT.add(y),i={rel:i,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),rr(o,"link",i),xn(o),f.head.appendChild(o)))}}function SO(i){ia.D(i),nT("dns-prefetch",i,null)}function NO(i,o){ia.C(i,o),nT("preconnect",i,o)}function CO(i,o,c){ia.L(i,o,c);var f=pu;if(f&&i&&o){var y='link[rel="preload"][as="'+Hn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Hn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Hn(c.imageSizes)+'"]')):y+='[href="'+Hn(i)+'"]';var x=y;switch(o){case"style":x=gu(i);break;case"script":x=yu(i)}gs.has(x)||(i=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),gs.set(x,i),f.querySelector(y)!==null||o==="style"&&f.querySelector(Uf(x))||o==="script"&&f.querySelector(Ff(x))||(o=f.createElement("link"),rr(o,"link",i),xn(o),f.head.appendChild(o)))}}function RO(i,o){ia.m(i,o);var c=pu;if(c&&i){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Hn(f)+'"][href="'+Hn(i)+'"]',x=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=yu(i)}if(!gs.has(x)&&(i=m({rel:"modulepreload",href:i},o),gs.set(x,i),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ff(x)))return}f=c.createElement("link"),rr(f,"link",i),xn(f),c.head.appendChild(f)}}}function IO(i,o,c){ia.S(i,o,c);var f=pu;if(f&&i){var y=$a(f).hoistableStyles,x=gu(i);o=o||"default";var I=y.get(x);if(!I){var L={loading:0,preload:null};if(I=f.querySelector(Uf(x)))L.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},c),(c=gs.get(x))&&Iv(i,c);var X=I=f.createElement("link");xn(X),rr(X,"link",i),X._p=new Promise(function(ce,xe){X.onload=ce,X.onerror=xe}),X.addEventListener("load",function(){L.loading|=1}),X.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Gp(I,o,f)}I={type:"stylesheet",instance:I,count:1,state:L},y.set(x,I)}}}function kO(i,o){ia.X(i,o);var c=pu;if(c&&i){var f=$a(c).hoistableScripts,y=yu(i),x=f.get(y);x||(x=c.querySelector(Ff(y)),x||(i=m({src:i,async:!0},o),(o=gs.get(y))&&kv(i,o),x=c.createElement("script"),xn(x),rr(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function PO(i,o){ia.M(i,o);var c=pu;if(c&&i){var f=$a(c).hoistableScripts,y=yu(i),x=f.get(y);x||(x=c.querySelector(Ff(y)),x||(i=m({src:i,async:!0,type:"module"},o),(o=gs.get(y))&&kv(i,o),x=c.createElement("script"),xn(x),rr(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function rT(i,o,c,f){var y=(y=Oe.current)?Hp(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=gu(c.href),c=$a(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=gu(c.href);var x=$a(y).hoistableStyles,I=x.get(i);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,I),(x=y.querySelector(Uf(i)))&&!x._p&&(I.instance=x,I.state.loading=5),gs.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},gs.set(i,c),x||OO(y,i,c,I.state))),o&&f===null)throw Error(r(528,""));return I}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=yu(c),c=$a(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function gu(i){return'href="'+Hn(i)+'"'}function Uf(i){return'link[rel="stylesheet"]['+i+"]"}function sT(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function OO(i,o,c,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),rr(o,"link",c),xn(o),i.head.appendChild(o))}function yu(i){return'[src="'+Hn(i)+'"]'}function Ff(i){return"script[async]"+i}function iT(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+Hn(c.href)+'"]');if(f)return o.instance=f,xn(f),f;var y=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),xn(f),rr(f,"style",y),Gp(f,c.precedence,i),o.instance=f;case"stylesheet":y=gu(c.href);var x=i.querySelector(Uf(y));if(x)return o.state.loading|=4,o.instance=x,xn(x),x;f=sT(c),(y=gs.get(y))&&Iv(f,y),x=(i.ownerDocument||i).createElement("link"),xn(x);var I=x;return I._p=new Promise(function(L,X){I.onload=L,I.onerror=X}),rr(x,"link",f),o.state.loading|=4,Gp(x,c.precedence,i),o.instance=x;case"script":return x=yu(c.src),(y=i.querySelector(Ff(x)))?(o.instance=y,xn(y),y):(f=c,(y=gs.get(x))&&(f=m({},c),kv(f,y)),i=i.ownerDocument||i,y=i.createElement("script"),xn(y),rr(y,"link",f),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Gp(f,c.precedence,i));return o.instance}function Gp(i,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,x=y,I=0;I<f.length;I++){var L=f[I];if(L.dataset.precedence===o)x=L;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function Iv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function kv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Wp=null;function aT(i,o,c){if(Wp===null){var f=new Map,y=Wp=new Map;y.set(c,f)}else y=Wp,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var x=c[y];if(!(x[Fa]||x[vn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(o)||"";I=i+I;var L=f.get(I);L?L.push(x):f.set(I,[x])}}return f}function oT(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function DO(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var zf=null;function jO(){}function MO(i,o,c){if(zf===null)throw Error(r(475));var f=zf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=gu(c.href),x=i.querySelector(Uf(y));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Yp.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=x,xn(x);return}x=i.ownerDocument||i,c=sT(c),(y=gs.get(y))&&Iv(c,y),x=x.createElement("link"),xn(x);var I=x;I._p=new Promise(function(L,X){I.onload=L,I.onerror=X}),rr(x,"link",c),o.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Yp.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function VO(){if(zf===null)throw Error(r(475));var i=zf;return i.stylesheets&&i.count===0&&Pv(i,i.stylesheets),0<i.count?function(o){var c=setTimeout(function(){if(i.stylesheets&&Pv(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Yp(){if(this.count--,this.count===0){if(this.stylesheets)Pv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kp=null;function Pv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kp=new Map,o.forEach(LO,i),Kp=null,Yp.call(i))}function LO(i,o){if(!(o.state.loading&4)){var c=Kp.get(i);if(c)var f=c.get(null);else{c=new Map,Kp.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var I=y[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),f=I)}f&&c.set(null,f)}y=o.instance,I=y.getAttribute("data-precedence"),x=c.get(I)||f,x===f&&c.set(null,y),c.set(I,y),this.count++,f=Yp.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var $f={$$typeof:B,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function BO(i,o,c,f,y,x,I,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function cT(i,o,c,f,y,x,I,L,X,ce,xe,Te){return i=new BO(i,o,c,I,L,X,ce,Te),o=1,x===!0&&(o|=24),x=zr(3,null,null,o),i.current=x,x.stateNode=i,o=hb(),o.refCount++,i.pooledCache=o,o.refCount++,x.memoizedState={element:f,isDehydrated:c,cache:o},yb(x),i}function uT(i){return i?(i=Yc,i):Yc}function dT(i,o,c,f,y,x){y=uT(y),f.context===null?f.context=y:f.pendingContext=y,f=Ja(o),f.payload={element:c},x=x===void 0?null:x,x!==null&&(f.callback=x),c=eo(i,f,o),c!==null&&(Wr(c,i,o),vf(c,i,o))}function fT(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Ov(i,o){fT(i,o),(i=i.alternate)&&fT(i,o)}function hT(i){if(i.tag===13){var o=Wc(i,67108864);o!==null&&Wr(o,i,67108864),Ov(i,67108864)}}var Zp=!0;function UO(i,o,c,f){var y=Y.T;Y.T=null;var x=Q.p;try{Q.p=2,Dv(i,o,c,f)}finally{Q.p=x,Y.T=y}}function FO(i,o,c,f){var y=Y.T;Y.T=null;var x=Q.p;try{Q.p=8,Dv(i,o,c,f)}finally{Q.p=x,Y.T=y}}function Dv(i,o,c,f){if(Zp){var y=jv(f);if(y===null)wv(i,o,f,Qp,c),pT(i,f);else if($O(y,i,o,c,f))f.stopPropagation();else if(pT(i,f),o&4&&-1<zO.indexOf(i)){for(;y!==null;){var x=si(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=ue(x.pendingLanes);if(I!==0){var L=x;for(L.pendingLanes|=2,L.entangledLanes|=2;I;){var X=1<<31-Lt(I);L.entanglements[1]|=X,I&=~X}mi(x),(zt&6)===0&&(Dp=Kt()+500,Mf(0))}}break;case 13:L=Wc(x,2),L!==null&&Wr(L,x,2),Mp(),Ov(x,2)}if(x=jv(f),x===null&&wv(i,o,f,Qp,c),x===y)break;y=x}y!==null&&f.stopPropagation()}else wv(i,o,f,null,c)}}function jv(i){return i=Jd(i),Mv(i)}var Qp=null;function Mv(i){if(Qp=null,i=ri(i),i!==null){var o=a(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Qp=i,null}function mT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(il()){case an:return 2;case J:return 8;case le:case be:return 32;case De:return 268435456;default:return 32}default:return 32}}var Vv=!1,mo=null,po=null,go=null,qf=new Map,Hf=new Map,yo=[],zO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pT(i,o){switch(i){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":qf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(o.pointerId)}}function Gf(i,o,c,f,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},o!==null&&(o=si(o),o!==null&&hT(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function $O(i,o,c,f,y){switch(o){case"focusin":return mo=Gf(mo,i,o,c,f,y),!0;case"dragenter":return po=Gf(po,i,o,c,f,y),!0;case"mouseover":return go=Gf(go,i,o,c,f,y),!0;case"pointerover":var x=y.pointerId;return qf.set(x,Gf(qf.get(x)||null,i,o,c,f,y)),!0;case"gotpointercapture":return x=y.pointerId,Hf.set(x,Gf(Hf.get(x)||null,i,o,c,f,y)),!0}return!1}function gT(i){var o=ri(i.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,qy(i.priority,function(){if(c.tag===13){var f=Gr();f=Hd(f);var y=Wc(c,f);y!==null&&Wr(y,c,f),Ov(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=jv(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Xd=f,c.target.dispatchEvent(f),Xd=null}else return o=si(c),o!==null&&hT(o),i.blockedOn=c,!1;o.shift()}return!0}function yT(i,o,c){Xp(i)&&c.delete(o)}function qO(){Vv=!1,mo!==null&&Xp(mo)&&(mo=null),po!==null&&Xp(po)&&(po=null),go!==null&&Xp(go)&&(go=null),qf.forEach(yT),Hf.forEach(yT)}function Jp(i,o){i.blockedOn===o&&(i.blockedOn=null,Vv||(Vv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qO)))}var e0=null;function bT(i){e0!==i&&(e0=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){e0===i&&(e0=null);for(var o=0;o<i.length;o+=3){var c=i[o],f=i[o+1],y=i[o+2];if(typeof f!="function"){if(Mv(f||c)===null)continue;break}var x=si(c);x!==null&&(i.splice(o,3),o-=3,Mb(x,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Wf(i){function o(X){return Jp(X,i)}mo!==null&&Jp(mo,i),po!==null&&Jp(po,i),go!==null&&Jp(go,i),qf.forEach(o),Hf.forEach(o);for(var c=0;c<yo.length;c++){var f=yo[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<yo.length&&(c=yo[0],c.blockedOn===null);)gT(c),c.blockedOn===null&&yo.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],x=c[f+1],I=y[er]||null;if(typeof x=="function")I||bT(c);else if(I){var L=null;if(x&&x.hasAttribute("formAction")){if(y=x,I=x[er]||null)L=I.formAction;else if(Mv(y)!==null)continue}else L=I.action;typeof L=="function"?c[f+1]=L:(c.splice(f,3),f-=3),bT(c)}}}function Lv(i){this._internalRoot=i}t0.prototype.render=Lv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,f=Gr();dT(c,f,i,o,null,null)},t0.prototype.unmount=Lv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;dT(i.current,2,null,i,null,null),Mp(),o[Fi]=null}};function t0(i){this._internalRoot=i}t0.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ui();i={blockedOn:null,target:i,priority:o};for(var c=0;c<yo.length&&o!==0&&o<yo[c].priority;c++);yo.splice(c,0,i),c===0&&gT(i)}};var vT=e.version;if(vT!=="19.1.0")throw Error(r(527,vT,"19.1.0"));Q.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var HO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{Be=n0.inject(HO),it=n0}catch{}}return Kf.createRoot=function(i,o){if(!s(i))throw Error(r(299));var c=!1,f="",y=j6,x=M6,I=V6,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks)),o=cT(i,1,!1,null,null,c,f,y,x,I,L,null),i[Fi]=o.current,xv(i),new Lv(o)},Kf.hydrateRoot=function(i,o,c){if(!s(i))throw Error(r(299));var f=!1,y="",x=j6,I=M6,L=V6,X=null,ce=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(X=c.unstable_transitionCallbacks),c.formState!==void 0&&(ce=c.formState)),o=cT(i,1,!0,o,c??null,f,y,x,I,L,X,ce),o.context=uT(null),c=o.current,f=Gr(),f=Hd(f),y=Ja(f),y.callback=null,eo(c,y,f),c=f,o.current.lanes=c,bn(o,c),mi(o),i[Fi]=o.current,xv(i),new t0(o)},Kf.version="19.1.0",Kf}var RT;function iD(){if(RT)return Fv.exports;RT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fv.exports=sD(),Fv.exports}var aD=iD();const tc=globalThis||void 0||self;var Zf={},IT;function oD(){if(IT)return Zf;IT=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.parse=l,Zf.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,w){const A=new a,T=v.length;if(T<2)return A;const N=w?.decode||m;let k=0;do{const M=v.indexOf("=",k);if(M===-1)break;const B=v.indexOf(";",k),$=B===-1?T:B;if(M>$){k=v.lastIndexOf(";",M-1)+1;continue}const U=u(v,k,M),Z=d(v,M,U),P=v.slice(U,Z);if(A[P]===void 0){let R=u(v,M+1,$),j=d(v,$,R);const F=N(v.slice(R,j));A[P]=F}k=$+1}while(k<T);return A}function u(v,w,A){do{const T=v.charCodeAt(w);if(T!==32&&T!==9)return w}while(++w<A);return A}function d(v,w,A){for(;w>A;){const T=v.charCodeAt(--w);if(T!==32&&T!==9)return w+1}return A}function h(v,w,A){const T=A?.encode||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const N=T(w);if(!e.test(N))throw new TypeError(`argument val is invalid: ${w}`);let k=v+"="+N;if(!A)return k;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);k+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);k+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);k+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);k+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(k+="; HttpOnly"),A.secure&&(k+="; Secure"),A.partitioned&&(k+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return k}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return s.call(v)==="[object Date]"}return Zf}oD();var kT="popstate";function lD(t={}){function e(r,s){let{pathname:a,search:l,hash:u}=r.location;return rx("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:vh(s)}return uD(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cD(){return Math.random().toString(36).substring(2,10)}function PT(t,e){return{usr:t.state,key:t.key,idx:e}}function rx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_d(e):e,state:n,key:e&&e.key||r||cD()}}function vh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function uD(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function b(){u="POP";let N=m(),k=N==null?null:N-h;h=N,d&&d({action:u,location:T.location,delta:k})}function v(N,k){u="PUSH";let M=rx(T.location,N,k);h=m()+1;let B=PT(M,h),$=T.createHref(M);try{l.pushState(B,"",$)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign($)}a&&d&&d({action:u,location:T.location,delta:1})}function w(N,k){u="REPLACE";let M=rx(T.location,N,k);h=m();let B=PT(M,h),$=T.createHref(M);l.replaceState(B,"",$),a&&d&&d({action:u,location:T.location,delta:0})}function A(N){return dD(N)}let T={get action(){return u},get location(){return t(s,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(kT,b),d=N,()=>{s.removeEventListener(kT,b),d=null}},createHref(N){return e(s,N)},createURL:A,encodeLocation(N){let k=A(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:w,go(N){return l.go(N)}};return T}function dD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jC(t,e,n="/"){return fD(t,e,n,!1)}function fD(t,e,n,r){let s=typeof e=="string"?_d(e):e,a=Aa(s.pathname||"/",n);if(a==null)return null;let l=MC(t);hD(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=TD(a);u=_D(l[d],h,r)}return u}function MC(t,e=[],n=[],r=""){let s=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(cn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=va([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(cn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),MC(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:xD(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of VC(a.path))s(a,l,u)}),e}function VC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=VC(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function hD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mD=/^:[\w-]+$/,pD=3,gD=2,yD=1,bD=10,vD=-2,OT=t=>t==="*";function xD(t,e){let n=t.split("/"),r=n.length;return n.some(OT)&&(r+=vD),e&&(r+=gD),n.filter(s=>!OT(s)).reduce((s,a)=>s+(mD.test(a)?pD:a===""?yD:bD),r)}function wD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _D(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",b=H0({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),v=d.route;if(!b&&h&&n&&!r[r.length-1].route.index&&(b=H0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!b)return null;Object.assign(s,b.params),l.push({params:s,pathname:va([a,b.pathname]),pathnameBase:CD(va([a,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(a=va([a,b.pathnameBase]))}return l}function H0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ED(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:b},v)=>{if(m==="*"){let A=u[v]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const w=u[v];return b&&!w?h[m]=void 0:h[m]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function ED(t,e=!1,n=!0){Fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Aa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AD(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_d(t):t;return{pathname:n?n.startsWith("/")?n:SD(n,e):e,search:RD(r),hash:ID(s)}}function SD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ND(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fw(t){let e=ND(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zw(t,e,n,r=!1){let s;typeof t=="string"?s=_d(t):(s={...t},cn(!s.pathname||!s.pathname.includes("?"),Hv("?","pathname","search",s)),cn(!s.pathname||!s.pathname.includes("#"),Hv("#","pathname","hash",s)),cn(!s.search||!s.search.includes("#"),Hv("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let b=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),b-=1;s.pathname=v.join("/")}u=b>=0?e[b]:"/"}let d=AD(s,u),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var va=t=>t.join("/").replace(/\/\/+/g,"/"),CD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ID=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var LC=["POST","PUT","PATCH","DELETE"];new Set(LC);var PD=["GET",...LC];new Set(PD);var Ed=O.createContext(null);Ed.displayName="DataRouter";var jg=O.createContext(null);jg.displayName="DataRouterState";var BC=O.createContext({isTransitioning:!1});BC.displayName="ViewTransition";var OD=O.createContext(new Map);OD.displayName="Fetchers";var DD=O.createContext(null);DD.displayName="Await";var Qs=O.createContext(null);Qs.displayName="Navigation";var am=O.createContext(null);am.displayName="Location";var Xs=O.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var $w=O.createContext(null);$w.displayName="RouteError";function jD(t,{relative:e}={}){cn(Td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Qs),{hash:s,pathname:a,search:l}=lm(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:va([n,a])),r.createHref({pathname:u,search:l,hash:s})}function Td(){return O.useContext(am)!=null}function Vi(){return cn(Td(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(am).location}var UC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FC(t){O.useContext(Qs).static||O.useLayoutEffect(t)}function om(){let{isDataRoute:t}=O.useContext(Xs);return t?ZD():MD()}function MD(){cn(Td(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ed),{basename:e,navigator:n}=O.useContext(Qs),{matches:r}=O.useContext(Xs),{pathname:s}=Vi(),a=JSON.stringify(Fw(r)),l=O.useRef(!1);return FC(()=>{l.current=!0}),O.useCallback((d,h={})=>{if(Fs(l.current,UC),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=zw(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:va([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,s,t])}var VD=O.createContext(null);function LD(t){let e=O.useContext(Xs).outlet;return e&&O.createElement(VD.Provider,{value:t},e)}function lm(t,{relative:e}={}){let{matches:n}=O.useContext(Xs),{pathname:r}=Vi(),s=JSON.stringify(Fw(n));return O.useMemo(()=>zw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function BD(t,e){return zC(t,e)}function zC(t,e,n,r){cn(Td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Qs),{matches:a}=O.useContext(Xs),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let k=m&&m.path||"";$C(d,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Vi(),v;if(e){let k=typeof e=="string"?_d(e):e;cn(h==="/"||k.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=b;let w=v.pathname||"/",A=w;if(h!=="/"){let k=h.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=jC(t,{pathname:A});Fs(m||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Fs(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=qD(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:va([h,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:va([h,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return e&&N?O.createElement(am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function UD(){let t=KD(),e=kD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,l)}var FD=O.createElement(UD,null),zD=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Xs.Provider,{value:this.props.routeContext},O.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $D({routeContext:t,match:e,children:n}){let r=O.useContext(Ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Xs.Provider,{value:t},n)}function qD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);cn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:b}=n,v=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let b,v=!1,w=null,A=null;n&&(b=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||FD,l&&(u<0&&m===0?($C("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):u===m&&(v=!0,A=h.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,m+1)),N=()=>{let k;return b?k=w:v?k=A:h.route.Component?k=O.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=d,O.createElement($D,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:k})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?O.createElement(zD,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}function qw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HD(t){let e=O.useContext(Ed);return cn(e,qw(t)),e}function GD(t){let e=O.useContext(jg);return cn(e,qw(t)),e}function WD(t){let e=O.useContext(Xs);return cn(e,qw(t)),e}function Hw(t){let e=WD(t),n=e.matches[e.matches.length-1];return cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function YD(){return Hw("useRouteId")}function KD(){let t=O.useContext($w),e=GD("useRouteError"),n=Hw("useRouteError");return t!==void 0?t:e.errors?.[n]}function ZD(){let{router:t}=HD("useNavigate"),e=Hw("useNavigate"),n=O.useRef(!1);return FC(()=>{n.current=!0}),O.useCallback(async(s,a={})=>{Fs(n.current,UC),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var DT={};function $C(t,e,n){!e&&!DT[t]&&(DT[t]=!0,Fs(!1,n))}O.memo(QD);function QD({routes:t,future:e,state:n}){return zC(t,void 0,n,e)}function Gv({to:t,replace:e,state:n,relative:r}){cn(Td(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Qs);Fs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Xs),{pathname:l}=Vi(),u=om(),d=zw(t,Fw(a),l,r==="path"),h=JSON.stringify(d);return O.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function XD(t){return LD(t.context)}function fr(t){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){cn(!Td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=_d(n));let{pathname:d="/",search:h="",hash:m="",state:b=null,key:v="default"}=n,w=O.useMemo(()=>{let A=Aa(d,l);return A==null?null:{location:{pathname:A,search:h,hash:m,state:b,key:v},navigationType:r}},[l,d,h,m,b,v,r]);return Fs(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(Qs.Provider,{value:u},O.createElement(am.Provider,{children:e,value:w}))}function ej({children:t,location:e}){return BD(sx(t),e)}function sx(t,e=[]){let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){n.push.apply(n,sx(r.props.children,a));return}cn(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=sx(r.props.children,a)),n.push(l)}),n}var C0="get",R0="application/x-www-form-urlencoded";function Mg(t){return t!=null&&typeof t.tagName=="string"}function tj(t){return Mg(t)&&t.tagName.toLowerCase()==="button"}function nj(t){return Mg(t)&&t.tagName.toLowerCase()==="form"}function rj(t){return Mg(t)&&t.tagName.toLowerCase()==="input"}function sj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ij(t,e){return t.button===0&&(!e||e==="_self")&&!sj(t)}var r0=null;function aj(){if(r0===null)try{new FormData(document.createElement("form"),0),r0=!1}catch{r0=!0}return r0}var oj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wv(t){return t!=null&&!oj.has(t)?(Fs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${R0}"`),null):t}function lj(t,e){let n,r,s,a,l;if(nj(t)){let u=t.getAttribute("action");r=u?Aa(u,e):null,n=t.getAttribute("method")||C0,s=Wv(t.getAttribute("enctype"))||R0,a=new FormData(t)}else if(tj(t)||rj(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Aa(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||C0,s=Wv(t.getAttribute("formenctype"))||Wv(u.getAttribute("enctype"))||R0,a=new FormData(u,t),!aj()){let{name:h,type:m,value:b}=t;if(m==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,b)}}else{if(Mg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=C0,r=null,s=R0,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function Gw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function cj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dj(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await cj(a,n);return l.links?l.links():[]}return[]}));return pj(r.flat(1).filter(uj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function jT(t,e,n,r,s,a){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function fj(t,e,{includeHydrateFallback:n}={}){return hj(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function hj(t){return[...new Set(t)]}function mj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pj(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(mj(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gj=new Set([100,101,204,205]);function yj(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Aa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function qC(){let t=O.useContext(Ed);return Gw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bj(){let t=O.useContext(jg);return Gw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ww=O.createContext(void 0);Ww.displayName="FrameworkContext";function HC(){let t=O.useContext(Ww);return Gw(t,"You must render this element inside a <HydratedRouter> element"),t}function vj(t,e){let n=O.useContext(Ww),[r,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:b}=e,v=O.useRef(null);O.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let T=k=>{k.forEach(M=>{l(M.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[t]),O.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let w=()=>{s(!0)},A=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:Qf(u,w),onBlur:Qf(d,A),onMouseEnter:Qf(h,w),onMouseLeave:Qf(m,A),onTouchStart:Qf(b,w)}]:[!1,v,{}]}function Qf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xj({page:t,...e}){let{router:n}=qC(),r=O.useMemo(()=>jC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(_j,{page:t,matches:r,...e}):null}function wj(t){let{manifest:e,routeModules:n}=HC(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return dj(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function _j({page:t,matches:e,...n}){let r=Vi(),{manifest:s,routeModules:a}=HC(),{basename:l}=qC(),{loaderData:u,matches:d}=bj(),h=O.useMemo(()=>jT(t,e,d,s,r,"data"),[t,e,d,s,r]),m=O.useMemo(()=>jT(t,e,d,s,r,"assets"),[t,e,d,s,r]),b=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,T=!1;if(e.forEach(k=>{let M=s.routes[k.route.id];!M||!M.hasLoader||(!h.some(B=>B.route.id===k.route.id)&&k.route.id in u&&a[k.route.id]?.shouldRevalidate||M.hasClientLoader?T=!0:A.add(k.route.id))}),A.size===0)return[];let N=yj(t,l);return T&&A.size>0&&N.searchParams.set("_routes",e.filter(k=>A.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[l,u,r,s,h,e,t,a]),v=O.useMemo(()=>fj(m,s),[m,s]),w=wj(m);return O.createElement(O.Fragment,null,b.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),v.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:T})=>O.createElement("link",{key:A,...T})))}function Ej(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GC&&(window.__reactRouterVersion="7.6.3")}catch{}function Tj({basename:t,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=lD({window:n,v5Compat:!0}));let s=r.current,[a,l]=O.useState({action:s.action,location:s.location}),u=O.useCallback(d=>{O.startTransition(()=>l(d))},[l]);return O.useLayoutEffect(()=>s.listen(u),[s,u]),O.createElement(JD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YC=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:b,...v},w){let{basename:A}=O.useContext(Qs),T=typeof h=="string"&&WC.test(h),N,k=!1;if(typeof h=="string"&&T&&(N=h,GC))try{let j=new URL(window.location.href),F=h.startsWith("//")?new URL(j.protocol+h):new URL(h),z=Aa(F.pathname,A);F.origin===j.origin&&z!=null?h=z+F.search+F.hash:k=!0}catch{Fs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=jD(h,{relative:s}),[B,$,U]=vj(r,v),Z=Cj(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:b});function P(j){e&&e(j),j.defaultPrevented||Z(j)}let R=O.createElement("a",{...v,...U,href:N||M,onClick:k||a?e:P,ref:Ej(w,$),target:d,"data-discover":!T&&n==="render"?"true":void 0});return B&&!T?O.createElement(O.Fragment,null,R,O.createElement(xj,{page:M})):R});YC.displayName="Link";var Aj=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...h},m){let b=lm(l,{relative:h.relative}),v=Vi(),w=O.useContext(jg),{navigator:A,basename:T}=O.useContext(Qs),N=w!=null&&Oj(b)&&u===!0,k=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,M=v.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(M=M.toLowerCase(),B=B?B.toLowerCase():null,k=k.toLowerCase()),B&&T&&(B=Aa(B,T)||B);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let U=M===k||!s&&M.startsWith(k)&&M.charAt($)==="/",Z=B!=null&&(B===k||!s&&B.startsWith(k)&&B.charAt(k.length)==="/"),P={isActive:U,isPending:Z,isTransitioning:N},R=U?e:void 0,j;typeof r=="function"?j=r(P):j=[r,U?"active":null,Z?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(P):a;return O.createElement(YC,{...h,"aria-current":R,className:j,ref:m,style:F,to:l,viewTransition:u},typeof d=="function"?d(P):d)});Aj.displayName="NavLink";var Sj=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=C0,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:b,...v},w)=>{let A=kj(),T=Pj(u,{relative:h}),N=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&WC.test(u),M=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let $=B.nativeEvent.submitter,U=$?.getAttribute("formmethod")||l;A($||B.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:b})};return O.createElement("form",{ref:w,method:N,action:T,onSubmit:r?d:M,...v,"data-discover":!k&&t==="render"?"true":void 0})});Sj.displayName="Form";function Nj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(t){let e=O.useContext(Ed);return cn(e,Nj(t)),e}function Cj(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=om(),d=Vi(),h=lm(t,{relative:a});return O.useCallback(m=>{if(ij(m,e)){m.preventDefault();let b=n!==void 0?n:vh(d)===vh(h);u(t,{replace:b,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,h,n,r,e,t,s,a,l])}var Rj=0,Ij=()=>`__${String(++Rj)}__`;function kj(){let{router:t}=KC("useSubmit"),{basename:e}=O.useContext(Qs),n=YD();return O.useCallback(async(r,s={})=>{let{action:a,method:l,encType:u,formData:d,body:h}=lj(r,e);if(s.navigate===!1){let m=s.fetcherKey||Ij();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Pj(t,{relative:e}={}){let{basename:n}=O.useContext(Qs),r=O.useContext(Xs);cn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...lm(t||".",{relative:e})},l=Vi();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(b=>b).forEach(b=>u.append("index",b));let m=u.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:va([n,a.pathname])),vh(a)}function Oj(t,e={}){let n=O.useContext(BC);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KC("useViewTransitionState"),s=lm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Aa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Aa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return H0(s.pathname,l)!=null||H0(s.pathname,a)!=null}[...gj];var cm=DC();const Dj=CC(cm);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),MT=t=>{const e=Mj(t);return e.charAt(0).toUpperCase()+e.slice(1)},ZC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Vj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...u},d)=>O.createElement("svg",{ref:d,...Lj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ZC("lucide",s),...!a&&!Vj(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,m])=>O.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(t,e)=>{const n=O.forwardRef(({className:r,...s},a)=>O.createElement(Bj,{ref:a,iconNode:e,className:ZC(`lucide-${jj(MT(t))}`,`lucide-${t}`,r),...s}));return n.displayName=MT(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],nc=Rt("briefcase",Uj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],uh=Rt("building-2",Fj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Yw=Rt("calendar",zj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QC=Rt("check",$j);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XC=Rt("chevron-down",qj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gj=Rt("chevron-up",Hj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ti=Rt("circle-check-big",Wj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ql=Rt("clock",Yj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Kw=Rt("dollar-sign",Kj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xh=Rt("eye",Zj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Xj=Rt("file-check",Qj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xa=Rt("file-text",Jj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],tM=Rt("funnel",eM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],VT=Rt("globe",nM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],LT=Rt("graduation-cap",rM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iM=Rt("log-out",sM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ix=Rt("mail",aM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rc=Rt("map-pin",oM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cM=Rt("phone",lM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JC=Rt("plus",uM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eR=Rt("save",dM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ax=Rt("search",fM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jr=Rt("shield-check",hM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zw=Rt("square-pen",mM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tR=Rt("star",pM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],BT=Rt("trending-up",gM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bM=Rt("triangle-alert",yM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nR=Rt("upload",vM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wM=Rt("user-check",xM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Po=Rt("user",_M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ox=Rt("users",EM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],AM=Rt("wallet",TM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wh=Rt("x",SM),NM=()=>{};var UT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},sR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,m=a>>2,b=(a&3)<<4|u>>4;let v=(u&15)<<2|h>>6,w=h&63;d||(w=64,l||(v=64)),r.push(n[m],n[b],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||h==null||b==null)throw new RM;const v=a<<2|u>>4;if(r.push(v),h!==64){const w=u<<4&240|h>>2;if(r.push(w),b!==64){const A=h<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IM=function(t){const e=rR(t);return sR.encodeByteArray(e,!0)},G0=function(t){return IM(t).replace(/\./g,"")},iR=function(t){try{return sR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof tc<"u")return tc;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=()=>kM().__FIREBASE_DEFAULTS__,OM=()=>{if(typeof Zl>"u"||typeof UT>"u")return;const t=UT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iR(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return NM()||PM()||OM()||DM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aR=t=>Vg()?.emulatorHosts?.[t],oR=t=>{const e=aR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lR=()=>Vg()?.config,cR=t=>Vg()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[G0(JSON.stringify(n)),G0(JSON.stringify(l)),""].join(".")}const dh={};function VM(){const t={prod:[],emulator:[]};for(const e of Object.keys(dh))dh[e]?t.emulator.push(e):t.prod.push(e);return t}function LM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let FT=!1;function Xw(t,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||dh[t]===e||dh[t]||FT)return;dh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=VM().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{FT=!0,l()},v}function m(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=LM(r),w=n("text"),A=document.getElementById(w)||document.createElement("span"),T=n("learnmore"),N=document.getElementById(T)||document.createElement("a"),k=n("preprendIcon"),M=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const B=v.element;u(B),m(N,T);const $=h();d(M,k),B.append(M,A,N,$),document.body.appendChild(B)}a?(A.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function UM(){const t=Vg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(tc.process)==="[object process]"}catch{return!1}}function FM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qM(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HM(){return!UM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GM(){try{return typeof indexedDB=="object"}catch{return!1}}function WM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FirebaseError";class Li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YM,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,um.prototype.create)}}class um{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?KM(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Li(s,u,r)}}function KM(t,e){return t.replace(ZM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ZM=/\{\$([^}]+)}/g;function QM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(zT(a)&&zT(l)){if(!sc(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function zT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XM(t,e){const n=new JM(t,e);return n.subscribe.bind(n)}class JM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yv),s.error===void 0&&(s.error=Yv),s.complete===void 0&&(s.complete=Yv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class Fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rV(e))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zl){return this.instances.has(e)}getOptions(e=zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zl){return this.component?this.component.multipleInstances?e:zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nV(t){return t===zl?void 0:t}function rV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const iV={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},aV=Et.INFO,oV={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},lV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jw{constructor(e){this.name=e,this._logLevel=aV,this._logHandler=lV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const cV=(t,e)=>e.some(n=>t instanceof n);let $T,qT;function uV(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dV(){return qT||(qT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uR=new WeakMap,lx=new WeakMap,dR=new WeakMap,Kv=new WeakMap,e_=new WeakMap;function fV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Oo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&uR.set(n,t)}).catch(()=>{}),e_.set(e,t),e}function hV(t){if(lx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});lx.set(t,e)}let cx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mV(t){cx=t(cx)}function pV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zv(this),e,...n);return dR.set(r,e.sort?e.sort():[e]),Oo(r)}:dV().includes(t)?function(...e){return t.apply(Zv(this),e),Oo(uR.get(this))}:function(...e){return Oo(t.apply(Zv(this),e))}}function gV(t){return typeof t=="function"?pV(t):(t instanceof IDBTransaction&&hV(t),cV(t,uV())?new Proxy(t,cx):t)}function Oo(t){if(t instanceof IDBRequest)return fV(t);if(Kv.has(t))return Kv.get(t);const e=gV(t);return e!==t&&(Kv.set(t,e),e_.set(e,t)),e}const Zv=t=>e_.get(t);function yV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Oo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Oo(l.result),d.oldVersion,d.newVersion,Oo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const bV=["get","getKey","getAll","getAllKeys","count"],vV=["put","add","delete","clear"],Qv=new Map;function HT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qv.get(e))return Qv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bV.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&d.done]))[0]};return Qv.set(e,a),a}mV(t=>({...t,get:(e,n,r)=>HT(e,n)||t.get(e,n,r),has:(e,n)=>!!HT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wV(t){return t.getComponent()?.type==="VERSION"}const ux="@firebase/app",GT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Jw("@firebase/app"),_V="@firebase/app-compat",EV="@firebase/analytics-compat",TV="@firebase/analytics",AV="@firebase/app-check-compat",SV="@firebase/app-check",NV="@firebase/auth",CV="@firebase/auth-compat",RV="@firebase/database",IV="@firebase/data-connect",kV="@firebase/database-compat",PV="@firebase/functions",OV="@firebase/functions-compat",DV="@firebase/installations",jV="@firebase/installations-compat",MV="@firebase/messaging",VV="@firebase/messaging-compat",LV="@firebase/performance",BV="@firebase/performance-compat",UV="@firebase/remote-config",FV="@firebase/remote-config-compat",zV="@firebase/storage",$V="@firebase/storage-compat",qV="@firebase/firestore",HV="@firebase/ai",GV="@firebase/firestore-compat",WV="firebase",YV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="[DEFAULT]",KV={[ux]:"fire-core",[_V]:"fire-core-compat",[TV]:"fire-analytics",[EV]:"fire-analytics-compat",[SV]:"fire-app-check",[AV]:"fire-app-check-compat",[NV]:"fire-auth",[CV]:"fire-auth-compat",[RV]:"fire-rtdb",[IV]:"fire-data-connect",[kV]:"fire-rtdb-compat",[PV]:"fire-fn",[OV]:"fire-fn-compat",[DV]:"fire-iid",[jV]:"fire-iid-compat",[MV]:"fire-fcm",[VV]:"fire-fcm-compat",[LV]:"fire-perf",[BV]:"fire-perf-compat",[UV]:"fire-rc",[FV]:"fire-rc-compat",[zV]:"fire-gcs",[$V]:"fire-gcs-compat",[qV]:"fire-fst",[GV]:"fire-fst-compat",[HV]:"fire-vertex","fire-js":"fire-js",[WV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,ZV=new Map,fx=new Map;function WT(t,e){try{t.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ic(t){const e=t.name;if(fx.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;fx.set(e,t);for(const n of _h.values())WT(n,t);for(const n of ZV.values())WT(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new um("app","Firebase",QV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=YV;function fR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Do.create("bad-app-name",{appName:String(s)});if(n||(n=lR()),!n)throw Do.create("no-options");const a=_h.get(s);if(a){if(sc(n,a.options)&&sc(r,a.config))return a;throw Do.create("duplicate-app",{appName:s})}const l=new sV(s);for(const d of fx.values())l.addComponent(d);const u=new XV(n,r,l);return _h.set(s,u),u}function Bg(t=dx){const e=_h.get(t);if(!e&&t===dx&&lR())return fR();if(!e)throw Do.create("no-app",{appName:t});return e}function JV(){return Array.from(_h.values())}function Ai(t,e,n){let r=KV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(l.join(" "));return}ic(new Fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="firebase-heartbeat-database",tL=1,Eh="firebase-heartbeat-store";let Xv=null;function hR(){return Xv||(Xv=yV(eL,tL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),Xv}async function nL(t){try{const n=(await hR()).transaction(Eh),r=await n.objectStore(Eh).get(mR(t));return await n.done,r}catch(e){if(e instanceof Li)Sa.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e?.message});Sa.warn(n.message)}}}async function YT(t,e){try{const r=(await hR()).transaction(Eh,"readwrite");await r.objectStore(Eh).put(e,mR(t)),await r.done}catch(n){if(n instanceof Li)Sa.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n?.message});Sa.warn(r.message)}}}function mR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1024,sL=30;class iL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=KT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sL){const s=lL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=KT(),{heartbeatsToSend:n,unsentEntries:r}=aL(this._heartbeatsCache.heartbeats),s=G0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Sa.warn(e),""}}}function KT(){return new Date().toISOString().substring(0,10)}function aL(t,e=rL){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),ZT(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ZT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GM()?WM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ZT(t){return G0(JSON.stringify({version:2,heartbeats:t})).length}function lL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){ic(new Fo("platform-logger",e=>new xV(e),"PRIVATE")),ic(new Fo("heartbeat",e=>new iL(e),"PRIVATE")),Ai(ux,GT,t),Ai(ux,GT,"esm2020"),Ai("fire-js","")}cL("");function pR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uL=pR,gR=new um("auth","Firebase",pR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Jw("@firebase/auth");function dL(t,...e){W0.logLevel<=Et.WARN&&W0.warn(`Auth (${Ad}): ${t}`,...e)}function I0(t,...e){W0.logLevel<=Et.ERROR&&W0.error(`Auth (${Ad}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw n_(t,...e)}function Ls(t,...e){return n_(t,...e)}function t_(t,e,n){const r={...uL(),[e]:n};return new um("auth","Firebase",r).create(e,{appName:t.name})}function Xl(t){return t_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pi(t,"argument-error"),t_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gR.create(t,...e)}function ct(t,e,...n){if(!t)throw n_(e,...n)}function ya(t){const e="INTERNAL ASSERTION FAILED: "+t;throw I0(e),new Error(e)}function Na(t,e){t||ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return typeof self<"u"&&self.location?.href||""}function hL(){return QT()==="http:"||QT()==="https:"}function QT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hL()||zM()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Na(n>e,"Short delay should be less than long delay!"),this.isMobile=BM()||$M()}get(){return mL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){Na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bL=new fm(3e4,6e4);function s_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Sd(t,e,n,r,s={}){return bR(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=dm({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return FM()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(h.credentials="include"),yR.fetch()(await vR(t,t.config.apiHost,n,u),h)})}async function bR(t,e,n){t._canInitEmulator=!1;const r={...gL,...e};try{const s=new xL(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw s0(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw s0(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw s0(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw s0(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw t_(t,m,h);Pi(t,m)}}catch(s){if(s instanceof Li)throw s;Pi(t,"network-request-failed",{message:String(s)})}}async function vL(t,e,n,r,s={}){const a=await Sd(t,e,n,r,s);return"mfaPendingCredential"in a&&Pi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function vR(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?r_(t.config,s):`${t.config.apiScheme}://${s}`;return yL.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class xL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),bL.get())})}}function s0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ls(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return Sd(t,"POST","/v1/accounts:delete",e)}async function Y0(t,e){return Sd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _L(t,e=!1){const n=fn(t),r=await n.getIdToken(e),s=i_(r);ct(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:fh(Jv(s.auth_time)),issuedAtTime:fh(Jv(s.iat)),expirationTime:fh(Jv(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Jv(t){return Number(t)*1e3}function i_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return I0("JWT malformed, contained fewer than 3 sections"),null;try{const s=iR(n);return s?JSON.parse(s):(I0("Failed to decode base64 JWT payload"),null)}catch(s){return I0("Caught error parsing JWT payload as JSON",s?.toString()),null}}function XT(t){const e=i_(t);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Li&&EL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fh(this.lastLoginAt),this.creationTime=fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(t){const e=t.auth,n=await t.getIdToken(),r=await Th(t,Y0(e,{idToken:n}));ct(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?xR(s.providerUserInfo):[],l=SL(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,h=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new mx(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function AL(t){const e=fn(t);await K0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function xR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){const n=await bR(t,{},async()=>{const r=dm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await vR(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(d.credentials="include"),yR.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CL(t,e){return Sd(t,"POST","/v2/accounts:revokeToken",s_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const n=XT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await NL(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new zu;return r&&(ct(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(ct(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(ct(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vs{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new TL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Th(this,this.stsTokenManager.getToken(this.auth,e));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _L(this,e)}reload(){return AL(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await K0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xs(this.auth.app))return Promise.reject(Xl(this.auth));const e=await this.getIdToken();return await Th(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:w,providerData:A,stsTokenManager:T}=n;ct(b&&T,e,"internal-error");const N=zu.fromJSON(this.name,T);ct(typeof b=="string",e,"internal-error"),vo(r,e.name),vo(s,e.name),ct(typeof v=="boolean",e,"internal-error"),ct(typeof w=="boolean",e,"internal-error"),vo(a,e.name),vo(l,e.name),vo(u,e.name),vo(d,e.name),vo(h,e.name),vo(m,e.name);const k=new Vs({uid:b,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:N,createdAt:h,lastLoginAt:m});return A&&Array.isArray(A)&&(k.providerData=A.map(M=>({...M}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new zu;s.updateFromServerResponse(n);const a=new Vs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await K0(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ct(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?xR(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new zu;u.updateFromIdToken(r);const d=new Vs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;function ba(t){Na(t instanceof Function,"Expected a class definition");let e=JT.get(t);return e?(Na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wR.type="NONE";const eA=wR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e,n){return`firebase:${t}:${e}:${n}`}class $u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=k0(this.userKey,s.apiKey,a),this.fullPersistenceKey=k0("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Y0(this.auth,{idToken:e}).catch(()=>{});return n?Vs._fromGetAccountInfoResponse(this.auth,n,e):null}return Vs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $u(ba(eA),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||ba(eA);const l=k0(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(l);if(m){let b;if(typeof m=="string"){const v=await Y0(e,{idToken:m}).catch(()=>{});if(!v)break;b=await Vs._fromGetAccountInfoResponse(e,v,m)}else b=Vs._fromJSON(e,m);h!==a&&(u=b),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new $u(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new $u(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_R(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NR(e))return"Blackberry";if(CR(e))return"Webos";if(ER(e))return"Safari";if((e.includes("chrome/")||TR(e))&&!e.includes("edge/"))return"Chrome";if(SR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _R(t=pr()){return/firefox\//i.test(t)}function ER(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TR(t=pr()){return/crios\//i.test(t)}function AR(t=pr()){return/iemobile/i.test(t)}function SR(t=pr()){return/android/i.test(t)}function NR(t=pr()){return/blackberry/i.test(t)}function CR(t=pr()){return/webos/i.test(t)}function a_(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RL(t=pr()){return a_(t)&&!!window.navigator?.standalone}function IL(){return qM()&&document.documentMode===10}function RR(t=pr()){return a_(t)||SR(t)||CR(t)||NR(t)||/windows phone/i.test(t)||AR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t,e=[]){let n;switch(t){case"Browser":n=tA(pr());break;case"Worker":n=`${tA(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ad}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e={}){return Sd(t,"GET","/v2/passwordPolicy",s_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=6;class DL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nA(this),this.idTokenSubscription=new nA(this),this.beforeStateQueue=new kL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ba(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Y0(this,{idToken:e}),r=await Vs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await K0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xs(this.app))return Promise.reject(Xl(this));const n=e?fn(e):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xs(this.app)?Promise.reject(Xl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xs(this.app)?Promise.reject(Xl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ba(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PL(this),n=new DL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new um("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ba(e)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[ba(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ug(t){return fn(t)}class nA{constructor(e){this.auth=e,this.observer=null,this.addObserver=XM(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ML(t){o_=t}function VL(t){return o_.loadJS(t)}function LL(){return o_.gapiScript}function BL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e){const n=Lg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(sc(a,e??{}))return s;Pi(s,"already-initialized")}return n.initialize({options:e})}function FL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ba);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function zL(t,e,n){const r=Ug(t);ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=kR(e),{host:l,port:u}=$L(e),d=u===null?"":`:${u}`,h={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ct(sc(h,r.config.emulator)&&sc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Jo(l)?(Qw(`${a}//${l}${d}`),Xw("Auth",!0)):qL()}function kR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $L(t){const e=kR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:rA(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:rA(l)}}}function rA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ya("not implemented")}_getIdTokenResponse(e){return ya("not implemented")}_linkToIdToken(e,n){return ya("not implemented")}_getReauthenticationResolver(e){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e){return vL(t,"POST","/v1/accounts:signInWithIdp",s_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="http://localhost";class ac extends PR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ac(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ac(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return qu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qu(e,n)}buildRequest(){const e={requestUri:HL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends l_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends hm{constructor(){super("facebook.com")}static credential(e){return ac._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.FACEBOOK_SIGN_IN_METHOD="facebook.com";No.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends hm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ac._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ha.credential(n,r)}catch{return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com";ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends hm{constructor(){super("github.com")}static credential(e){return ac._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.GITHUB_SIGN_IN_METHOD="github.com";Co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends hm{constructor(){super("twitter.com")}static credential(e,n){return ac._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Vs._fromIdTokenResponse(e,r,s),l=sA(r);return new ed({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=sA(r);return new ed({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function sA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Li{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Z0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Z0(e,n,r,s)}}function OR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Z0._fromErrorAndOperation(t,a,e,r):a})}async function GL(t,e,n=!1){const r=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ed._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,n=!1){const{auth:r}=t;if(xs(r.app))return Promise.reject(Xl(r));const s="reauthenticate";try{const a=await Th(t,OR(r,s,e,t),n);ct(a.idToken,r,"internal-error");const l=i_(a.idToken);ct(l,r,"internal-error");const{sub:u}=l;return ct(t.uid===u,r,"user-mismatch"),ed._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Pi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e,n=!1){if(xs(t.app))return Promise.reject(Xl(t));const r="signIn",s=await OR(t,r,e),a=await ed._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}function KL(t,e,n,r){return fn(t).onIdTokenChanged(e,n,r)}function ZL(t,e,n){return fn(t).beforeAuthStateChanged(e,n)}function DR(t,e,n,r){return fn(t).onAuthStateChanged(e,n,r)}function QL(t){return fn(t).signOut()}const Q0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Q0,"1"),this.storage.removeItem(Q0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1e3,JL=10;class MR extends jR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);IL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MR.type="LOCAL";const eB=MR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR extends jR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VR.type="SESSION";const LR=VR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Fg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async h=>h(n.origin,a)),d=await tB(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const h=c_("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(b){const v=b;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function rB(t){Si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function sB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iB(){return navigator?.serviceWorker?.controller||null}function aB(){return BR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firebaseLocalStorageDb",oB=1,X0="firebaseLocalStorage",FR="fbase_key";class mm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zg(t,e){return t.transaction([X0],e?"readwrite":"readonly").objectStore(X0)}function lB(){const t=indexedDB.deleteDatabase(UR);return new mm(t).toPromise()}function px(){const t=indexedDB.open(UR,oB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(X0,{keyPath:FR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(X0)?e(r):(r.close(),await lB(),e(await px()))})})}async function iA(t,e,n){const r=zg(t,!0).put({[FR]:e,value:n});return new mm(r).toPromise()}async function cB(t,e){const n=zg(t,!1).get(e),r=await new mm(n).toPromise();return r===void 0?null:r.value}function aA(t,e){const n=zg(t,!0).delete(e);return new mm(n).toPromise()}const uB=800,dB=3;class zR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await px(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fg._getInstance(aB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sB(),!this.activeServiceWorker)return;this.sender=new nB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await px();return await iA(e,Q0,"1"),await aA(e,Q0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=zg(s,!1).getAll();return new mm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zR.type="LOCAL";const fB=zR;new fm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e){return e?ba(e):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends PR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hB(t){return YL(t.auth,new u_(t),t.bypassAuthState)}function mB(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),WL(n,new u_(t),t.bypassAuthState)}async function pB(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),GL(n,new u_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hB;case"linkViaPopup":case"linkViaRedirect":return pB;case"reauthViaPopup":case"reauthViaRedirect":return mB;default:Pi(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new fm(2e3,1e4);async function yB(t,e,n){if(xs(t.app))return Promise.reject(Ls(t,"operation-not-supported-in-this-environment"));const r=Ug(t);fL(t,e,l_);const s=$R(r,n);return new Hl(r,"signInViaPopup",e,s).executeNotNull()}class Hl extends qR{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=c_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gB.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="pendingRedirect",P0=new Map;class vB extends qR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=P0.get(this.auth._key());if(!e){try{const r=await xB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}P0.set(this.auth._key(),e)}return this.bypassAuthState||P0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xB(t,e){const n=EB(e),r=_B(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wB(t,e){P0.set(t._key(),e)}function _B(t){return ba(t._redirectPersistence)}function EB(t){return k0(bB,t.config.apiKey,t.name)}async function TB(t,e,n=!1){if(xs(t.app))return Promise.reject(Xl(t));const r=Ug(t),s=$R(r,e),l=await new vB(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=10*60*1e3;class SB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HR(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ls(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AB&&this.cachedEventUids.clear(),this.cachedEventUids.has(oA(e))}saveEventToCache(e){this.cachedEventUids.add(oA(e)),this.lastProcessedEventTime=Date.now()}}function oA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function NB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e={}){return Sd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IB=/^https?/;async function kB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CB(t);for(const n of e)try{if(PB(n))return}catch{}Pi(t,"unauthorized-domain")}function PB(t){const e=hx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!IB.test(n))return!1;if(RB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=new fm(3e4,6e4);function lA(){const t=Si().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DB(t){return new Promise((e,n)=>{function r(){lA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lA(),n(Ls(t,"network-request-failed"))},timeout:OB.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)r();else{const s=BL("iframefcb");return Si()[s]=()=>{gapi.load?r():n(Ls(t,"network-request-failed"))},VL(`${LL()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw O0=null,e})}let O0=null;function jB(t){return O0=O0||DB(t),O0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new fm(5e3,15e3),VB="__/auth/iframe",LB="emulator/auth/iframe",BB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FB(t){const e=t.config;ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?r_(e,LB):`https://${t.config.authDomain}/${VB}`,r={apiKey:e.apiKey,appName:t.name,v:Ad},s=UB.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${dm(r).slice(1)}`}async function zB(t){const e=await jB(t),n=Si().gapi;return ct(n,t,"internal-error"),e.open({where:document.body,url:FB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BB,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ls(t,"network-request-failed"),u=Si().setTimeout(()=>{a(l)},MB.get());function d(){Si().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qB=500,HB=600,GB="_blank",WB="http://localhost";class cA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YB(t,e,n,r=qB,s=HB){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...$B,width:r.toString(),height:s.toString(),top:a,left:l},h=pr().toLowerCase();n&&(u=TR(h)?GB:n),_R(h)&&(e=e||WB,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[w,A])=>`${v}${w}=${A},`,"");if(RL(h)&&u!=="_self")return KB(e||"",u),new cA(null);const b=window.open(e||"",u,m);ct(b,t,"popup-blocked");try{b.focus()}catch{}return new cA(b)}function KB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="__/auth/handler",QB="emulator/auth/handler",XB=encodeURIComponent("fac");async function uA(t,e,n,r,s,a){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ad,eventId:s};if(e instanceof l_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",QM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,b]of Object.entries({}))l[m]=b}if(e instanceof hm){const m=e.getScopes().filter(b=>b!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await t._getAppCheckToken(),h=d?`#${XB}=${encodeURIComponent(d)}`:"";return`${JB(t)}?${dm(u).slice(1)}${h}`}function JB({config:t}){return t.emulator?r_(t,QB):`https://${t.authDomain}/${ZB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="webStorageSupport";class eU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LR,this._completeRedirectFn=TB,this._overrideRedirectResult=wB}async _openPopup(e,n,r,s){Na(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await uA(e,n,r,hx(),s);return YB(e,a,c_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await uA(e,n,r,hx(),s);return rB(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Na(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zB(e),r=new SB(e);return n.register("authEvent",s=>(ct(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(e1,{type:e1},s=>{const a=s?.[0]?.[e1];a!==void 0&&n(!!a),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RR()||ER()||a_()}}const tU=eU;var dA="@firebase/auth",fA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sU(t){ic(new Fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;ct(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IR(t)},h=new jL(r,s,a,d);return FL(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ic(new Fo("auth-internal",e=>{const n=Ug(e.getProvider("auth").getImmediate());return(r=>new nU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(dA,fA,rU(t)),Ai(dA,fA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=5*60,aU=cR("authIdTokenMaxAge")||iU;let hA=null;const oU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aU)return;const s=n?.token;hA!==s&&(hA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lU(t=Bg()){const e=Lg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UL(t,{popupRedirectResolver:tU,persistence:[fB,eB,LR]}),r=cR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=oU(a.toString());ZL(n,l,()=>l(n.currentUser)),KL(n,u=>l(u))}}const s=aR("auth");return s&&zL(n,`http://${s}`),n}function cU(){return document.getElementsByTagName("head")?.[0]??document}ML({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ls("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",cU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sU("Browser");var GR={},$g={};$g.byteLength=fU;$g.toByteArray=mU;$g.fromByteArray=yU;var xi=[],bs=[],uU=typeof Uint8Array<"u"?Uint8Array:Array,t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bu=0,dU=t1.length;bu<dU;++bu)xi[bu]=t1[bu],bs[t1.charCodeAt(bu)]=bu;bs[45]=62;bs[95]=63;function WR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function fU(t){var e=WR(t),n=e[0],r=e[1];return(n+r)*3/4-r}function hU(t,e,n){return(e+n)*3/4-n}function mU(t){var e,n=WR(t),r=n[0],s=n[1],a=new uU(hU(t,r,s)),l=0,u=s>0?r-4:r,d;for(d=0;d<u;d+=4)e=bs[t.charCodeAt(d)]<<18|bs[t.charCodeAt(d+1)]<<12|bs[t.charCodeAt(d+2)]<<6|bs[t.charCodeAt(d+3)],a[l++]=e>>16&255,a[l++]=e>>8&255,a[l++]=e&255;return s===2&&(e=bs[t.charCodeAt(d)]<<2|bs[t.charCodeAt(d+1)]>>4,a[l++]=e&255),s===1&&(e=bs[t.charCodeAt(d)]<<10|bs[t.charCodeAt(d+1)]<<4|bs[t.charCodeAt(d+2)]>>2,a[l++]=e>>8&255,a[l++]=e&255),a}function pU(t){return xi[t>>18&63]+xi[t>>12&63]+xi[t>>6&63]+xi[t&63]}function gU(t,e,n){for(var r,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),s.push(pU(r));return s.join("")}function yU(t){for(var e,n=t.length,r=n%3,s=[],a=16383,l=0,u=n-r;l<u;l+=a)s.push(gU(t,l,l+a>u?u:l+a));return r===1?(e=t[n-1],s.push(xi[e>>2]+xi[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(xi[e>>10]+xi[e>>4&63]+xi[e<<2&63]+"=")),s.join("")}var d_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d_.read=function(t,e,n,r,s){var a,l,u=s*8-r-1,d=(1<<u)-1,h=d>>1,m=-7,b=n?s-1:0,v=n?-1:1,w=t[e+b];for(b+=v,a=w&(1<<-m)-1,w>>=-m,m+=u;m>0;a=a*256+t[e+b],b+=v,m-=8);for(l=a&(1<<-m)-1,a>>=-m,m+=r;m>0;l=l*256+t[e+b],b+=v,m-=8);if(a===0)a=1-h;else{if(a===d)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,r),a=a-h}return(w?-1:1)*l*Math.pow(2,a-r)};d_.write=function(t,e,n,r,s,a){var l,u,d,h=a*8-s-1,m=(1<<h)-1,b=m>>1,v=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:a-1,A=r?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=m):(l=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+b>=1?e+=v/d:e+=v*Math.pow(2,1-b),e*d>=2&&(l++,d/=2),l+b>=m?(u=0,l=m):l+b>=1?(u=(e*d-1)*Math.pow(2,s),l=l+b):(u=e*Math.pow(2,b-1)*Math.pow(2,s),l=0));s>=8;t[n+w]=u&255,w+=A,u/=256,s-=8);for(l=l<<s|u,h+=s;h>0;t[n+w]=l&255,w+=A,l/=256,h-=8);t[n+w-A]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=$g,n=d_,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=m,t.SlowBuffer=U,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s;const{Uint8Array:a,ArrayBuffer:l,SharedArrayBuffer:u}=globalThis;m.TYPED_ARRAY_SUPPORT=d(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const V=new a(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,a.prototype),Object.setPrototypeOf(V,E),V.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}});function h(V){if(V>s)throw new RangeError('The value "'+V+'" is invalid for option "size"');const E=new a(V);return Object.setPrototypeOf(E,m.prototype),E}function m(V,E,S){if(typeof V=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(V)}return b(V,E,S)}m.poolSize=8192;function b(V,E,S){if(typeof V=="string")return T(V,E);if(l.isView(V))return k(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(Ne(V,l)||V&&Ne(V.buffer,l)||typeof u<"u"&&(Ne(V,u)||V&&Ne(V.buffer,u)))return M(V,E,S);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=V.valueOf&&V.valueOf();if(K!=null&&K!==V)return m.from(K,E,S);const te=B(V);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return m.from(V[Symbol.toPrimitive]("string"),E,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}m.from=function(V,E,S){return b(V,E,S)},Object.setPrototypeOf(m.prototype,a.prototype),Object.setPrototypeOf(m,a);function v(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function w(V,E,S){return v(V),V<=0?h(V):E!==void 0?typeof S=="string"?h(V).fill(E,S):h(V).fill(E):h(V)}m.alloc=function(V,E,S){return w(V,E,S)};function A(V){return v(V),h(V<0?0:$(V)|0)}m.allocUnsafe=function(V){return A(V)},m.allocUnsafeSlow=function(V){return A(V)};function T(V,E){if((typeof E!="string"||E==="")&&(E="utf8"),!m.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const S=Z(V,E)|0;let K=h(S);const te=K.write(V,E);return te!==S&&(K=K.slice(0,te)),K}function N(V){const E=V.length<0?0:$(V.length)|0,S=h(E);for(let K=0;K<E;K+=1)S[K]=V[K]&255;return S}function k(V){if(Ne(V,a)){const E=new a(V);return M(E.buffer,E.byteOffset,E.byteLength)}return N(V)}function M(V,E,S){if(E<0||V.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<E+(S||0))throw new RangeError('"length" is outside of buffer bounds');let K;return E===void 0&&S===void 0?K=new a(V):S===void 0?K=new a(V,E):K=new a(V,E,S),Object.setPrototypeOf(K,m.prototype),K}function B(V){if(m.isBuffer(V)){const E=$(V.length)|0,S=h(E);return S.length===0||V.copy(S,0,0,E),S}if(V.length!==void 0)return typeof V.length!="number"||Be(V.length)?h(0):N(V);if(V.type==="Buffer"&&Array.isArray(V.data))return N(V.data)}function $(V){if(V>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return V|0}function U(V){return+V!=V&&(V=0),m.alloc(+V)}m.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==m.prototype},m.compare=function(E,S){if(Ne(E,a)&&(E=m.from(E,E.offset,E.byteLength)),Ne(S,a)&&(S=m.from(S,S.offset,S.byteLength)),!m.isBuffer(E)||!m.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===S)return 0;let K=E.length,te=S.length;for(let ue=0,ve=Math.min(K,te);ue<ve;++ue)if(E[ue]!==S[ue]){K=E[ue],te=S[ue];break}return K<te?-1:te<K?1:0},m.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(E,S){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return m.alloc(0);let K;if(S===void 0)for(S=0,K=0;K<E.length;++K)S+=E[K].length;const te=m.allocUnsafe(S);let ue=0;for(K=0;K<E.length;++K){let ve=E[K];if(Ne(ve,a))ue+ve.length>te.length?(m.isBuffer(ve)||(ve=m.from(ve)),ve.copy(te,ue)):a.prototype.set.call(te,ve,ue);else if(m.isBuffer(ve))ve.copy(te,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=ve.length}return te};function Z(V,E){if(m.isBuffer(V))return V.length;if(l.isView(V)||Ne(V,l))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const S=V.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&S===0)return 0;let te=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return J(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return De(V).length;default:if(te)return K?-1:J(V).length;E=(""+E).toLowerCase(),te=!0}}m.byteLength=Z;function P(V,E,S){let K=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,E>>>=0,S<=E))return"";for(V||(V="utf8");;)switch(V){case"hex":return fe(this,E,S);case"utf8":case"utf-8":return Q(this,E,S);case"ascii":return G(this,E,S);case"latin1":case"binary":return ne(this,E,S);case"base64":return Y(this,E,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,E,S);default:if(K)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),K=!0}}m.prototype._isBuffer=!0;function R(V,E,S){const K=V[E];V[E]=V[S],V[S]=K}m.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<E;S+=2)R(this,S,S+1);return this},m.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<E;S+=4)R(this,S,S+3),R(this,S+1,S+2);return this},m.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<E;S+=8)R(this,S,S+7),R(this,S+1,S+6),R(this,S+2,S+5),R(this,S+3,S+4);return this},m.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?Q(this,0,E):P.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(E){if(!m.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:m.compare(this,E)===0},m.prototype.inspect=function(){let E="";const S=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(E+=" ... "),"<Buffer "+E+">"},r&&(m.prototype[r]=m.prototype.inspect),m.prototype.compare=function(E,S,K,te,ue){if(Ne(E,a)&&(E=m.from(E,E.offset,E.byteLength)),!m.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(S===void 0&&(S=0),K===void 0&&(K=E?E.length:0),te===void 0&&(te=0),ue===void 0&&(ue=this.length),S<0||K>E.length||te<0||ue>this.length)throw new RangeError("out of range index");if(te>=ue&&S>=K)return 0;if(te>=ue)return-1;if(S>=K)return 1;if(S>>>=0,K>>>=0,te>>>=0,ue>>>=0,this===E)return 0;let ve=ue-te,ot=K-S;const kt=Math.min(ve,ot),Bt=this.slice(te,ue),jt=E.slice(S,K);for(let St=0;St<kt;++St)if(Bt[St]!==jt[St]){ve=Bt[St],ot=jt[St];break}return ve<ot?-1:ot<ve?1:0};function j(V,E,S,K,te){if(V.length===0)return-1;if(typeof S=="string"?(K=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,Be(S)&&(S=te?0:V.length-1),S<0&&(S=V.length+S),S>=V.length){if(te)return-1;S=V.length-1}else if(S<0)if(te)S=0;else return-1;if(typeof E=="string"&&(E=m.from(E,K)),m.isBuffer(E))return E.length===0?-1:F(V,E,S,K,te);if(typeof E=="number")return E=E&255,typeof a.prototype.indexOf=="function"?te?a.prototype.indexOf.call(V,E,S):a.prototype.lastIndexOf.call(V,E,S):F(V,[E],S,K,te);throw new TypeError("val must be string, number or Buffer")}function F(V,E,S,K,te){let ue=1,ve=V.length,ot=E.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(V.length<2||E.length<2)return-1;ue=2,ve/=2,ot/=2,S/=2}function kt(jt,St){return ue===1?jt[St]:jt.readUInt16BE(St*ue)}let Bt;if(te){let jt=-1;for(Bt=S;Bt<ve;Bt++)if(kt(V,Bt)===kt(E,jt===-1?0:Bt-jt)){if(jt===-1&&(jt=Bt),Bt-jt+1===ot)return jt*ue}else jt!==-1&&(Bt-=Bt-jt),jt=-1}else for(S+ot>ve&&(S=ve-ot),Bt=S;Bt>=0;Bt--){let jt=!0;for(let St=0;St<ot;St++)if(kt(V,Bt+St)!==kt(E,St)){jt=!1;break}if(jt)return Bt}return-1}m.prototype.includes=function(E,S,K){return this.indexOf(E,S,K)!==-1},m.prototype.indexOf=function(E,S,K){return j(this,E,S,K,!0)},m.prototype.lastIndexOf=function(E,S,K){return j(this,E,S,K,!1)};function z(V,E,S,K){S=Number(S)||0;const te=V.length-S;K?(K=Number(K),K>te&&(K=te)):K=te;const ue=E.length;K>ue/2&&(K=ue/2);let ve;for(ve=0;ve<K;++ve){const ot=parseInt(E.substr(ve*2,2),16);if(Be(ot))return ve;V[S+ve]=ot}return ve}function q(V,E,S,K){return Ie(J(E,V.length-S),V,S,K)}function D(V,E,S,K){return Ie(le(E),V,S,K)}function me(V,E,S,K){return Ie(De(E),V,S,K)}function ie(V,E,S,K){return Ie(be(E,V.length-S),V,S,K)}m.prototype.write=function(E,S,K,te){if(S===void 0)te="utf8",K=this.length,S=0;else if(K===void 0&&typeof S=="string")te=S,K=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(K)?(K=K>>>0,te===void 0&&(te="utf8")):(te=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ue=this.length-S;if((K===void 0||K>ue)&&(K=ue),E.length>0&&(K<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let ve=!1;for(;;)switch(te){case"hex":return z(this,E,S,K);case"utf8":case"utf-8":return q(this,E,S,K);case"ascii":case"latin1":case"binary":return D(this,E,S,K);case"base64":return me(this,E,S,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,E,S,K);default:if(ve)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ve=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(V,E,S){return E===0&&S===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(E,S))}function Q(V,E,S){S=Math.min(V.length,S);const K=[];let te=E;for(;te<S;){const ue=V[te];let ve=null,ot=ue>239?4:ue>223?3:ue>191?2:1;if(te+ot<=S){let kt,Bt,jt,St;switch(ot){case 1:ue<128&&(ve=ue);break;case 2:kt=V[te+1],(kt&192)===128&&(St=(ue&31)<<6|kt&63,St>127&&(ve=St));break;case 3:kt=V[te+1],Bt=V[te+2],(kt&192)===128&&(Bt&192)===128&&(St=(ue&15)<<12|(kt&63)<<6|Bt&63,St>2047&&(St<55296||St>57343)&&(ve=St));break;case 4:kt=V[te+1],Bt=V[te+2],jt=V[te+3],(kt&192)===128&&(Bt&192)===128&&(jt&192)===128&&(St=(ue&15)<<18|(kt&63)<<12|(Bt&63)<<6|jt&63,St>65535&&St<1114112&&(ve=St))}}ve===null?(ve=65533,ot=1):ve>65535&&(ve-=65536,K.push(ve>>>10&1023|55296),ve=56320|ve&1023),K.push(ve),te+=ot}return se(K)}const W=4096;function se(V){const E=V.length;if(E<=W)return String.fromCharCode.apply(String,V);let S="",K=0;for(;K<E;)S+=String.fromCharCode.apply(String,V.slice(K,K+=W));return S}function G(V,E,S){let K="";S=Math.min(V.length,S);for(let te=E;te<S;++te)K+=String.fromCharCode(V[te]&127);return K}function ne(V,E,S){let K="";S=Math.min(V.length,S);for(let te=E;te<S;++te)K+=String.fromCharCode(V[te]);return K}function fe(V,E,S){const K=V.length;(!E||E<0)&&(E=0),(!S||S<0||S>K)&&(S=K);let te="";for(let ue=E;ue<S;++ue)te+=it[V[ue]];return te}function ye(V,E,S){const K=V.slice(E,S);let te="";for(let ue=0;ue<K.length-1;ue+=2)te+=String.fromCharCode(K[ue]+K[ue+1]*256);return te}m.prototype.slice=function(E,S){const K=this.length;E=~~E,S=S===void 0?K:~~S,E<0?(E+=K,E<0&&(E=0)):E>K&&(E=K),S<0?(S+=K,S<0&&(S=0)):S>K&&(S=K),S<E&&(S=E);const te=this.subarray(E,S);return Object.setPrototypeOf(te,m.prototype),te};function ge(V,E,S){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+E>S)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(E,S,K){E=E>>>0,S=S>>>0,K||ge(E,S,this.length);let te=this[E],ue=1,ve=0;for(;++ve<S&&(ue*=256);)te+=this[E+ve]*ue;return te},m.prototype.readUintBE=m.prototype.readUIntBE=function(E,S,K){E=E>>>0,S=S>>>0,K||ge(E,S,this.length);let te=this[E+--S],ue=1;for(;S>0&&(ue*=256);)te+=this[E+--S]*ue;return te},m.prototype.readUint8=m.prototype.readUInt8=function(E,S){return E=E>>>0,S||ge(E,1,this.length),this[E]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(E,S){return E=E>>>0,S||ge(E,2,this.length),this[E]|this[E+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(E,S){return E=E>>>0,S||ge(E,2,this.length),this[E]<<8|this[E+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(E,S){return E=E>>>0,S||ge(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(E,S){return E=E>>>0,S||ge(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},m.prototype.readBigUInt64LE=at(function(E){E=E>>>0,yn(E,"offset");const S=this[E],K=this[E+7];(S===void 0||K===void 0)&&Kt(E,this.length-8);const te=S+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,ue=this[++E]+this[++E]*2**8+this[++E]*2**16+K*2**24;return BigInt(te)+(BigInt(ue)<<BigInt(32))}),m.prototype.readBigUInt64BE=at(function(E){E=E>>>0,yn(E,"offset");const S=this[E],K=this[E+7];(S===void 0||K===void 0)&&Kt(E,this.length-8);const te=S*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],ue=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+K;return(BigInt(te)<<BigInt(32))+BigInt(ue)}),m.prototype.readIntLE=function(E,S,K){E=E>>>0,S=S>>>0,K||ge(E,S,this.length);let te=this[E],ue=1,ve=0;for(;++ve<S&&(ue*=256);)te+=this[E+ve]*ue;return ue*=128,te>=ue&&(te-=Math.pow(2,8*S)),te},m.prototype.readIntBE=function(E,S,K){E=E>>>0,S=S>>>0,K||ge(E,S,this.length);let te=S,ue=1,ve=this[E+--te];for(;te>0&&(ue*=256);)ve+=this[E+--te]*ue;return ue*=128,ve>=ue&&(ve-=Math.pow(2,8*S)),ve},m.prototype.readInt8=function(E,S){return E=E>>>0,S||ge(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},m.prototype.readInt16LE=function(E,S){E=E>>>0,S||ge(E,2,this.length);const K=this[E]|this[E+1]<<8;return K&32768?K|4294901760:K},m.prototype.readInt16BE=function(E,S){E=E>>>0,S||ge(E,2,this.length);const K=this[E+1]|this[E]<<8;return K&32768?K|4294901760:K},m.prototype.readInt32LE=function(E,S){return E=E>>>0,S||ge(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},m.prototype.readInt32BE=function(E,S){return E=E>>>0,S||ge(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},m.prototype.readBigInt64LE=at(function(E){E=E>>>0,yn(E,"offset");const S=this[E],K=this[E+7];(S===void 0||K===void 0)&&Kt(E,this.length-8);const te=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(K<<24);return(BigInt(te)<<BigInt(32))+BigInt(S+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),m.prototype.readBigInt64BE=at(function(E){E=E>>>0,yn(E,"offset");const S=this[E],K=this[E+7];(S===void 0||K===void 0)&&Kt(E,this.length-8);const te=(S<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(te)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+K)}),m.prototype.readFloatLE=function(E,S){return E=E>>>0,S||ge(E,4,this.length),n.read(this,E,!0,23,4)},m.prototype.readFloatBE=function(E,S){return E=E>>>0,S||ge(E,4,this.length),n.read(this,E,!1,23,4)},m.prototype.readDoubleLE=function(E,S){return E=E>>>0,S||ge(E,8,this.length),n.read(this,E,!0,52,8)},m.prototype.readDoubleBE=function(E,S){return E=E>>>0,S||ge(E,8,this.length),n.read(this,E,!1,52,8)};function Ce(V,E,S,K,te,ue){if(!m.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>te||E<ue)throw new RangeError('"value" argument is out of bounds');if(S+K>V.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(E,S,K,te){if(E=+E,S=S>>>0,K=K>>>0,!te){const ot=Math.pow(2,8*K)-1;Ce(this,E,S,K,ot,0)}let ue=1,ve=0;for(this[S]=E&255;++ve<K&&(ue*=256);)this[S+ve]=E/ue&255;return S+K},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(E,S,K,te){if(E=+E,S=S>>>0,K=K>>>0,!te){const ot=Math.pow(2,8*K)-1;Ce(this,E,S,K,ot,0)}let ue=K-1,ve=1;for(this[S+ue]=E&255;--ue>=0&&(ve*=256);)this[S+ue]=E/ve&255;return S+K},m.prototype.writeUint8=m.prototype.writeUInt8=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,1,255,0),this[S]=E&255,S+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,2,65535,0),this[S]=E&255,this[S+1]=E>>>8,S+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,2,65535,0),this[S]=E>>>8,this[S+1]=E&255,S+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,4,4294967295,0),this[S+3]=E>>>24,this[S+2]=E>>>16,this[S+1]=E>>>8,this[S]=E&255,S+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,4,4294967295,0),this[S]=E>>>24,this[S+1]=E>>>16,this[S+2]=E>>>8,this[S+3]=E&255,S+4};function Oe(V,E,S,K,te){Rn(E,K,te,V,S,7);let ue=Number(E&BigInt(4294967295));V[S++]=ue,ue=ue>>8,V[S++]=ue,ue=ue>>8,V[S++]=ue,ue=ue>>8,V[S++]=ue;let ve=Number(E>>BigInt(32)&BigInt(4294967295));return V[S++]=ve,ve=ve>>8,V[S++]=ve,ve=ve>>8,V[S++]=ve,ve=ve>>8,V[S++]=ve,S}function Ee(V,E,S,K,te){Rn(E,K,te,V,S,7);let ue=Number(E&BigInt(4294967295));V[S+7]=ue,ue=ue>>8,V[S+6]=ue,ue=ue>>8,V[S+5]=ue,ue=ue>>8,V[S+4]=ue;let ve=Number(E>>BigInt(32)&BigInt(4294967295));return V[S+3]=ve,ve=ve>>8,V[S+2]=ve,ve=ve>>8,V[S+1]=ve,ve=ve>>8,V[S]=ve,S+8}m.prototype.writeBigUInt64LE=at(function(E,S=0){return Oe(this,E,S,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=at(function(E,S=0){return Ee(this,E,S,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(E,S,K,te){if(E=+E,S=S>>>0,!te){const kt=Math.pow(2,8*K-1);Ce(this,E,S,K,kt-1,-kt)}let ue=0,ve=1,ot=0;for(this[S]=E&255;++ue<K&&(ve*=256);)E<0&&ot===0&&this[S+ue-1]!==0&&(ot=1),this[S+ue]=(E/ve>>0)-ot&255;return S+K},m.prototype.writeIntBE=function(E,S,K,te){if(E=+E,S=S>>>0,!te){const kt=Math.pow(2,8*K-1);Ce(this,E,S,K,kt-1,-kt)}let ue=K-1,ve=1,ot=0;for(this[S+ue]=E&255;--ue>=0&&(ve*=256);)E<0&&ot===0&&this[S+ue+1]!==0&&(ot=1),this[S+ue]=(E/ve>>0)-ot&255;return S+K},m.prototype.writeInt8=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,1,127,-128),E<0&&(E=255+E+1),this[S]=E&255,S+1},m.prototype.writeInt16LE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,2,32767,-32768),this[S]=E&255,this[S+1]=E>>>8,S+2},m.prototype.writeInt16BE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,2,32767,-32768),this[S]=E>>>8,this[S+1]=E&255,S+2},m.prototype.writeInt32LE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,4,2147483647,-2147483648),this[S]=E&255,this[S+1]=E>>>8,this[S+2]=E>>>16,this[S+3]=E>>>24,S+4},m.prototype.writeInt32BE=function(E,S,K){return E=+E,S=S>>>0,K||Ce(this,E,S,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[S]=E>>>24,this[S+1]=E>>>16,this[S+2]=E>>>8,this[S+3]=E&255,S+4},m.prototype.writeBigInt64LE=at(function(E,S=0){return Oe(this,E,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=at(function(E,S=0){return Ee(this,E,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ve(V,E,S,K,te,ue){if(S+K>V.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function nt(V,E,S,K,te){return E=+E,S=S>>>0,te||Ve(V,E,S,4),n.write(V,E,S,K,23,4),S+4}m.prototype.writeFloatLE=function(E,S,K){return nt(this,E,S,!0,K)},m.prototype.writeFloatBE=function(E,S,K){return nt(this,E,S,!1,K)};function Qe(V,E,S,K,te){return E=+E,S=S>>>0,te||Ve(V,E,S,8),n.write(V,E,S,K,52,8),S+8}m.prototype.writeDoubleLE=function(E,S,K){return Qe(this,E,S,!0,K)},m.prototype.writeDoubleBE=function(E,S,K){return Qe(this,E,S,!1,K)},m.prototype.copy=function(E,S,K,te){if(!m.isBuffer(E))throw new TypeError("argument should be a Buffer");if(K||(K=0),!te&&te!==0&&(te=this.length),S>=E.length&&(S=E.length),S||(S=0),te>0&&te<K&&(te=K),te===K||E.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),E.length-S<te-K&&(te=E.length-S+K);const ue=te-K;return this===E&&typeof a.prototype.copyWithin=="function"?this.copyWithin(S,K,te):a.prototype.set.call(E,this.subarray(K,te),S),ue},m.prototype.fill=function(E,S,K,te){if(typeof E=="string"){if(typeof S=="string"?(te=S,S=0,K=this.length):typeof K=="string"&&(te=K,K=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!m.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(E.length===1){const ve=E.charCodeAt(0);(te==="utf8"&&ve<128||te==="latin1")&&(E=ve)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(S<0||this.length<S||this.length<K)throw new RangeError("Out of range index");if(K<=S)return this;S=S>>>0,K=K===void 0?this.length:K>>>0,E||(E=0);let ue;if(typeof E=="number")for(ue=S;ue<K;++ue)this[ue]=E;else{const ve=m.isBuffer(E)?E:m.from(E,te),ot=ve.length;if(ot===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(ue=0;ue<K-S;++ue)this[ue+S]=ve[ue%ot]}return this};const et={};function st(V,E,S){et[V]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}st("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),st("ERR_INVALID_ARG_TYPE",function(V,E){return`The "${V}" argument must be of type number. Received type ${typeof E}`},TypeError),st("ERR_OUT_OF_RANGE",function(V,E,S){let K=`The value of "${V}" is out of range.`,te=S;return Number.isInteger(S)&&Math.abs(S)>2**32?te=Xe(String(S)):typeof S=="bigint"&&(te=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(te=Xe(te)),te+="n"),K+=` It must be ${E}. Received ${te}`,K},RangeError);function Xe(V){let E="",S=V.length;const K=V[0]==="-"?1:0;for(;S>=K+4;S-=3)E=`_${V.slice(S-3,S)}${E}`;return`${V.slice(0,S)}${E}`}function Dt(V,E,S){yn(E,"offset"),(V[E]===void 0||V[E+S]===void 0)&&Kt(E,V.length-(S+1))}function Rn(V,E,S,K,te,ue){if(V>S||V<E){const ve=typeof E=="bigint"?"n":"";let ot;throw E===0||E===BigInt(0)?ot=`>= 0${ve} and < 2${ve} ** ${(ue+1)*8}${ve}`:ot=`>= -(2${ve} ** ${(ue+1)*8-1}${ve}) and < 2 ** ${(ue+1)*8-1}${ve}`,new et.ERR_OUT_OF_RANGE("value",ot,V)}Dt(K,te,ue)}function yn(V,E){if(typeof V!="number")throw new et.ERR_INVALID_ARG_TYPE(E,"number",V)}function Kt(V,E,S){throw Math.floor(V)!==V?(yn(V,S),new et.ERR_OUT_OF_RANGE("offset","an integer",V)):E<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,V)}const il=/[^+/0-9A-Za-z-_]/g;function an(V){if(V=V.split("=")[0],V=V.trim().replace(il,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function J(V,E){E=E||1/0;let S;const K=V.length;let te=null;const ue=[];for(let ve=0;ve<K;++ve){if(S=V.charCodeAt(ve),S>55295&&S<57344){if(!te){if(S>56319){(E-=3)>-1&&ue.push(239,191,189);continue}else if(ve+1===K){(E-=3)>-1&&ue.push(239,191,189);continue}te=S;continue}if(S<56320){(E-=3)>-1&&ue.push(239,191,189),te=S;continue}S=(te-55296<<10|S-56320)+65536}else te&&(E-=3)>-1&&ue.push(239,191,189);if(te=null,S<128){if((E-=1)<0)break;ue.push(S)}else if(S<2048){if((E-=2)<0)break;ue.push(S>>6|192,S&63|128)}else if(S<65536){if((E-=3)<0)break;ue.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((E-=4)<0)break;ue.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return ue}function le(V){const E=[];for(let S=0;S<V.length;++S)E.push(V.charCodeAt(S)&255);return E}function be(V,E){let S,K,te;const ue=[];for(let ve=0;ve<V.length&&!((E-=2)<0);++ve)S=V.charCodeAt(ve),K=S>>8,te=S%256,ue.push(te),ue.push(K);return ue}function De(V){return e.toByteArray(an(V))}function Ie(V,E,S,K){let te;for(te=0;te<K&&!(te+S>=E.length||te>=V.length);++te)E[te+S]=V[te];return te}function Ne(V,E){return V instanceof E||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===E.name}function Be(V){return V!==V}const it=function(){const V="0123456789abcdef",E=new Array(256);for(let S=0;S<16;++S){const K=S*16;for(let te=0;te<16;++te)E[K+te]=V[S]+V[te]}return E}();function at(V){return typeof BigInt>"u"?Lt:V}function Lt(){throw new Error("BigInt not supported")}})(GR);const bU=GR.Buffer;var mA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof tc<"u"?tc:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,YR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function j(){}j.prototype=R.prototype,P.F=R.prototype,P.prototype=new j,P.prototype.constructor=P,P.D=function(F,z,q){for(var D=Array(arguments.length-2),me=2;me<arguments.length;me++)D[me-2]=arguments[me];return R.prototype[z].apply(F,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,R,j){j||(j=0);const F=Array(16);if(typeof R=="string")for(var z=0;z<16;++z)F[z]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(z=0;z<16;++z)F[z]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=P.g[0],j=P.g[1],z=P.g[2];let q=P.g[3],D;D=R+(q^j&(z^q))+F[0]+3614090360&4294967295,R=j+(D<<7&4294967295|D>>>25),D=q+(z^R&(j^z))+F[1]+3905402710&4294967295,q=R+(D<<12&4294967295|D>>>20),D=z+(j^q&(R^j))+F[2]+606105819&4294967295,z=q+(D<<17&4294967295|D>>>15),D=j+(R^z&(q^R))+F[3]+3250441966&4294967295,j=z+(D<<22&4294967295|D>>>10),D=R+(q^j&(z^q))+F[4]+4118548399&4294967295,R=j+(D<<7&4294967295|D>>>25),D=q+(z^R&(j^z))+F[5]+1200080426&4294967295,q=R+(D<<12&4294967295|D>>>20),D=z+(j^q&(R^j))+F[6]+2821735955&4294967295,z=q+(D<<17&4294967295|D>>>15),D=j+(R^z&(q^R))+F[7]+4249261313&4294967295,j=z+(D<<22&4294967295|D>>>10),D=R+(q^j&(z^q))+F[8]+1770035416&4294967295,R=j+(D<<7&4294967295|D>>>25),D=q+(z^R&(j^z))+F[9]+2336552879&4294967295,q=R+(D<<12&4294967295|D>>>20),D=z+(j^q&(R^j))+F[10]+4294925233&4294967295,z=q+(D<<17&4294967295|D>>>15),D=j+(R^z&(q^R))+F[11]+2304563134&4294967295,j=z+(D<<22&4294967295|D>>>10),D=R+(q^j&(z^q))+F[12]+1804603682&4294967295,R=j+(D<<7&4294967295|D>>>25),D=q+(z^R&(j^z))+F[13]+4254626195&4294967295,q=R+(D<<12&4294967295|D>>>20),D=z+(j^q&(R^j))+F[14]+2792965006&4294967295,z=q+(D<<17&4294967295|D>>>15),D=j+(R^z&(q^R))+F[15]+1236535329&4294967295,j=z+(D<<22&4294967295|D>>>10),D=R+(z^q&(j^z))+F[1]+4129170786&4294967295,R=j+(D<<5&4294967295|D>>>27),D=q+(j^z&(R^j))+F[6]+3225465664&4294967295,q=R+(D<<9&4294967295|D>>>23),D=z+(R^j&(q^R))+F[11]+643717713&4294967295,z=q+(D<<14&4294967295|D>>>18),D=j+(q^R&(z^q))+F[0]+3921069994&4294967295,j=z+(D<<20&4294967295|D>>>12),D=R+(z^q&(j^z))+F[5]+3593408605&4294967295,R=j+(D<<5&4294967295|D>>>27),D=q+(j^z&(R^j))+F[10]+38016083&4294967295,q=R+(D<<9&4294967295|D>>>23),D=z+(R^j&(q^R))+F[15]+3634488961&4294967295,z=q+(D<<14&4294967295|D>>>18),D=j+(q^R&(z^q))+F[4]+3889429448&4294967295,j=z+(D<<20&4294967295|D>>>12),D=R+(z^q&(j^z))+F[9]+568446438&4294967295,R=j+(D<<5&4294967295|D>>>27),D=q+(j^z&(R^j))+F[14]+3275163606&4294967295,q=R+(D<<9&4294967295|D>>>23),D=z+(R^j&(q^R))+F[3]+4107603335&4294967295,z=q+(D<<14&4294967295|D>>>18),D=j+(q^R&(z^q))+F[8]+1163531501&4294967295,j=z+(D<<20&4294967295|D>>>12),D=R+(z^q&(j^z))+F[13]+2850285829&4294967295,R=j+(D<<5&4294967295|D>>>27),D=q+(j^z&(R^j))+F[2]+4243563512&4294967295,q=R+(D<<9&4294967295|D>>>23),D=z+(R^j&(q^R))+F[7]+1735328473&4294967295,z=q+(D<<14&4294967295|D>>>18),D=j+(q^R&(z^q))+F[12]+2368359562&4294967295,j=z+(D<<20&4294967295|D>>>12),D=R+(j^z^q)+F[5]+4294588738&4294967295,R=j+(D<<4&4294967295|D>>>28),D=q+(R^j^z)+F[8]+2272392833&4294967295,q=R+(D<<11&4294967295|D>>>21),D=z+(q^R^j)+F[11]+1839030562&4294967295,z=q+(D<<16&4294967295|D>>>16),D=j+(z^q^R)+F[14]+4259657740&4294967295,j=z+(D<<23&4294967295|D>>>9),D=R+(j^z^q)+F[1]+2763975236&4294967295,R=j+(D<<4&4294967295|D>>>28),D=q+(R^j^z)+F[4]+1272893353&4294967295,q=R+(D<<11&4294967295|D>>>21),D=z+(q^R^j)+F[7]+4139469664&4294967295,z=q+(D<<16&4294967295|D>>>16),D=j+(z^q^R)+F[10]+3200236656&4294967295,j=z+(D<<23&4294967295|D>>>9),D=R+(j^z^q)+F[13]+681279174&4294967295,R=j+(D<<4&4294967295|D>>>28),D=q+(R^j^z)+F[0]+3936430074&4294967295,q=R+(D<<11&4294967295|D>>>21),D=z+(q^R^j)+F[3]+3572445317&4294967295,z=q+(D<<16&4294967295|D>>>16),D=j+(z^q^R)+F[6]+76029189&4294967295,j=z+(D<<23&4294967295|D>>>9),D=R+(j^z^q)+F[9]+3654602809&4294967295,R=j+(D<<4&4294967295|D>>>28),D=q+(R^j^z)+F[12]+3873151461&4294967295,q=R+(D<<11&4294967295|D>>>21),D=z+(q^R^j)+F[15]+530742520&4294967295,z=q+(D<<16&4294967295|D>>>16),D=j+(z^q^R)+F[2]+3299628645&4294967295,j=z+(D<<23&4294967295|D>>>9),D=R+(z^(j|~q))+F[0]+4096336452&4294967295,R=j+(D<<6&4294967295|D>>>26),D=q+(j^(R|~z))+F[7]+1126891415&4294967295,q=R+(D<<10&4294967295|D>>>22),D=z+(R^(q|~j))+F[14]+2878612391&4294967295,z=q+(D<<15&4294967295|D>>>17),D=j+(q^(z|~R))+F[5]+4237533241&4294967295,j=z+(D<<21&4294967295|D>>>11),D=R+(z^(j|~q))+F[12]+1700485571&4294967295,R=j+(D<<6&4294967295|D>>>26),D=q+(j^(R|~z))+F[3]+2399980690&4294967295,q=R+(D<<10&4294967295|D>>>22),D=z+(R^(q|~j))+F[10]+4293915773&4294967295,z=q+(D<<15&4294967295|D>>>17),D=j+(q^(z|~R))+F[1]+2240044497&4294967295,j=z+(D<<21&4294967295|D>>>11),D=R+(z^(j|~q))+F[8]+1873313359&4294967295,R=j+(D<<6&4294967295|D>>>26),D=q+(j^(R|~z))+F[15]+4264355552&4294967295,q=R+(D<<10&4294967295|D>>>22),D=z+(R^(q|~j))+F[6]+2734768916&4294967295,z=q+(D<<15&4294967295|D>>>17),D=j+(q^(z|~R))+F[13]+1309151649&4294967295,j=z+(D<<21&4294967295|D>>>11),D=R+(z^(j|~q))+F[4]+4149444226&4294967295,R=j+(D<<6&4294967295|D>>>26),D=q+(j^(R|~z))+F[11]+3174756917&4294967295,q=R+(D<<10&4294967295|D>>>22),D=z+(R^(q|~j))+F[2]+718787259&4294967295,z=q+(D<<15&4294967295|D>>>17),D=j+(q^(z|~R))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(z+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+z&4294967295,P.g[3]=P.g[3]+q&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const j=R-this.blockSize,F=this.C;let z=this.h,q=0;for(;q<R;){if(z==0)for(;q<=j;)s(this,P,q),q+=this.blockSize;if(typeof P=="string"){for(;q<R;)if(F[z++]=P.charCodeAt(q++),z==this.blockSize){s(this,F),z=0;break}}else for(;q<R;)if(F[z++]=P[q++],z==this.blockSize){s(this,F),z=0;break}}this.h=z,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var j=P.length-8;j<P.length;++j)P[j]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,j=0;j<4;++j)for(let F=0;F<32;F+=8)P[R++]=this.g[j]>>>F&255;return P};function a(P,R){var j=u;return Object.prototype.hasOwnProperty.call(j,P)?j[P]:j[P]=R(P)}function l(P,R){this.h=R;const j=[];let F=!0;for(let z=P.length-1;z>=0;z--){const q=P[z]|0;F&&q==R||(j[z]=q,F=!1)}this.g=j}var u={};function d(P){return-128<=P&&P<128?a(P,function(R){return new l([R|0],R<0?-1:0)}):new l([P|0],P<0?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return b;if(P<0)return N(h(-P));const R=[];let j=1;for(let F=0;P>=j;F++)R[F]=P/j|0,j*=4294967296;return new l(R,0)}function m(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return N(m(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=h(Math.pow(R,8));let F=b;for(let q=0;q<P.length;q+=8){var z=Math.min(8,P.length-q);const D=parseInt(P.substring(q,q+z),R);z<8?(z=h(Math.pow(R,z)),F=F.j(z).add(h(D))):(F=F.j(j),F=F.add(h(D)))}return F}var b=d(0),v=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(T(this))return-N(this).m();let P=0,R=1;for(let j=0;j<this.g.length;j++){const F=this.i(j);P+=(F>=0?F:4294967296+F)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(T(this))return"-"+N(this).toString(P);const R=h(Math.pow(P,6));var j=this;let F="";for(;;){const z=$(j,R).g;j=k(j,z.j(R));let q=((j.g.length>0?j.g[0]:j.h)>>>0).toString(P);if(j=z,A(j))return q+F;for(;q.length<6;)q="0"+q;F=q+F}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function T(P){return P.h==-1}t.l=function(P){return P=k(this,P),T(P)?-1:A(P)?0:1};function N(P){const R=P.g.length,j=[];for(let F=0;F<R;F++)j[F]=~P.g[F];return new l(j,~P.h).add(v)}t.abs=function(){return T(this)?N(this):this},t.add=function(P){const R=Math.max(this.g.length,P.g.length),j=[];let F=0;for(let z=0;z<=R;z++){let q=F+(this.i(z)&65535)+(P.i(z)&65535),D=(q>>>16)+(this.i(z)>>>16)+(P.i(z)>>>16);F=D>>>16,q&=65535,D&=65535,j[z]=D<<16|q}return new l(j,j[j.length-1]&-2147483648?-1:0)};function k(P,R){return P.add(N(R))}t.j=function(P){if(A(this)||A(P))return b;if(T(this))return T(P)?N(this).j(N(P)):N(N(this).j(P));if(T(P))return N(this.j(N(P)));if(this.l(w)<0&&P.l(w)<0)return h(this.m()*P.m());const R=this.g.length+P.g.length,j=[];for(var F=0;F<2*R;F++)j[F]=0;for(F=0;F<this.g.length;F++)for(let z=0;z<P.g.length;z++){const q=this.i(F)>>>16,D=this.i(F)&65535,me=P.i(z)>>>16,ie=P.i(z)&65535;j[2*F+2*z]+=D*ie,M(j,2*F+2*z),j[2*F+2*z+1]+=q*ie,M(j,2*F+2*z+1),j[2*F+2*z+1]+=D*me,M(j,2*F+2*z+1),j[2*F+2*z+2]+=q*me,M(j,2*F+2*z+2)}for(P=0;P<R;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=R;P<2*R;P++)j[P]=0;return new l(j,0)};function M(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function B(P,R){this.g=P,this.h=R}function $(P,R){if(A(R))throw Error("division by zero");if(A(P))return new B(b,b);if(T(P))return R=$(N(P),R),new B(N(R.g),N(R.h));if(T(R))return R=$(P,N(R)),new B(N(R.g),R.h);if(P.g.length>30){if(T(P)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var j=v,F=R;F.l(P)<=0;)j=U(j),F=U(F);var z=Z(j,1),q=Z(F,1);for(F=Z(F,2),j=Z(j,2);!A(F);){var D=q.add(F);D.l(P)<=0&&(z=z.add(j),q=D),F=Z(F,1),j=Z(j,1)}return R=k(P,z.j(R)),new B(z,R)}for(z=b;P.l(R)>=0;){for(j=Math.max(1,Math.floor(P.m()/R.m())),F=Math.ceil(Math.log(j)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),q=h(j),D=q.j(R);T(D)||D.l(P)>0;)j-=F,q=h(j),D=q.j(R);A(q)&&(q=v),z=z.add(q),P=k(P,D)}return new B(z,P)}t.B=function(P){return $(this,P).h},t.and=function(P){const R=Math.max(this.g.length,P.g.length),j=[];for(let F=0;F<R;F++)j[F]=this.i(F)&P.i(F);return new l(j,this.h&P.h)},t.or=function(P){const R=Math.max(this.g.length,P.g.length),j=[];for(let F=0;F<R;F++)j[F]=this.i(F)|P.i(F);return new l(j,this.h|P.h)},t.xor=function(P){const R=Math.max(this.g.length,P.g.length),j=[];for(let F=0;F<R;F++)j[F]=this.i(F)^P.i(F);return new l(j,this.h^P.h)};function U(P){const R=P.g.length+1,j=[];for(let F=0;F<R;F++)j[F]=P.i(F)<<1|P.i(F-1)>>>31;return new l(j,P.h)}function Z(P,R){const j=R>>5;R%=32;const F=P.g.length-j,z=[];for(let q=0;q<F;q++)z[q]=R>0?P.i(q+j)>>>R|P.i(q+j+1)<<32-R:P.i(q+j);return new l(z,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,jo=l}).apply(typeof mA<"u"?mA:typeof self<"u"?self:typeof window<"u"?window:{});var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof tc<"u"?tc:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KR,sh,ZR,D0,gx,QR,XR,JR;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof i0=="object"&&i0];for(var _=0;_<p.length;++_){var C=p[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(p,_){if(_)e:{var C=r;p=p.split(".");for(var H=0;H<p.length-1;H++){var oe=p[H];if(!(oe in C))break e;C=C[oe]}p=p[p.length-1],H=C[p],_=_(H),_!=H&&_!=null&&e(C,p,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(_){var C=[],H;for(H in _)Object.prototype.hasOwnProperty.call(_,H)&&C.push([H,_[H]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function d(p,_,C){return p.call.apply(p.bind,arguments)}function h(p,_,C){return h=d,h.apply(null,arguments)}function m(p,_){var C=Array.prototype.slice.call(arguments,1);return function(){var H=C.slice();return H.push.apply(H,arguments),p.apply(this,H)}}function b(p,_){function C(){}C.prototype=_.prototype,p.Z=_.prototype,p.prototype=new C,p.prototype.constructor=p,p.Ob=function(H,oe,pe){for(var ke=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ke[dt-2]=arguments[dt];return _.prototype[oe].apply(H,ke)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const _=p.length;if(_>0){const C=Array(_);for(let H=0;H<_;H++)C[H]=p[H];return C}return[]}function A(p,_){for(let H=1;H<arguments.length;H++){const oe=arguments[H];var C=typeof oe;if(C=C!="object"?C:oe?Array.isArray(oe)?"array":C:"null",C=="array"||C=="object"&&typeof oe.length=="number"){C=p.length||0;const pe=oe.length||0;p.length=C+pe;for(let ke=0;ke<pe;ke++)p[C+ke]=oe[ke]}else p.push(oe)}}class T{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(p){l.setTimeout(()=>{throw p},0)}function k(){var p=P;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class M{constructor(){this.h=this.g=null}add(_,C){const H=B.get();H.set(_,C),this.h?this.h.next=H:this.g=H,this.h=H}}var B=new T(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let U,Z=!1,P=new M,R=()=>{const p=Promise.resolve(void 0);U=()=>{p.then(j)}};function j(){for(var p;p=k();){try{p.h.call(p.g)}catch(C){N(C)}var _=B;_.j(p),_.h<100&&(_.h++,p.next=_.g,_.g=p)}Z=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};l.addEventListener("test",C,_),l.removeEventListener("test",C,_)}catch{}return p}();function D(p){return/^[\s\xa0]*$/.test(p)}function me(p,_){z.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,_)}b(me,z),me.prototype.init=function(p,_){const C=this.type=p.type,H=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget,_||(C=="mouseover"?_=p.fromElement:C=="mouseout"&&(_=p.toElement)),this.relatedTarget=_,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),Y=0;function Q(p,_,C,H,oe){this.listener=p,this.proxy=null,this.src=_,this.type=C,this.capture=!!H,this.ha=oe,this.key=++Y,this.da=this.fa=!1}function W(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function se(p,_,C){for(const H in p)_.call(C,p[H],H,p)}function G(p,_){for(const C in p)_.call(void 0,p[C],C,p)}function ne(p){const _={};for(const C in p)_[C]=p[C];return _}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(p,_){let C,H;for(let oe=1;oe<arguments.length;oe++){H=arguments[oe];for(C in H)p[C]=H[C];for(let pe=0;pe<fe.length;pe++)C=fe[pe],Object.prototype.hasOwnProperty.call(H,C)&&(p[C]=H[C])}}function ge(p){this.src=p,this.g={},this.h=0}ge.prototype.add=function(p,_,C,H,oe){const pe=p.toString();p=this.g[pe],p||(p=this.g[pe]=[],this.h++);const ke=Oe(p,_,H,oe);return ke>-1?(_=p[ke],C||(_.fa=!1)):(_=new Q(_,this.src,pe,!!H,oe),_.fa=C,p.push(_)),_};function Ce(p,_){const C=_.type;if(C in p.g){var H=p.g[C],oe=Array.prototype.indexOf.call(H,_,void 0),pe;(pe=oe>=0)&&Array.prototype.splice.call(H,oe,1),pe&&(W(_),p.g[C].length==0&&(delete p.g[C],p.h--))}}function Oe(p,_,C,H){for(let oe=0;oe<p.length;++oe){const pe=p[oe];if(!pe.da&&pe.listener==_&&pe.capture==!!C&&pe.ha==H)return oe}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Ve={};function nt(p,_,C,H,oe){if(Array.isArray(_)){for(let pe=0;pe<_.length;pe++)nt(p,_[pe],C,H,oe);return null}return C=il(C),p&&p[ie]?p.J(_,C,u(H)?!!H.capture:!1,oe):Qe(p,_,C,!1,H,oe)}function Qe(p,_,C,H,oe,pe){if(!_)throw Error("Invalid event type");const ke=u(oe)?!!oe.capture:!!oe;let dt=yn(p);if(dt||(p[Ee]=dt=new ge(p)),C=dt.add(_,C,H,ke,pe),C.proxy)return C;if(H=et(),C.proxy=H,H.src=p,H.listener=C,p.addEventListener)q||(oe=ke),oe===void 0&&(oe=!1),p.addEventListener(_.toString(),H,oe);else if(p.attachEvent)p.attachEvent(Dt(_.toString()),H);else if(p.addListener&&p.removeListener)p.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return C}function et(){function p(C){return _.call(p.src,p.listener,C)}const _=Rn;return p}function st(p,_,C,H,oe){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)st(p,_[pe],C,H,oe);else H=u(H)?!!H.capture:!!H,C=il(C),p&&p[ie]?(p=p.i,pe=String(_).toString(),pe in p.g&&(_=p.g[pe],C=Oe(_,C,H,oe),C>-1&&(W(_[C]),Array.prototype.splice.call(_,C,1),_.length==0&&(delete p.g[pe],p.h--)))):p&&(p=yn(p))&&(_=p.g[_.toString()],p=-1,_&&(p=Oe(_,C,H,oe)),(C=p>-1?_[p]:null)&&Xe(C))}function Xe(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[ie])Ce(_.i,p);else{var C=p.type,H=p.proxy;_.removeEventListener?_.removeEventListener(C,H,p.capture):_.detachEvent?_.detachEvent(Dt(C),H):_.addListener&&_.removeListener&&_.removeListener(H),(C=yn(_))?(Ce(C,p),C.h==0&&(C.src=null,_[Ee]=null)):W(p)}}}function Dt(p){return p in Ve?Ve[p]:Ve[p]="on"+p}function Rn(p,_){if(p.da)p=!0;else{_=new me(_,this);const C=p.listener,H=p.ha||p.src;p.fa&&Xe(p),p=C.call(H,_)}return p}function yn(p){return p=p[Ee],p instanceof ge?p:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(p){return typeof p=="function"?p:(p[Kt]||(p[Kt]=function(_){return p.handleEvent(_)}),p[Kt])}function an(){F.call(this),this.i=new ge(this),this.M=this,this.G=null}b(an,F),an.prototype[ie]=!0,an.prototype.removeEventListener=function(p,_,C,H){st(this,p,_,C,H)};function J(p,_){var C,H=p.G;if(H)for(C=[];H;H=H.G)C.push(H);if(p=p.M,H=_.type||_,typeof _=="string")_=new z(_,p);else if(_ instanceof z)_.target=_.target||p;else{var oe=_;_=new z(H,p),ye(_,oe)}oe=!0;let pe,ke;if(C)for(ke=C.length-1;ke>=0;ke--)pe=_.g=C[ke],oe=le(pe,H,!0,_)&&oe;if(pe=_.g=p,oe=le(pe,H,!0,_)&&oe,oe=le(pe,H,!1,_)&&oe,C)for(ke=0;ke<C.length;ke++)pe=_.g=C[ke],oe=le(pe,H,!1,_)&&oe}an.prototype.N=function(){if(an.Z.N.call(this),this.i){var p=this.i;for(const _ in p.g){const C=p.g[_];for(let H=0;H<C.length;H++)W(C[H]);delete p.g[_],p.h--}}this.G=null},an.prototype.J=function(p,_,C,H){return this.i.add(String(p),_,!1,C,H)},an.prototype.K=function(p,_,C,H){return this.i.add(String(p),_,!0,C,H)};function le(p,_,C,H){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();let oe=!0;for(let pe=0;pe<_.length;++pe){const ke=_[pe];if(ke&&!ke.da&&ke.capture==C){const dt=ke.listener,tn=ke.ha||ke.src;ke.fa&&Ce(p.i,ke),oe=dt.call(tn,H)!==!1&&oe}}return oe&&!H.defaultPrevented}function be(p,_){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(p,_||0)}function De(p){p.g=be(()=>{p.g=null,p.i&&(p.i=!1,De(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Ie extends F{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(p){F.call(this),this.h=p,this.g={}}b(Ne,F);var Be=[];function it(p){se(p.g,function(_,C){this.g.hasOwnProperty(C)&&Xe(_)},p),p.g={}}Ne.prototype.N=function(){Ne.Z.N.call(this),it(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var at=l.JSON.stringify,Lt=l.JSON.parse,V=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function E(){}function S(){}var K={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function te(){z.call(this,"d")}b(te,z);function ue(){z.call(this,"c")}b(ue,z);var ve={},ot=null;function kt(){return ot=ot||new an}ve.Ia="serverreachability";function Bt(p){z.call(this,ve.Ia,p)}b(Bt,z);function jt(p){const _=kt();J(_,new Bt(_))}ve.STAT_EVENT="statevent";function St(p,_){z.call(this,ve.STAT_EVENT,p),this.stat=_}b(St,z);function bn(p){const _=kt();J(_,new St(_,p))}ve.Ja="timingevent";function Fm(p,_){z.call(this,ve.Ja,p),this.size=_}b(Fm,z);function Ba(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},_)}function Ua(){this.g=!0}Ua.prototype.ua=function(){this.g=!1};function Hd(p,_,C,H,oe,pe){p.info(function(){if(p.g)if(pe){var ke="",dt=pe.split("&");for(let Ft=0;Ft<dt.length;Ft++){var tn=dt[Ft].split("=");if(tn.length>1){const wn=tn[0];tn=tn[1];const Ur=wn.split("_");ke=Ur.length>=2&&Ur[1]=="type"?ke+(wn+"="+tn+"&"):ke+(wn+"=redacted&")}}}else ke=null;else ke=pe;return"XMLHTTP REQ ("+H+") [attempt "+oe+"]: "+_+`
`+C+`
`+ke})}function Gd(p,_,C,H,oe,pe,ke){p.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+oe+"]: "+_+`
`+C+`
`+pe+" "+ke})}function Ui(p,_,C,H){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+ni(p,C)+(H?" "+H:"")})}function qy(p,_){p.info(function(){return"TIMEOUT: "+_})}Ua.prototype.info=function(){};function ni(p,_){if(!p.g)return _;if(!_)return null;try{const pe=JSON.parse(_);if(pe){for(p=0;p<pe.length;p++)if(Array.isArray(pe[p])){var C=pe[p];if(!(C.length<2)){var H=C[1];if(Array.isArray(H)&&!(H.length<1)){var oe=H[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let ke=1;ke<H.length;ke++)H[ke]=""}}}}return at(pe)}catch{return _}}var vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},er={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fi;function al(){}b(al,E),al.prototype.g=function(){return new XMLHttpRequest},Fi=new al;function ol(p){return encodeURIComponent(String(p))}function Hy(p){var _=1;p=p.split(":");const C=[];for(;_>0&&p.length;)C.push(p.shift()),_--;return p.length&&C.push(p.join(":")),C}function Ss(p,_,C,H){this.j=p,this.i=_,this.l=C,this.S=H||1,this.V=new Ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}var Pc={},ri={};function si(p,_,C){p.M=1,p.A=$i(un(_)),p.u=C,p.R=!0,za(p,null)}function za(p,_){p.F=Date.now(),ll(p),p.B=un(p.A);var C=p.B,H=p.S;Array.isArray(H)||(H=[String(H)]),Hm(C.i,"t",H),p.C=0,C=p.j.L,p.h=new Fa,p.g=zc(p.j,C?_:null,!p.u),p.P>0&&(p.O=new Ie(h(p.Y,p,p.g),p.P)),_=p.V,C=p.g,H=p.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(Be[0]=oe.toString()),oe=Be);for(let pe=0;pe<oe.length;pe++){const ke=nt(C,oe[pe],H||_.handleEvent,!1,_.h||_);if(!ke)break;_.g[ke.key]=ke}_=p.J?ne(p.J):{},p.u?(p.v||(p.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,_)):(p.v="GET",p.g.ea(p.B,p.v,null,_)),jt(),Hd(p.i,p.v,p.B,p.l,p.S,p.u)}Ss.prototype.ba=function(p){p=p.target;const _=this.O;_&&lr(p)==3?_.j():this.Y(p)},Ss.prototype.Y=function(p){try{if(p==this.g)e:{const dt=lr(this.g),tn=this.g.ya(),Ft=this.g.ca();if(!(dt<3)&&(dt!=3||this.g&&(this.h.h||this.g.la()||vl(this.g)))){this.K||dt!=4||tn==7||(tn==8||Ft<=0?jt(3):jt(2)),ai(this);var _=this.g.ca();this.X=_;var C=$a(this);if(this.o=_==200,Gd(this.i,this.v,this.B,this.l,this.S,dt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var H,oe=this.g;if((H=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(H)){var pe=H;break t}}pe=null}if(p=pe)Ui(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oc(this,p);else{this.o=!1,this.m=3,bn(12),oi(this),cl(this);break e}}if(this.R){p=!0;let wn;for(;!this.K&&this.C<C.length;)if(wn=zm(this,C),wn==ri){dt==4&&(this.m=4,bn(14),p=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Pc){this.m=4,bn(15),Ui(this.i,this.l,C,"[Invalid Chunk]"),p=!1;break}else Ui(this.i,this.l,wn,null),Oc(this,wn);if(xn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||C.length!=0||this.h.h||(this.m=1,bn(16),p=!1),this.o=this.o&&p,!p)Ui(this.i,this.l,C,"[Invalid Chunked Response]"),oi(this),cl(this);else if(C.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),nf(ke),ke.P=!0,bn(11))}}else Ui(this.i,this.l,C,null),Oc(this,C);dt==4&&oi(this),this.o&&!this.K&&(dt==4?rf(this.j,this):(this.o=!1,ll(this)))}else xl(this.g),_==400&&C.indexOf("Unknown SID")>0?(this.m=3,bn(12)):(this.m=0,bn(13)),oi(this),cl(this)}}}catch{}finally{}};function $a(p){if(!xn(p))return p.g.la();const _=vl(p.g);if(_==="")return"";let C="";const H=_.length,oe=lr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return oi(p),cl(p),"";p.h.i=new l.TextDecoder}for(let pe=0;pe<H;pe++)p.h.h=!0,C+=p.h.i.decode(_[pe],{stream:!(oe&&pe==H-1)});return _.length=0,p.h.g+=C,p.C=0,p.h.g}function xn(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function zm(p,_){var C=p.C,H=_.indexOf(`
`,C);return H==-1?ri:(C=Number(_.substring(C,H)),isNaN(C)?Pc:(H+=1,H+C>_.length?ri:(_=_.slice(H,H+C),p.C=H+C,_)))}Ss.prototype.cancel=function(){this.K=!0,oi(this)};function ll(p){p.T=Date.now()+p.H,ii(p,p.H)}function ii(p,_){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ba(h(p.aa,p),_)}function ai(p){p.D&&(l.clearTimeout(p.D),p.D=null)}Ss.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(qy(this.i,this.B),this.M!=2&&(jt(),bn(17)),oi(this),this.m=2,cl(this)):ii(this,this.T-p)};function cl(p){p.j.I==0||p.K||rf(p.j,p)}function oi(p){ai(p);var _=p.O;_&&typeof _.dispose=="function"&&_.dispose(),p.O=null,it(p.V),p.g&&(_=p.g,p.g=null,_.abort(),_.dispose())}function Oc(p,_){try{var C=p.j;if(C.I!=0&&(C.g==p||fl(C.h,p))){if(!p.L&&fl(C.h,p)&&C.I==3){try{var H=C.Ba.g.parse(_)}catch{H=null}if(Array.isArray(H)&&H.length==3){var oe=H;if(oe[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<p.F)Fc(C),li(C);else break e;tf(C),bn(18)}}else C.xa=oe[1],0<C.xa-C.K&&oe[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Ba(h(C.Va,C),6e3));os(C.h)<=1&&C.ta&&(C.ta=void 0)}else Gi(C,11)}else if((p.L||C.g==p)&&Fc(C),!D(_))for(oe=C.Ba.g.parse(_),_=0;_<oe.length;_++){let Ft=oe[_];const wn=Ft[0];if(!(wn<=C.K))if(C.K=wn,Ft=Ft[1],C.I==2)if(Ft[0]=="c"){C.M=Ft[1],C.ba=Ft[2];const Ur=Ft[3];Ur!=null&&(C.ka=Ur,C.j.info("VER="+C.ka));const ci=Ft[4];ci!=null&&(C.za=ci,C.j.info("SVER="+C.za));const Rs=Ft[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(H=1.5*Rs,C.O=H,C.j.info("backChannelRequestTimeoutMs_="+H)),H=C;const Is=p.g;if(Is){const ks=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var pe=H.h;pe.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Dc(pe,pe.h),pe.h=null))}if(H.G){const af=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;af&&(H.wa=af,qt(H.J,H.G,af))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-p.F,C.j.info("Handshake RTT: "+C.T+"ms")),H=C;var ke=p;if(H.na=ep(H,H.L?H.ba:null,H.W),ke.L){zi(H.h,ke);var dt=ke,tn=H.O;tn&&(dt.H=tn),dt.D&&(ai(dt),ll(dt)),H.g=ke}else Zm(H);C.i.length>0&&Tl(C)}else Ft[0]!="stop"&&Ft[0]!="close"||Gi(C,7);else C.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Gi(C,7):_l(C):Ft[0]!="noop"&&C.l&&C.l.qa(Ft),C.A=0)}}jt(4)}catch{}}var Gy=class{constructor(p,_){this.g=p,this.map=_}};function ul(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function os(p){return p.h?1:p.g?p.g.size:0}function fl(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Dc(p,_){p.g?p.g.add(_):p.h=_}function zi(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}ul.prototype.cancel=function(){if(this.i=jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function jc(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const C of p.g.values())_=_.concat(C.G);return _}return w(p.i)}var Mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wy(p,_){if(p){p=p.split("&");for(let C=0;C<p.length;C++){const H=p[C].indexOf("=");let oe,pe=null;H>=0?(oe=p[C].substring(0,H),pe=p[C].substring(H+1)):oe=p[C],_(oe,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Ns(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;p instanceof Ns?(this.l=p.l,qa(this,p.j),this.o=p.o,this.g=p.g,hl(this,p.u),this.h=p.h,Ha(this,Gm(p.i)),this.m=p.m):p&&(_=String(p).match(Mc))?(this.l=!1,qa(this,_[1]||"",!0),this.o=ml(_[2]||""),this.g=ml(_[3]||"",!0),hl(this,_[4]),this.h=ml(_[5]||"",!0),Ha(this,_[6]||"",!0),this.m=ml(_[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}Ns.prototype.toString=function(){const p=[];var _=this.j;_&&p.push(Hn(_,Yd,!0),":");var C=this.g;return(C||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Hn(_,Yd,!0),"@"),p.push(ol(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&p.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(Hn(C,C.charAt(0)=="/"?Ga:Kd,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",Hn(C,qm)),p.join("")},Ns.prototype.resolve=function(p){const _=un(this);let C=!!p.j;C?qa(_,p.j):C=!!p.o,C?_.o=p.o:C=!!p.g,C?_.g=p.g:C=p.u!=null;var H=p.h;if(C)hl(_,p.u);else if(C=!!p.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var oe=_.h.lastIndexOf("/");oe!=-1&&(H=_.h.slice(0,oe+1)+H)}if(oe=H,oe==".."||oe==".")H="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){H=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const pe=[];for(let ke=0;ke<oe.length;){const dt=oe[ke++];dt=="."?H&&ke==oe.length&&pe.push(""):dt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),H&&ke==oe.length&&pe.push("")):(pe.push(dt),H=!0)}H=pe.join("/")}else H=oe}return C?_.h=H:C=p.i.toString()!=="",C?Ha(_,Gm(p.i)):C=!!p.m,C&&(_.m=p.m),_};function un(p){return new Ns(p)}function qa(p,_,C){p.j=C?ml(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function hl(p,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);p.u=_}else p.u=null}function Ha(p,_,C){_ instanceof ls?(p.i=_,Xd(p.i,p.l)):(C||(_=Hn(_,$m)),p.i=new ls(_,p.l))}function qt(p,_,C){p.i.set(_,C)}function $i(p){return qt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ml(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Hn(p,_,C){return typeof p=="string"?(p=encodeURI(p).replace(_,Wd),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Yd=/[#\/\?@]/g,Kd=/[#\?:]/g,Ga=/[#\?]/g,$m=/[#\?@]/g,qm=/#/g;function ls(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function qi(p){p.g||(p.g=new Map,p.h=0,p.i&&Wy(p.i,function(_,C){p.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}t=ls.prototype,t.add=function(p,_){qi(this),this.i=null,p=Cs(this,p);let C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(_),this.h+=1,this};function Zd(p,_){qi(p),_=Cs(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Qd(p,_){return qi(p),_=Cs(p,_),p.g.has(_)}t.forEach=function(p,_){qi(this),this.g.forEach(function(C,H){C.forEach(function(oe){p.call(_,oe,H,this)},this)},this)};function Vc(p,_){qi(p);let C=[];if(typeof _=="string")Qd(p,_)&&(C=C.concat(p.g.get(Cs(p,_))));else for(p=Array.from(p.g.values()),_=0;_<p.length;_++)C=C.concat(p[_]);return C}t.set=function(p,_){return qi(this),this.i=null,p=Cs(this,p),Qd(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=Vc(this,p),p.length>0?String(p[0]):_):_};function Hm(p,_,C){Zd(p,_),C.length>0&&(p.i=null,p.g.set(Cs(p,_),w(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(let H=0;H<_.length;H++){var C=_[H];const oe=ol(C);C=Vc(this,C);for(let pe=0;pe<C.length;pe++){let ke=oe;C[pe]!==""&&(ke+="="+ol(C[pe])),p.push(ke)}}return this.i=p.join("&")};function Gm(p){const _=new ls;return _.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),_}function Cs(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Xd(p,_){_&&!p.j&&(qi(p),p.i=null,p.g.forEach(function(C,H){const oe=H.toLowerCase();H!=oe&&(Zd(this,H),Hm(this,oe,C))},p)),p.j=_}function Jd(p,_){const C=new Ua;if(l.Image){const H=new Image;H.onload=m(yr,C,"TestLoadImage: loaded",!0,_,H),H.onerror=m(yr,C,"TestLoadImage: error",!1,_,H),H.onabort=m(yr,C,"TestLoadImage: abort",!1,_,H),H.ontimeout=m(yr,C,"TestLoadImage: timeout",!1,_,H),l.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=p}else _(!1)}function Wa(p,_){const C=new Ua,H=new AbortController,oe=setTimeout(()=>{H.abort(),yr(C,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:H.signal}).then(pe=>{clearTimeout(oe),pe.ok?yr(C,"TestPingServer: ok",!0,_):yr(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(oe),yr(C,"TestPingServer: error",!1,_)})}function yr(p,_,C,H,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),H(C)}catch{}}function Wm(){this.g=new V}function pl(p){this.i=p.Sb||null,this.h=p.ab||!1}b(pl,E),pl.prototype.g=function(){return new gl(this.i,this.h)};function gl(p,_){an.call(this),this.H=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(gl,an),t=gl.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=_,this.readyState=1,Hi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(_.body=p),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?br(this):Hi(this),this.readyState==3&&Ya(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,br(this))},t.Na=function(p){this.g&&(this.response=p,br(this))},t.ga=function(){this.g&&br(this)};function br(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Hi(p)}t.setRequestHeader=function(p,_){this.A.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=_.next();return p.join(`\r
`)};function Hi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ka(p){let _="";return se(p,function(C,H){_+=H,_+=":",_+=C,_+=`\r
`}),_}function cs(p,_,C){e:{for(H in C){var H=!1;break e}H=!0}H||(C=Ka(C),typeof p=="string"?C!=null&&ol(C):qt(p,_,C))}function Zt(p){an.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,an);var Lc=/^https?$/i,Ym=["POST","PUT"];t=Zt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,_,C,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fi.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(pe){yl(this,pe);return}if(p=C||"",C=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var oe in H)C.set(oe,H[oe]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const pe of H.keys())C.set(pe,H.get(pe));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(C.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(Ym,_,void 0)>=0)||H||oe||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,ke]of C)this.g.setRequestHeader(pe,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(pe){yl(this,pe)}};function yl(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.o=5,bl(p),Vn(p)}function bl(p){p.A||(p.A=!0,J(p,"complete"),J(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,J(this,"complete"),J(this,"abort"),Vn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),Zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ef(this):this.Xa())},t.Xa=function(){ef(this)};function ef(p){if(p.h&&typeof a<"u"){if(p.v&&lr(p)==4)setTimeout(p.Ca.bind(p),0);else if(J(p,"readystatechange"),lr(p)==4){p.h=!1;try{const pe=p.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var H;if(H=pe===0){let ke=String(p.D).match(Mc)[1]||null;!ke&&l.self&&l.self.location&&(ke=l.self.location.protocol.slice(0,-1)),H=!Lc.test(ke?ke.toLowerCase():"")}C=H}if(C)J(p,"complete"),J(p,"success");else{p.o=6;try{var oe=lr(p)>2?p.g.statusText:""}catch{oe=""}p.l=oe+" ["+p.ca()+"]",bl(p)}}finally{Vn(p)}}}}function Vn(p,_){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const C=p.g;p.g=null,_||J(p,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function lr(p){return p.g?p.g.readyState:0}t.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),Lt(_)}};function vl(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function xl(p){const _={};p=(p.g&&lr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<p.length;H++){if(D(p[H]))continue;var C=Hy(p[H]);const oe=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const pe=_[oe]||[];_[oe]=pe,pe.push(C)}G(_,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(p,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||_}function Bc(p){this.za=0,this.i=[],this.j=new Ua,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wl("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wl("baseRetryDelayMs",5e3,p),this.Za=wl("retryDelaySeedMs",1e4,p),this.Ta=wl("forwardChannelMaxRetries",2,p),this.va=wl("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(p&&p.concurrentRequestLimit),this.Ba=new Wm,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Bc.prototype,t.ka=8,t.I=1,t.connect=function(p,_,C,H){bn(0),this.W=p,this.H=_||{},C&&H!==void 0&&(this.H.OSID=C,this.H.OAID=H),this.F=this.X,this.J=ep(this,null,this.W),Tl(this)};function _l(p){if(El(p),p.I==3){var _=p.V++,C=un(p.J);if(qt(C,"SID",p.M),qt(C,"RID",_),qt(C,"TYPE","terminate"),Al(p,C),_=new Ss(p,p.j,_),_.M=2,_.A=$i(un(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=_.A,C=!0),C||(_.g=zc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ll(_)}Jm(p)}function li(p){p.g&&(nf(p),p.g.cancel(),p.g=null)}function El(p){li(p),p.v&&(l.clearTimeout(p.v),p.v=null),Fc(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function Tl(p){if(!dl(p.h)&&!p.m){p.m=!0;var _=p.Ea;U||R(),Z||(U(),Z=!0),P.add(_,p),p.D=0}}function Yy(p,_){return os(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=_.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ba(h(p.Ea,p,_),Xm(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const oe=new Ss(this,this.j,p);let pe=this.o;if(this.U&&(pe?(pe=ne(pe),ye(pe,this.U)):pe=this.U),this.u!==null||this.R||(oe.J=pe,pe=null),this.S)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var H=this.i[C];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(_+=H,_>4096){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=Uc(this,oe,_),C=un(this.J),qt(C,"RID",p),qt(C,"CVER",22),this.G&&qt(C,"X-HTTP-Session-Id",this.G),Al(this,C),pe&&(this.R?_="headers="+ol(Ka(pe))+"&"+_:this.u&&cs(C,this.u,pe)),Dc(this.h,oe),this.Ra&&qt(C,"TYPE","init"),this.S?(qt(C,"$req",_),qt(C,"SID","null"),oe.U=!0,si(oe,C,null)):si(oe,C,_),this.I=2}}else this.I==3&&(p?Km(this,p):this.i.length==0||dl(this.h)||Km(this))};function Km(p,_){var C;_?C=_.l:C=p.V++;const H=un(p.J);qt(H,"SID",p.M),qt(H,"RID",C),qt(H,"AID",p.K),Al(p,H),p.u&&p.o&&cs(H,p.u,p.o),C=new Ss(p,p.j,C,p.D+1),p.u===null&&(C.J=p.o),_&&(p.i=_.G.concat(p.i)),_=Uc(p,C,1e3),C.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Dc(p.h,C),si(C,H,_)}function Al(p,_){p.H&&se(p.H,function(C,H){qt(_,H,C)}),p.l&&se({},function(C,H){qt(_,H,C)})}function Uc(p,_,C){C=Math.min(p.i.length,C);const H=p.l?h(p.l.Ka,p.l,p):null;e:{var oe=p.i;let dt=-1;for(;;){const tn=["count="+C];dt==-1?C>0?(dt=oe[0].g,tn.push("ofs="+dt)):dt=0:tn.push("ofs="+dt);let Ft=!0;for(let wn=0;wn<C;wn++){var pe=oe[wn].g;const Ur=oe[wn].map;if(pe-=dt,pe<0)dt=Math.max(0,oe[wn].g-100),Ft=!1;else try{pe="req"+pe+"_"||"";try{var ke=Ur instanceof Map?Ur:Object.entries(Ur);for(const[ci,Rs]of ke){let Is=Rs;u(Rs)&&(Is=at(Rs)),tn.push(pe+ci+"="+encodeURIComponent(Is))}}catch(ci){throw tn.push(pe+"type="+encodeURIComponent("_badmap")),ci}}catch{H&&H(Ur)}}if(Ft){ke=tn.join("&");break e}}ke=void 0}return p=p.i.splice(0,C),_.G=p,ke}function Zm(p){if(!p.g&&!p.v){p.Y=1;var _=p.Da;U||R(),Z||(U(),Z=!0),P.add(_,p),p.A=0}}function tf(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ba(h(p.Da,p),Xm(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Qm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ba(h(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bn(10),li(this),Qm(this))};function nf(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function Qm(p){p.g=new Ss(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var _=un(p.na);qt(_,"RID","rpc"),qt(_,"SID",p.M),qt(_,"AID",p.K),qt(_,"CI",p.F?"0":"1"),!p.F&&p.ia&&qt(_,"TO",p.ia),qt(_,"TYPE","xmlhttp"),Al(p,_),p.u&&p.o&&cs(_,p.u,p.o),p.O&&(p.g.H=p.O);var C=p.g;p=p.ba,C.M=1,C.A=$i(un(_)),C.u=null,C.R=!0,za(C,p)}t.Va=function(){this.C!=null&&(this.C=null,li(this),tf(this),bn(19))};function Fc(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function rf(p,_){var C=null;if(p.g==_){Fc(p),nf(p),p.g=null;var H=2}else if(fl(p.h,_))C=_.G,zi(p.h,_),H=1;else return;if(p.I!=0){if(_.o)if(H==1){C=_.u?_.u.length:0,_=Date.now()-_.F;var oe=p.D;H=kt(),J(H,new Fm(H,C)),Tl(p)}else Zm(p);else if(oe=_.m,oe==3||oe==0&&_.X>0||!(H==1&&Yy(p,_)||H==2&&tf(p)))switch(C&&C.length>0&&(_=p.h,_.i=_.i.concat(C)),oe){case 1:Gi(p,5);break;case 4:Gi(p,10);break;case 3:Gi(p,6);break;default:Gi(p,2)}}}function Xm(p,_){let C=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(C*=2),C*_}function Gi(p,_){if(p.j.info("Error code "+_),_==2){var C=h(p.bb,p),H=p.Ua;const oe=!H;H=new Ns(H||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qa(H,"https"),$i(H),oe?Jd(H.toString(),C):Wa(H.toString(),C)}else bn(2);p.I=0,p.l&&p.l.pa(_),Jm(p),El(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function Jm(p){if(p.I=0,p.ja=[],p.l){const _=jc(p.h);(_.length!=0||p.i.length!=0)&&(A(p.ja,_),A(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function ep(p,_,C){var H=C instanceof Ns?un(C):new Ns(C);if(H.g!="")_&&(H.g=_+"."+H.g),hl(H,H.u);else{var oe=l.location;H=oe.protocol,_=_?_+"."+oe.hostname:oe.hostname,oe=+oe.port;const pe=new Ns(null);H&&qa(pe,H),_&&(pe.g=_),oe&&hl(pe,oe),C&&(pe.h=C),H=pe}return C=p.G,_=p.wa,C&&_&&qt(H,C,_),qt(H,"VER",p.ka),Al(p,H),H}function zc(p,_,C){if(_&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Aa&&!p.ma?new Zt(new pl({ab:C})):new Zt(p.ma),_.Fa(p.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tp(){}t=tp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $c(){}$c.prototype.g=function(p,_){return new vr(p,_)};function vr(p,_){an.call(this),this.g=new Bc(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(p?p["X-WebChannel-Client-Profile"]=_.sa:p={"X-WebChannel-Client-Profile":_.sa}),this.g.U=p,(p=_&&_.Qb)&&!D(p)&&(this.g.u=p),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Za(this)}b(vr,an),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){_l(this.g)},vr.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.v&&(C={},C.__data__=at(p),p=C);_.i.push(new Gy(_.Ya++,p)),_.I==3&&Tl(_)},vr.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,vr.Z.N.call(this)};function sf(p){te.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const C in _){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}b(sf,te);function np(){ue.call(this),this.status=1}b(np,ue);function Za(p){this.g=p}b(Za,tp),Za.prototype.ra=function(){J(this.g,"a")},Za.prototype.qa=function(p){J(this.g,new sf(p))},Za.prototype.pa=function(p){J(this.g,new np)},Za.prototype.oa=function(){J(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,JR=function(){return new $c},XR=function(){return kt()},QR=ve,gx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vn.NO_ERROR=0,vn.TIMEOUT=8,vn.HTTP_ERROR=6,D0=vn,er.COMPLETE="complete",ZR=er,S.EventType=K,K.OPEN="a",K.CLOSE="b",K.ERROR="c",K.MESSAGE="d",an.prototype.listen=an.prototype.J,sh=S,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,KR=Zt}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});const pA="@firebase/firestore",gA="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Jw("@firebase/firestore");function Nu(){return oc.logLevel}function Le(t,...e){if(oc.logLevel<=Et.DEBUG){const n=e.map(f_);oc.debug(`Firestore (${Nd}): ${t}`,...n)}}function Ca(t,...e){if(oc.logLevel<=Et.ERROR){const n=e.map(f_);oc.error(`Firestore (${Nd}): ${t}`,...n)}}function lc(t,...e){if(oc.logLevel<=Et.WARN){const n=e.map(f_);oc.warn(`Firestore (${Nd}): ${t}`,...n)}}function f_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eI(t,r,n)}function eI(t,e,n){let r=`FIRESTORE (${Nd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ca(r),new Error(r)}function Ut(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||eI(e,s,r)}function mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hr.UNAUTHENTICATED))}shutdown(){}}class vU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xU{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new wa,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},u=d=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wa)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string",31837,{l:r}),new tI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new hr(e)}}class wU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _U{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ut(this.o===void 0,3512);const r=a=>{a.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=TU(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function yx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return n1(s)===n1(a)?Tt(s,a):n1(s)?1:-1}return Tt(t.length,e.length)}const AU=55296,SU=57343;function n1(t){const e=t.charCodeAt(0);return e>=AU&&e<=SU}function td(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="__name__";class vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=vi.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Tt(e.length,n.length)}static compareSegments(e,n){const r=vi.isNumericId(e),s=vi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vi.extractNumericId(e).compare(vi.extractNumericId(n)):yx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class Xt extends vi{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const NU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends vi{construct(e,n,r){return new Qn(e,n,r)}static isValidIdentifier(e){return NU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bA}static keyField(){return new Qn([bA])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new je(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new je(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new je(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new je(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Xt.fromString(e))}static fromName(e){return new Ke(Xt.fromString(e).popFirst(5))}static empty(){return new Ke(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e,n){if(!n)throw new je(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sI(t,e,n,r){if(e===!0&&r===!0)throw new je(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vA(t){if(!Ke.isDocumentKey(t))throw new je(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xA(t){if(Ke.isDocumentKey(t))throw new je(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new je(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function pm(t,e){if(!iI(t))throw new je(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new je(_e.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=-62135596800,_A=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_A);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wA)throw new je(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_A}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pm(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:jn("string",Jt._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new Jt(0,0))}static max(){return new ut(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function CU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ut.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new zo(s,Ke.empty(),e)}function RU(t){return new zo(t.readTime,t.key,Ah)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(ut.min(),Ke.empty(),Ah)}static max(){return new zo(ut.max(),Ke.empty(),Ah)}}function IU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==kU)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.reject(n)}static resolve(e){return new Ae((n,r)=>{n(e)})}static reject(e){return new Ae((n,r)=>{r(e)})}static waitFor(e){return new Ae((n,r)=>{let s=0,a=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next(s=>s?Ae.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Ae((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next(m=>{l[h]=m,++u,u===a&&r(l)},m=>s(m))}})}static doWhile(e,n){return new Ae((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function OU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-1;function Wg(t){return t==null}function J0(t){return t===0&&1/t==-1/0}function DU(t){return typeof t=="number"&&Number.isInteger(t)&&!J0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="";function jU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EA(e)),e=MU(t.get(n),e);return EA(e)}function MU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case aI:n+="";break;default:n+=a}}return n}function EA(t){return t+aI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function el(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new a0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new a0(this.root,e,this.comparator,!1)}getReverseIterator(){return new a0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new a0(this.root,e,this.comparator,!0)}}class a0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??ir.RED,this.left=s??ir.EMPTY,this.right=a??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new ir(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ir.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AA(this.data.getIterator())}getIteratorFrom(e){return new AA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class AA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new es([])}unionWith(e){let n=new zn(Qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return td(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new lI("Invalid base64 string: "+a):a}}(e);return new Xn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const VU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $o(t){if(Ut(!!t,39018),typeof t=="string"){let e=0;const n=VU.exec(t);if(Ut(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(t.seconds),nanos:An(t.nanos)}}function An(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qo(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="server_timestamp",uI="__type__",dI="__previous_value__",fI="__local_write_time__";function m_(t){return(t?.mapValue?.fields||{})[uI]?.stringValue===cI}function Yg(t){const e=t.mapValue.fields[dI];return m_(e)?Yg(e):e}function Sh(t){const e=$o(t.mapValue.fields[fI].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,r,s,a,l,u,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const eg="(default)";class nd{constructor(e,n){this.projectId=e,this.database=n||eg}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database===eg}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__type__",BU="__max__",o0={mapValue:{}},mI="__vector__",tg="value";function Ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m_(t)?4:FU(t)?9007199254740991:UU(t)?10:11:rt(28295,{value:t})}function Oi(t,e){if(t===e)return!0;const n=Ho(t);if(n!==Ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sh(t).isEqual(Sh(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=$o(s.timestampValue),u=$o(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return qo(s.bytesValue).isEqual(qo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return An(s.geoPointValue.latitude)===An(a.geoPointValue.latitude)&&An(s.geoPointValue.longitude)===An(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return An(s.integerValue)===An(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=An(s.doubleValue),u=An(a.doubleValue);return l===u?J0(l)===J0(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return td(t.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(TA(l)!==TA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Oi(l[d],u[d])))return!1;return!0}(t,e);default:return rt(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find(n=>Oi(n,e))!==void 0}function rd(t,e){if(t===e)return 0;const n=Ho(t),r=Ho(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=An(a.integerValue||a.doubleValue),d=An(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return SA(t.timestampValue,e.timestampValue);case 4:return SA(Sh(t),Sh(e));case 5:return yx(t.stringValue,e.stringValue);case 6:return function(a,l){const u=qo(a),d=qo(l);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Tt(u[h],d[h]);if(m!==0)return m}return Tt(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Tt(An(a.latitude),An(l.latitude));return u!==0?u:Tt(An(a.longitude),An(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NA(t.arrayValue,e.arrayValue);case 10:return function(a,l){const u=a.fields||{},d=l.fields||{},h=u[tg]?.arrayValue,m=d[tg]?.arrayValue,b=Tt(h?.values?.length||0,m?.values?.length||0);return b!==0?b:NA(h,m)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===o0.mapValue&&l===o0.mapValue)return 0;if(a===o0.mapValue)return 1;if(l===o0.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let b=0;b<d.length&&b<m.length;++b){const v=yx(d[b],m[b]);if(v!==0)return v;const w=rd(u[d[b]],h[m[b]]);if(w!==0)return w}return Tt(d.length,m.length)}(t.mapValue,e.mapValue);default:throw rt(23264,{he:n})}}function SA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=$o(t),r=$o(e),s=Tt(n.seconds,r.seconds);return s!==0?s:Tt(n.nanos,r.nanos)}function NA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=rd(n[s],r[s]);if(a)return a}return Tt(n.length,r.length)}function sd(t){return bx(t)}function bx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=bx(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${bx(n.fields[l])}`;return s+"}"}(t.mapValue):rt(61005,{value:t})}function j0(t){switch(Ho(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yg(t);return e?16+j0(e):16;case 5:return 2*t.stringValue.length;case 6:return qo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+j0(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return el(r.fields,(a,l)=>{s+=a.length+j0(l)}),s}(t.mapValue);default:throw rt(13486,{value:t})}}function CA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vx(t){return!!t&&"integerValue"in t}function p_(t){return!!t&&"arrayValue"in t}function RA(t){return!!t&&"nullValue"in t}function IA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function M0(t){return!!t&&"mapValue"in t}function UU(t){return(t?.mapValue?.fields||{})[hI]?.stringValue===mI}function hh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return el(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hh(t.arrayValue.values[n]);return e}return{...t}}function FU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!M0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(n)}setAll(e){let n=Qn.emptyPath(),r={},s=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=hh(l):s.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());M0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];M0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){el(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new kr(hh(this.value))}}function pI(t){const e=[];return el(t.fields,(n,r)=>{const s=new Qn([n]);if(M0(r)){const a=pI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new mr(e,0,ut.min(),ut.min(),ut.min(),kr.empty(),0)}static newFoundDocument(e,n,r,s){return new mr(e,1,n,ut.min(),r,s,0)}static newNoDocument(e,n){return new mr(e,2,n,ut.min(),ut.min(),kr.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,ut.min(),ut.min(),kr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.position=e,this.inclusive=n}}function kA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ke.comparator(Ke.fromName(l.referenceValue),n.key):r=rd(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function PA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n="asc"){this.field=e,this.dir=n}}function zU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{}class Dn extends gI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qU(e,n,r):n==="array-contains"?new WU(e,r):n==="in"?new YU(e,r):n==="not-in"?new KU(e,r):n==="array-contains-any"?new ZU(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HU(e,r):new GU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rd(n,this.value)):n!==null&&Ho(this.value)===Ho(n)&&this.matchesComparison(rd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends gI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zs(e,n)}matches(e){return yI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yI(t){return t.op==="and"}function bI(t){return $U(t)&&yI(t)}function $U(t){for(const e of t.filters)if(e instanceof zs)return!1;return!0}function xx(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+sd(t.value);if(bI(t))return t.filters.map(e=>xx(e)).join(",");{const e=t.filters.map(n=>xx(n)).join(",");return`${t.op}(${e})`}}function vI(t,e){return t instanceof Dn?function(r,s){return s instanceof Dn&&r.op===s.op&&r.field.isEqual(s.field)&&Oi(r.value,s.value)}(t,e):t instanceof zs?function(r,s){return s instanceof zs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,u)=>a&&vI(l,s.filters[u]),!0):!1}(t,e):void rt(19439)}function xI(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${sd(n.value)}`}(t):t instanceof zs?function(n){return n.op.toString()+" {"+n.getFilters().map(xI).join(" ,")+"}"}(t):"Filter"}class qU extends Dn{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class HU extends Dn{constructor(e,n){super(e,"in",n),this.keys=wI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GU extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=wI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wI(t,e){return(e.arrayValue?.values||[]).map(n=>Ke.fromName(n.referenceValue))}class WU extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return p_(n)&&Nh(n.arrayValue,this.value)}}class YU extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class KU extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class ZU extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!p_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function OA(t,e=null,n=[],r=[],s=null,a=null,l=null){return new QU(t,e,n,r,s,a,l)}function g_(t){const e=mt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Wg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sd(r)).join(",")),e.Te=n}return e.Te}function y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PA(t.startAt,e.startAt)&&PA(t.endAt,e.endAt)}function wx(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XU(t,e,n,r,s,a,l,u){return new gm(t,e,n,r,s,a,l,u)}function Kg(t){return new gm(t)}function DA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _I(t){return t.collectionGroup!==null}function mh(t){const e=mt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new zn(Qn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new rg(a,r))}),n.has(Qn.keyField().canonicalString())||e.Ie.push(new rg(Qn.keyField(),r))}return e.Ie}function Ni(t){const e=mt(t);return e.Ee||(e.Ee=JU(e,mh(t))),e.Ee}function JU(t,e){if(t.limitType==="F")return OA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new rg(s.field,a)});const n=t.endAt?new ng(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ng(t.startAt.position,t.startAt.inclusive):null;return OA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _x(t,e){const n=t.filters.concat([e]);return new gm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ex(t,e,n){return new gm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zg(t,e){return y_(Ni(t),Ni(e))&&t.limitType===e.limitType}function EI(t){return`${g_(Ni(t))}|lt:${t.limitType}`}function Cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xI(s)).join(", ")}]`),Wg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>sd(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>sd(s)).join(",")),`Target(${r})`}(Ni(t))}; limitType=${t.limitType})`}function Qg(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of mh(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,u,d){const h=kA(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,mh(r),s)||r.endAt&&!function(l,u,d){const h=kA(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,mh(r),s))}(t,e)}function e7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TI(t){return(e,n)=>{let r=!1;for(const s of mh(t)){const a=t7(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function t7(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(a,l,u){const d=l.data.field(a),h=u.data.field(a);return d!==null&&h!==null?rd(d,h):rt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return oI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new hn(Ke.comparator);function Ra(){return n7}const AI=new hn(Ke.comparator);function ih(...t){let e=AI;for(const n of t)e=e.insert(n.key,n);return e}function SI(t){let e=AI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gl(){return ph()}function NI(){return ph()}function ph(){return new Tc(t=>t.toString(),(t,e)=>t.isEqual(e))}const r7=new hn(Ke.comparator),s7=new zn(Ke.comparator);function At(...t){let e=s7;for(const n of t)e=e.add(n);return e}const i7=new zn(Tt);function a7(){return i7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J0(e)?"-0":e}}function CI(t){return{integerValue:""+t}}function o7(t,e){return DU(e)?CI(e):b_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this._=void 0}}function l7(t,e,n){return t instanceof Ch?function(s,a){const l={fields:{[uI]:{stringValue:cI},[fI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&m_(a)&&(a=Yg(a)),a&&(l.fields[dI]=a),{mapValue:l}}(n,e):t instanceof Rh?II(t,e):t instanceof Ih?kI(t,e):function(s,a){const l=RI(s,a),u=jA(l)+jA(s.Ae);return vx(l)&&vx(s.Ae)?CI(u):b_(s.serializer,u)}(t,e)}function c7(t,e,n){return t instanceof Rh?II(t,e):t instanceof Ih?kI(t,e):n}function RI(t,e){return t instanceof sg?function(r){return vx(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ch extends Xg{}class Rh extends Xg{constructor(e){super(),this.elements=e}}function II(t,e){const n=PI(e);for(const r of t.elements)n.some(s=>Oi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ih extends Xg{constructor(e){super(),this.elements=e}}function kI(t,e){let n=PI(e);for(const r of t.elements)n=n.filter(s=>!Oi(s,r));return{arrayValue:{values:n}}}class sg extends Xg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jA(t){return An(t.integerValue||t.doubleValue)}function PI(t){return p_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n){this.field=e,this.transform=n}}function d7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Rh&&s instanceof Rh||r instanceof Ih&&s instanceof Ih?td(r.elements,s.elements,Oi):r instanceof sg&&s instanceof sg?Oi(r.Ae,s.Ae):r instanceof Ch&&s instanceof Ch}(t.transform,e.transform)}class f7{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function V0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jg{}function OI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v_(t.key,Mr.none()):new ym(t.key,t.data,Mr.none());{const n=t.data,r=kr.empty();let s=new zn(Qn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new tl(t.key,r,new es(s.toArray()),Mr.none())}}function h7(t,e,n){t instanceof ym?function(s,a,l){const u=s.value.clone(),d=VA(s.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof tl?function(s,a,l){if(!V0(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=VA(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(DI(s)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function gh(t,e,n,r){return t instanceof ym?function(a,l,u,d){if(!V0(a.precondition,l))return u;const h=a.value.clone(),m=LA(a.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof tl?function(a,l,u,d){if(!V0(a.precondition,l))return u;const h=LA(a.fieldTransforms,d,l),m=l.data;return m.setAll(DI(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(b=>b.field))}(t,e,n,r):function(a,l,u){return V0(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function m7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=RI(r.transform,s||null);a!=null&&(n===null&&(n=kr.empty()),n.set(r.field,a))}return n||null}function MA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&td(r,s,(a,l)=>d7(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ym extends Jg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class tl extends Jg{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function DI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VA(t,e,n){const r=new Map;Ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,c7(l,u,n[s]))}return r}function LA(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,l7(a,l,e))}return r}class v_ extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p7 extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&h7(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const d=OI(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),At())}isEqual(e){return this.batchId===e.batchId&&td(this.mutations,e.mutations,(n,r)=>MA(n,r))&&td(this.baseMutations,e.baseMutations,(n,r)=>MA(n,r))}}class x_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return r7}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new x_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,Ct;function v7(t){switch(t){case _e.OK:return rt(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function jI(t){if(t===void 0)return Ca("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Pn.OK:return _e.OK;case Pn.CANCELLED:return _e.CANCELLED;case Pn.UNKNOWN:return _e.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return _e.INTERNAL;case Pn.UNAVAILABLE:return _e.UNAVAILABLE;case Pn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Pn.NOT_FOUND:return _e.NOT_FOUND;case Pn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Pn.ABORTED:return _e.ABORTED;case Pn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Pn.DATA_LOSS:return _e.DATA_LOSS;default:return rt(39323,{code:t})}}(Ct=Pn||(Pn={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new jo([4294967295,4294967295],0);function BA(t){const e=x7().encode(t),n=new YR;return n.update(e),new Uint8Array(n.digest())}function UA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new jo([n,r],0),new jo([s,a],0)]}class w_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ah(`Invalid padding: ${n}`);if(r<0)throw new ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ah(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(jo.fromNumber(r)));return s.compare(w7)===1&&(s=new jo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BA(e),[r,s]=UA(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new w_(a,s,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const n=BA(e),[r,s]=UA(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ey(ut.min(),s,new hn(Tt),Ra(),At())}}class bm{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bm(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class MI{constructor(e,n){this.targetId=e,this.Ce=n}}class VI{constructor(e,n,r=Xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class FA{constructor(){this.ve=0,this.Fe=zA(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=At(),n=At(),r=At();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:rt(38017,{changeType:a})}}),new bm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=zA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ra(),this.Je=l0(),this.He=l0(),this.Ye=new hn(Tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:rt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(wx(a))if(r===0){const l=new Ke(a.path);this.et(n,l,mr.newNoDocument(l,ut.min()))}else Ut(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=qo(r).toUint8Array()}catch(d){if(d instanceof lI)return lc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new w_(l,s,a)}catch(d){return lc(d instanceof ah?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&wx(u.target)){const d=new Ke(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,mr.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}});let r=At();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const s=new ey(e,n,this.Ye,this.je,r);return this.je=Ra(),this.Je=l0(),this.He=l0(),this.Ye=new hn(Tt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zn(Tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zn(Tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function l0(){return new hn(Ke.comparator)}function zA(){return new hn(Ke.comparator)}const E7={asc:"ASCENDING",desc:"DESCENDING"},T7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A7={and:"AND",or:"OR"};class S7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tx(t,e){return t.useProto3Json||Wg(e)?e:{value:e}}function ig(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N7(t,e){return ig(t,e.toTimestamp())}function Ci(t){return Ut(!!t,49232),ut.fromTimestamp(function(n){const r=$o(n);return new Jt(r.seconds,r.nanos)}(t))}function __(t,e){return Ax(t,e).canonicalString()}function Ax(t,e){const n=function(s){return new Xt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BI(t){const e=Xt.fromString(t);return Ut(qI(e),10190,{key:e.toString()}),e}function Sx(t,e){return __(t.databaseId,e.path)}function r1(t,e){const n=BI(e);if(n.get(1)!==t.databaseId.projectId)throw new je(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(FI(n))}function UI(t,e){return __(t.databaseId,e)}function C7(t){const e=BI(t);return e.length===4?Xt.emptyPath():FI(e)}function Nx(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FI(t){return Ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $A(t,e,n){return{name:Sx(t,e),fields:n.value.mapValue.fields}}function R7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:rt(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(Ut(m===void 0||typeof m=="string",58123),Xn.fromBase64String(m||"")):(Ut(m===void 0||m instanceof bU||m instanceof Uint8Array,16193),Xn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?_e.UNKNOWN:jI(h.code);return new je(m,h.message||"")}(l);n=new VI(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=r1(t,r.document.name),a=Ci(r.document.updateTime),l=r.document.createTime?Ci(r.document.createTime):ut.min(),u=new kr({mapValue:{fields:r.document.fields}}),d=mr.newFoundDocument(s,a,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new L0(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=r1(t,r.document),a=r.readTime?Ci(r.readTime):ut.min(),l=mr.newNoDocument(s,a),u=r.removedTargetIds||[];n=new L0([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=r1(t,r.document),a=r.removedTargetIds||[];n=new L0([],a,s,null)}else{if(!("filter"in e))return rt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new b7(s,a),u=r.targetId;n=new MI(u,l)}}return n}function I7(t,e){let n;if(e instanceof ym)n={update:$A(t,e.key,e.value)};else if(e instanceof v_)n={delete:Sx(t,e.key)};else if(e instanceof tl)n={update:$A(t,e.key,e.data),updateMask:B7(e.fieldMask)};else{if(!(e instanceof p7))return rt(16599,{Vt:e.type});n={verify:Sx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Ch)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Rh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ih)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw rt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:N7(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:rt(27497)}(t,e.precondition)),n}function k7(t,e){return t&&t.length>0?(Ut(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?Ci(s.updateTime):Ci(a);return l.isEqual(ut.min())&&(l=Ci(a)),new f7(l,s.transformResults||[])}(n,e))):[]}function P7(t,e){return{documents:[UI(t,e.path)]}}function O7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,s);const a=function(h){if(h.length!==0)return $I(zs.create(h,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(m=>function(v){return{field:Ru(v.field),direction:M7(v.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Tx(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function D7(t){let e=C7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ut(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(b){const v=zI(b);return v instanceof zs&&bI(v)?v.getFilters():[v]}(n.where));let l=[];n.orderBy&&(l=function(b){return b.map(v=>function(A){return new rg(Iu(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let u=null;n.limit&&(u=function(b){let v;return v=typeof b=="object"?b.value:b,Wg(v)?null:v}(n.limit));let d=null;n.startAt&&(d=function(b){const v=!!b.before,w=b.values||[];return new ng(w,v)}(n.startAt));let h=null;return n.endAt&&(h=function(b){const v=!b.before,w=b.values||[];return new ng(w,v)}(n.endAt)),XU(e,s,l,a,u,"F",d,h)}function j7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Iu(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Iu(n.unaryFilter.field);return Dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Iu(n.unaryFilter.field);return Dn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Iu(n.unaryFilter.field);return Dn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(Iu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zs.create(n.compositeFilter.filters.map(r=>zI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return rt(1026)}}(n.compositeFilter.op))}(t):rt(30097,{filter:t})}function M7(t){return E7[t]}function V7(t){return T7[t]}function L7(t){return A7[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function Iu(t){return Qn.fromServerFormat(t.fieldPath)}function $I(t){return t instanceof Dn?function(n){if(n.op==="=="){if(IA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(RA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(RA(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:V7(n.op),value:n.value}}}(t):t instanceof zs?function(n){const r=n.getFilters().map(s=>$I(s));return r.length===1?r[0]:{compositeFilter:{op:L7(n.op),filters:r}}}(t):rt(54877,{filter:t})}function B7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r,s,a=ut.min(),l=ut.min(),u=Xn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.yt=e}}function F7(t){const e=D7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ex(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(){this.Cn=new $7}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(zo.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class $7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zn(Xt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HI=41943040;class Cr{static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(HI,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new id(0)}static cr(){return new id(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="LruGarbageCollector",q7=1048576;function GA([t,e],[n,r]){const s=Tt(t,n);return s===0?Tt(e,r):s}class H7{constructor(e){this.Ir=e,this.buffer=new zn(GA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class G7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(HA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rd(n)?Le(HA,"Ignoring IndexedDB error during garbage collection: ",n):await Cd(n)}await this.Vr(3e5)})}}class W7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(Gg.ce);const r=new H7(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(qA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,l=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(r=b,u=Date.now(),this.removeTargets(e,r,n))).next(b=>(a=b,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(h=Date.now(),Nu()<=Et.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${b} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:b})))}}function Y7(t,e){return new W7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.changes=new Tc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&gh(r.mutation,s,es.empty(),Jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,n,r=At()){const s=Gl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=ih();return a.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Gl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,At()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,s){let a=Ra();const l=ph(),u=function(){return ph()}();return n.forEach((d,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof tl)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),gh(m.mutation,h,m.mutation.getFieldMask(),Jt.now())):l.set(h.key,es.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((h,m)=>l.set(h,m)),n.forEach((h,m)=>u.set(h,new Z7(m,l.get(h)??null))),u))}recalculateAndSaveOverlays(e,n){const r=ph();let s=new hn((l,u)=>l-u),a=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||es.empty();m=u.applyToLocalView(h,m),r.set(d,m);const b=(s.get(u.batchId)||At()).add(d);s=s.insert(u.batchId,b)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,b=NI();m.forEach(v=>{if(!a.has(v)){const w=OI(n.get(v),r.get(v));w!==null&&b.set(v,w),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,b))}return Ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_I(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Ae.resolve(Gl());let u=Ah,d=a;return l.next(h=>Ae.forEach(h,(m,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),a.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{d=d.insert(m,v)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,d,h,At())).next(m=>({batchId:u,changes:SI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let s=ih();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=ih();return this.indexManager.getCollectionParents(e,a).next(u=>Ae.forEach(u,d=>{const h=function(b,v){return new gm(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((b,v)=>{l=l.insert(b,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,mr.newInvalidDocument(m)))});let u=ih();return l.forEach((d,h)=>{const m=a.get(d);m!==void 0&&gh(m.mutation,h,es.empty(),Jt.now()),Qg(n,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ci(s.createTime)}}(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:F7(s.bundledQuery),readTime:Ci(s.readTime)}}(n)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.overlays=new hn(Ke.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gl();return Ae.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const s=Gl(),a=n.length+1,l=new Ke(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return Ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new hn((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=Gl(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Gl(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=s)););return Ae.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new y7(n,r));let a=this.qr.get(n);a===void 0&&(a=At(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.Qr=new zn(Zn.$r),this.Ur=new zn(Zn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Zn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Zn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ke(new Xt([])),r=new Zn(n,e),s=new Zn(n,e+1),a=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ke(new Xt([])),r=new Zn(n,e),s=new Zn(n,e+1);let a=At();return this.Ur.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Zn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ke.comparator(e.key,n.key)||Tt(e.Yr,n.Yr)}static Kr(e,n){return Tt(e.Yr,n.Yr)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zn(Zn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new g7(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Zn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return Ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?h_:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zn(n,0),s=new Zn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],l=>{const u=this.Xr(l.Yr);a.push(u)}),Ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(Tt);return n.forEach(s=>{const a=new Zn(s,0),l=new Zn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{r=r.add(u.Yr)})}),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ke.isDocumentKey(a)||(a=a.child(""));const l=new Zn(new Ke(a),0);let u=new zn(Tt);return this.Zr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Yr)),!0)},l),Ae.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,s=>{const a=new Zn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Zn(n,0),s=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.ri=e,this.docs=function(){return new hn(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Ra();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():mr.newInvalidDocument(s))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Ra();const l=n.path,u=new Ke(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||IU(RU(m),r)<=0||(s.has(m.key)||Qg(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Ae.resolve(a)}getAllFromCollectionGroup(e,n,r,s){rt(9500)}ii(e,n){return Ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rF(this)}getSize(e){return Ae.resolve(this.size)}}class rF extends K7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.persistence=e,this.si=new Tc(n=>g_(n),y_),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.oi=0,this._i=new E_,this.targetCount=0,this.ai=id.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new id(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),Ae.waitFor(a).next(()=>s)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),Ae.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gg(0),this.li=!1,this.li=!0,this.hi=new eF,this.referenceDelegate=e(this),this.Pi=new sF(this),this.indexManager=new z7,this.remoteDocumentCache=function(s){return new nF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new U7(n),this.Ii=new X7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new tF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const s=new iF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,n){return Ae.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class iF extends PU{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Ri=new E_,this.Vi=null}static mi(e){return new T_(e)}get fi(){if(this.Vi)return this.Vi;throw rt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,r=>{const s=Ke.fromPath(r);return this.gi(e,s).next(a=>{a||n.removeEntry(s,ut.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ag{constructor(e,n){this.persistence=e,this.pi=new Tc(r=>jU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Y7(this,n)}static mi(e,n){return new ag(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Ae.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?Ae.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(u=>{u||(r++,a.removeEntry(l,ut.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=j0(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=At(),s=At();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new A_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HM()?8:OU(pr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new aF;return this.Ss(e,n,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)})}).next(()=>a.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Nu()<=Et.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Nu()<=Et.DEBUG&&Le("QueryEngine","Query:",Cu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Nu()<=Et.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):Ae.resolve())}ys(e,n){if(DA(n))return Ae.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ex(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=At(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.Ds(n,u);return this.Cs(n,h,l,d.readTime)?this.ys(e,Ex(n,null,"F")):this.vs(e,h,n,d)}))})))}ws(e,n,r,s){return DA(n)||s.isEqual(ut.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?Ae.resolve(null):(Nu()<=Et.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cu(n)),this.vs(e,l,n,CU(s,Ah)).next(u=>u))})}Ds(e,n){let r=new zn(TI(e));return n.forEach((s,a)=>{Qg(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Nu()<=Et.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Cu(n)),this.ps.getDocumentsMatchingQuery(e,n,zo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LocalStore",lF=3e8;class cF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new hn(Tt),this.xs=new Tc(a=>g_(a),y_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uF(t,e,n,r){return new cF(t,e,n,r)}async function WI(t,e){const n=mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let d=At();for(const h of s){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of a){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(h=>({Ls:h,removedBatchIds:l,addedBatchIds:u}))})})}function dF(t,e){const n=mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const b=h.batch,v=b.keys();let w=Ae.resolve();return v.forEach(A=>{w=w.next(()=>m.getEntry(d,A)).next(T=>{const N=h.docVersions.get(A);Ut(N!==null,48541),T.version.compareTo(N)<0&&(b.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),m.addEntry(T)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(d,b))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=At();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function YI(t){const e=mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function fF(t,e){const n=mt(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach((m,b)=>{const v=s.get(b);if(!v)return;u.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,b).next(()=>n.Pi.addMatchingKeys(a,m.addedDocuments,b)));let w=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(Xn.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),s=s.insert(b,w),function(T,N,k){return T.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=lF?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,w,m)&&u.push(n.Pi.updateTargetData(a,w))});let d=Ra(),h=At();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(hF(a,l,e.documentUpdates).next(m=>{d=m.ks,h=m.qs})),!r.isEqual(ut.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next(b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(m)}return Ae.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,h)).next(()=>d)}).then(a=>(n.Ms=s,a))}function hF(t,e,n){let r=At(),s=At();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ra();return n.forEach((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(ut.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Le(S_,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{ks:l,qs:s}})}function mF(t,e){const n=mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=h_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pF(t,e){const n=mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(a=>a?(s=a,Ae.resolve(s)):n.Pi.allocateTargetId(r).next(l=>(s=new Io(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Cx(t,e,n){const r=mt(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Rd(l))throw l;Le(S_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function WA(t,e,n){const r=mt(t);let s=ut.min(),a=At();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const b=mt(d),v=b.xs.get(m);return v!==void 0?Ae.resolve(b.Ms.get(v)):b.Pi.getTargetData(h,m)}(r,l,Ni(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next(d=>{a=d})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:ut.min(),n?a:At())).next(u=>(gF(r,e7(e),u),{documents:u,Qs:a})))}function gF(t,e,n){let r=t.Os.get(e)||ut.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class YA{constructor(){this.activeTargetIds=a7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yF{constructor(){this.Mo=new YA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="ConnectivityMonitor";class ZA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(KA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(KA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0=null;function Rx(){return c0===null?c0=function(){return 268435456+Math.round(2147483648*Math.random())}():c0++,"0x"+c0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="RestConnection",vF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===eg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=Rx(),u=this.zo(e,n.toUriEncodedString());Le(s1,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:h}=new URL(u),m=Jo(h);return this.Jo(e,u,d,r,m).then(b=>(Le(s1,`Received RPC '${e}' ${l}: `,b),b),b=>{throw lc(s1,`RPC '${e}' ${l} failed with error: `,b,"url: ",u,"request:",r),b})}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,n){const r=vF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class _F extends xF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=Rx();return new Promise((u,d)=>{const h=new KR;h.setWithCredentials(!0),h.listenOnce(ZR.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case D0.NO_ERROR:const b=h.getResponseJson();Le(dr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),u(b);break;case D0.TIMEOUT:Le(dr,`RPC '${e}' ${l} timed out`),d(new je(_e.DEADLINE_EXCEEDED,"Request time out"));break;case D0.HTTP_ERROR:const v=h.getStatus();if(Le(dr,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w?.error;if(A&&A.status&&A.message){const T=function(k){const M=k.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(M)>=0?M:_e.UNKNOWN}(A.status);d(new je(T,A.message))}else d(new je(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new je(_e.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Le(dr,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);Le(dr,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",m,r,15)})}T_(e,n,r){const s=Rx(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=JR(),u=XR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");Le(dr,`Creating RPC '${e}' stream ${s}: ${m}`,d);const b=l.createWebChannel(m,d);this.I_(b);let v=!1,w=!1;const A=new wF({Yo:N=>{w?Le(dr,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(v||(Le(dr,`Opening RPC '${e}' stream ${s} transport.`),b.open(),v=!0),Le(dr,`RPC '${e}' stream ${s} sending:`,N),b.send(N))},Zo:()=>b.close()}),T=(N,k,M)=>{N.listen(k,B=>{try{M(B)}catch($){setTimeout(()=>{throw $},0)}})};return T(b,sh.EventType.OPEN,()=>{w||(Le(dr,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),T(b,sh.EventType.CLOSE,()=>{w||(w=!0,Le(dr,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(b))}),T(b,sh.EventType.ERROR,N=>{w||(w=!0,lc(dr,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),A.a_(new je(_e.UNAVAILABLE,"The operation could not be completed")))}),T(b,sh.EventType.MESSAGE,N=>{if(!w){const k=N.data[0];Ut(!!k,16349);const M=k,B=M?.error||M[0]?.error;if(B){Le(dr,`RPC '${e}' stream ${s} received error:`,B);const $=B.status;let U=function(R){const j=Pn[R];if(j!==void 0)return jI(j)}($),Z=B.message;U===void 0&&(U=_e.INTERNAL,Z="Unknown error status: "+$+" with message "+B.message),w=!0,A.a_(new je(U,Z)),b.close()}else Le(dr,`RPC '${e}' stream ${s} received:`,k),A.u_(k)}}),T(u,QR.STAT_EVENT,N=>{N.stat===gx.PROXY?Le(dr,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===gx.NOPROXY&&Le(dr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function i1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new S7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="PersistentStream";class ZI{constructor(e,n,r,s,a,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(Ca(n.toString()),Ca("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new je(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Le(QA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Le(QA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EF extends ZI{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=R7(this.serializer,e),r=function(a){if(!("targetChange"in a))return ut.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ut.min():l.readTime?Ci(l.readTime):ut.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Nx(this.serializer),n.addTarget=function(a,l){let u;const d=l.target;if(u=wx(d)?{documents:P7(a,d)}:{query:O7(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=LI(a,l.resumeToken);const h=Tx(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(ut.min())>0){u.readTime=ig(a,l.snapshotVersion.toTimestamp());const h=Tx(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=j7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Nx(this.serializer),n.removeTarget=e,this.q_(n)}}class TF extends ZI{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k7(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Nx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{}class SF extends AF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new je(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,Ax(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(_e.UNKNOWN,a.toString())})}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,Ax(n,r),s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(_e.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class NF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ca(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="RemoteStore";class CF{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{Ac(this)&&(Le(cc,"Restarting streams for network reachability change."),await async function(d){const h=mt(d);h.Ea.add(4),await vm(h),h.Ra.set("Unknown"),h.Ea.delete(4),await ny(h)}(this))})}),this.Ra=new NF(r,s)}}async function ny(t){if(Ac(t))for(const e of t.da)await e(!0)}async function vm(t){for(const e of t.da)await e(!1)}function QI(t,e){const n=mt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),I_(n)?R_(n):Id(n).O_()&&C_(n,e))}function N_(t,e){const n=mt(t),r=Id(n);n.Ia.delete(e),r.O_()&&XI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ac(n)&&n.Ra.set("Unknown"))}function C_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Id(t).Y_(e)}function XI(t,e){t.Va.Ue(e),Id(t).Z_(e)}function R_(t){t.Va=new _7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Id(t).start(),t.Ra.ua()}function I_(t){return Ac(t)&&!Id(t).x_()&&t.Ia.size>0}function Ac(t){return mt(t).Ea.size===0}function JI(t){t.Va=void 0}async function RF(t){t.Ra.set("Online")}async function IF(t){t.Ia.forEach((e,n)=>{C_(t,e)})}async function kF(t,e){JI(t),I_(t)?(t.Ra.ha(e),R_(t)):t.Ra.set("Unknown")}async function PF(t,e,n){if(t.Ra.set("Online"),e instanceof VI&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))}(t,e)}catch(r){Le(cc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await og(t,r)}else if(e instanceof L0?t.Va.Ze(e):e instanceof MI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ut.min()))try{const r=await YI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(Xn.EMPTY_BYTE_STRING,m.snapshotVersion)),XI(a,d);const b=new Io(m.target,d,h,m.sequenceNumber);C_(a,b)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Le(cc,"Failed to raise snapshot:",r),await og(t,r)}}async function og(t,e,n){if(!Rd(e))throw e;t.Ea.add(1),await vm(t),t.Ra.set("Offline"),n||(n=()=>YI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Le(cc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ny(t)})}function e4(t,e){return e().catch(n=>og(t,n,e))}async function ry(t){const e=mt(t),n=Go(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:h_;for(;OF(e);)try{const s=await mF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,DF(e,s)}catch(s){await og(e,s)}t4(e)&&n4(e)}function OF(t){return Ac(t)&&t.Ta.length<10}function DF(t,e){t.Ta.push(e);const n=Go(t);n.O_()&&n.X_&&n.ea(e.mutations)}function t4(t){return Ac(t)&&!Go(t).x_()&&t.Ta.length>0}function n4(t){Go(t).start()}async function jF(t){Go(t).ra()}async function MF(t){const e=Go(t);for(const n of t.Ta)e.ea(n.mutations)}async function VF(t,e,n){const r=t.Ta.shift(),s=x_.from(r,e,n);await e4(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ry(t)}async function LF(t,e){e&&Go(t).X_&&await async function(r,s){if(function(l){return v7(l)&&l!==_e.ABORTED}(s.code)){const a=r.Ta.shift();Go(r).B_(),await e4(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ry(r)}}(t,e),t4(t)&&n4(t)}async function XA(t,e){const n=mt(t);n.asyncQueue.verifyOperationInProgress(),Le(cc,"RemoteStore received new credentials");const r=Ac(n);n.Ea.add(3),await vm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ny(n)}async function BF(t,e){const n=mt(t);e?(n.Ea.delete(2),await ny(n)):e||(n.Ea.add(2),await vm(n),n.Ra.set("Unknown"))}function Id(t){return t.ma||(t.ma=function(n,r,s){const a=mt(n);return a.sa(),new EF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:RF.bind(null,t),t_:IF.bind(null,t),r_:kF.bind(null,t),H_:PF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),I_(t)?R_(t):t.Ra.set("Unknown")):(await t.ma.stop(),JI(t))})),t.ma}function Go(t){return t.fa||(t.fa=function(n,r,s){const a=mt(n);return a.sa(),new TF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:jF.bind(null,t),r_:LF.bind(null,t),ta:MF.bind(null,t),na:VF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ry(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(cc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new k_(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(t,e){if(Ca("AsyncQueue",`${e}: ${t}`),Rd(t))return new je(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=ih(),this.sortedSet=new hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.ga=new hn(Ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):rt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ad{constructor(e,n,r,s,a,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new ad(e,n,Hu.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class FF{constructor(){this.queries=eS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=mt(n),a=s.queries;s.queries=eS(),a.forEach((l,u)=>{for(const d of u.Sa)d.onError(r)})})(this,new je(_e.ABORTED,"Firestore shutting down"))}}function eS(){return new Tc(t=>EI(t),Zg)}async function O_(t,e){const n=mt(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new UF,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=P_(l,`Initialization of query '${Cu(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&j_(n)}async function D_(t,e){const n=mt(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zF(t,e){const n=mt(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&j_(n)}function $F(t,e,n){const r=mt(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function j_(t){t.Ca.forEach(e=>{e.next()})}var Ix,tS;(tS=Ix||(Ix={})).Ma="default",tS.Cache="cache";class M_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ad(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ix.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.key=e}}class s4{constructor(e){this.key=e}}class qF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=At(),this.mutatedKeys=At(),this.eu=TI(e),this.tu=new Hu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new JA,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,b)=>{const v=s.get(m),w=Qg(this.query,b)?b:null,A=!!v&&this.mutatedKeys.has(v.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;v&&w?v.data.isEqual(w.data)?A!==T&&(r.track({type:3,doc:w}),N=!0):this.su(v,w)||(r.track({type:2,doc:w}),N=!0,(d&&this.eu(w,d)>0||h&&this.eu(w,h)<0)&&(u=!0)):!v&&w?(r.track({type:0,doc:w}),N=!0):v&&!w&&(r.track({type:1,doc:v}),N=!0,(d||h)&&(u=!0)),N&&(w?(l=l.add(w),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,b)=>function(w,A){const T=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{Rt:N})}};return T(w)-T(A)}(m.type,b.type)||this.eu(m.doc,b.doc)),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new ad(this.query,e.tu,a,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=At(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new s4(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new r4(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=At();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ad.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V_="SyncEngine";class HF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GF{constructor(e){this.key=e,this.hu=!1}}class WF{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Tc(u=>EI(u),Zg),this.Iu=new Map,this.Eu=new Set,this.du=new hn(Ke.comparator),this.Au=new Map,this.Ru=new E_,this.Vu={},this.mu=new Map,this.fu=id.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YF(t,e,n=!0){const r=u4(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await i4(r,e,n,!0),s}async function KF(t,e){const n=u4(t);await i4(n,e,!0,!1)}async function i4(t,e,n,r){const s=await pF(t.localStore,Ni(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await ZF(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&QI(t.remoteStore,s),u}async function ZF(t,e,n,r,s){t.pu=(b,v,w)=>async function(T,N,k,M){let B=N.view.ru(k);B.Cs&&(B=await WA(T.localStore,N.query,!1).then(({documents:P})=>N.view.ru(P,B)));const $=M&&M.targetChanges.get(N.targetId),U=M&&M.targetMismatches.get(N.targetId)!=null,Z=N.view.applyChanges(B,T.isPrimaryClient,$,U);return rS(T,N.targetId,Z.au),Z.snapshot}(t,b,v,w);const a=await WA(t.localStore,e,!0),l=new qF(e,a.Qs),u=l.ru(a.documents),d=bm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(u,t.isPrimaryClient,d);rS(t,n,h.au);const m=new HF(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function QF(t,e,n){const r=mt(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(l=>!Zg(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&N_(r.remoteStore,s.targetId),kx(r,s.targetId)}).catch(Cd)):(kx(r,s.targetId),await Cx(r.localStore,s.targetId,!0))}async function XF(t,e){const n=mt(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),N_(n.remoteStore,r.targetId))}async function JF(t,e,n){const r=az(t);try{const s=await function(l,u){const d=mt(l),h=Jt.now(),m=u.reduce((w,A)=>w.add(A.key),At());let b,v;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Ra(),T=At();return d.Ns.getEntries(w,m).next(N=>{A=N,A.forEach((k,M)=>{M.isValidDocument()||(T=T.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,A)).next(N=>{b=N;const k=[];for(const M of u){const B=m7(M,b.get(M.key).overlayedDocument);B!=null&&k.push(new tl(M.key,B,pI(B.value.mapValue),Mr.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,k,u)}).next(N=>{v=N;const k=N.applyToLocalDocumentSet(b,T);return d.documentOverlayCache.saveOverlays(w,N.batchId,k)})}).then(()=>({batchId:v.batchId,changes:SI(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,u,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new hn(Tt)),h=h.insert(u,d),l.Vu[l.currentUser.toKey()]=h}(r,s.batchId,n),await xm(r,s.changes),await ry(r.remoteStore)}catch(s){const a=P_(s,"Failed to persist write");n.reject(a)}}async function a4(t,e){const n=mt(t);try{const r=await fF(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Au.get(a);l&&(Ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ut(l.hu,14607):s.removedDocuments.size>0&&(Ut(l.hu,42227),l.hu=!1))}),await xm(n,r,e)}catch(r){await Cd(r)}}function nS(t,e,n){const r=mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const d=mt(l);d.onlineState=u;let h=!1;d.queries.forEach((m,b)=>{for(const v of b.Sa)v.va(u)&&(h=!0)}),h&&j_(d)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ez(t,e,n){const r=mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new hn(Ke.comparator);l=l.insert(a,mr.newNoDocument(a,ut.min()));const u=At().add(a),d=new ey(ut.min(),new Map,new hn(Tt),l,u);await a4(r,d),r.du=r.du.remove(a),r.Au.delete(e),L_(r)}else await Cx(r.localStore,e,!1).then(()=>kx(r,e,n)).catch(Cd)}async function tz(t,e){const n=mt(t),r=e.batch.batchId;try{const s=await dF(n.localStore,e);l4(n,r,null),o4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xm(n,s)}catch(s){await Cd(s)}}async function nz(t,e,n){const r=mt(t);try{const s=await function(l,u){const d=mt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(b=>(Ut(b!==null,37113),m=b.keys(),d.mutationQueue.removeMutationBatch(h,b))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);l4(r,e,n),o4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xm(r,s)}catch(s){await Cd(s)}}function o4(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function l4(t,e,n){const r=mt(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function kx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||c4(t,r)})}function c4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(N_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),L_(t))}function rS(t,e,n){for(const r of n)r instanceof r4?(t.Ru.addReference(r.key,e),rz(t,r)):r instanceof s4?(Le(V_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||c4(t,r.key)):rt(19791,{wu:r})}function rz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(V_,"New document in limbo: "+n),t.Eu.add(r),L_(t))}function L_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ke(Xt.fromString(e)),r=t.fu.next();t.Au.set(r,new GF(n)),t.du=t.du.insert(n,r),QI(t.remoteStore,new Io(Ni(Kg(n.path)),r,"TargetPurposeLimboResolution",Gg.ce))}}async function xm(t,e,n){const r=mt(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((u,d)=>{l.push(r.pu(d,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){s.push(h);const m=A_.As(d.targetId,h);a.push(m)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(d,h){const m=mt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Ae.forEach(h,v=>Ae.forEach(v.Es,w=>m.persistence.referenceDelegate.addReference(b,v.targetId,w)).next(()=>Ae.forEach(v.ds,w=>m.persistence.referenceDelegate.removeReference(b,v.targetId,w)))))}catch(b){if(!Rd(b))throw b;Le(S_,"Failed to update sequence numbers: "+b)}for(const b of h){const v=b.targetId;if(!b.fromCache){const w=m.Ms.get(v),A=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(v,T)}}}(r.localStore,a))}async function sz(t,e){const n=mt(t);if(!n.currentUser.isEqual(e)){Le(V_,"User change. New user:",e.toKey());const r=await WI(n.localStore,e);n.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(d=>{d.reject(new je(_e.CANCELLED,l))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xm(n,r.Ls)}}function iz(t,e){const n=mt(t),r=n.Au.get(e);if(r&&r.hu)return At().add(r.key);{let s=At();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function u4(t){const e=mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ez.bind(null,e),e.Pu.H_=zF.bind(null,e.eventManager),e.Pu.yu=$F.bind(null,e.eventManager),e}function az(t){const e=mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nz.bind(null,e),e}class lg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uF(this.persistence,new oF,e.initialUser,this.serializer)}Cu(e){return new GI(T_.mi,this.serializer)}Du(e){return new yF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lg.provider={build:()=>new lg};class oz extends lg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ut(this.persistence.referenceDelegate instanceof ag,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new G7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new GI(r=>ag.mi(r,n),this.serializer)}}class Px{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sz.bind(null,this.syncEngine),await BF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FF}()}createDatastore(e){const n=ty(e.databaseInfo.databaseId),r=function(a){return new _F(a)}(e.databaseInfo);return function(a,l,u,d){return new SF(a,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,u){return new CF(r,s,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>nS(this.syncEngine,n,0),function(){return ZA.v()?new ZA:new bF}())}createSyncEngine(e,n){return function(s,a,l,u,d,h,m){const b=new WF(s,a,l,u,d,h);return m&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=mt(n);Le(cc,"RemoteStore shutting down."),r.Ea.add(5),await vm(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Px.provider={build:()=>new Px};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ca("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="FirestoreClient";class lz{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=hr.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Le(Wo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Le(Wo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function a1(t,e){t.asyncQueue.verifyOperationInProgress(),Le(Wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cz(t);Le(Wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>XA(e.remoteStore,s)),t._onlineComponents=e}async function cz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(Wo,"Using user provided OfflineComponentProvider");try{await a1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===_e.FAILED_PRECONDITION||s.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;lc("Error using user provided cache. Falling back to memory cache: "+n),await a1(t,new lg)}}else Le(Wo,"Using default OfflineComponentProvider"),await a1(t,new oz(void 0));return t._offlineComponents}async function d4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(Wo,"Using user provided OnlineComponentProvider"),await sS(t,t._uninitializedComponentsProvider._online)):(Le(Wo,"Using default OnlineComponentProvider"),await sS(t,new Px))),t._onlineComponents}function uz(t){return d4(t).then(e=>e.syncEngine)}async function cg(t){const e=await d4(t),n=e.eventManager;return n.onListen=YF.bind(null,e.syncEngine),n.onUnlisten=QF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XF.bind(null,e.syncEngine),n}function f4(t,e,n={}){const r=new wa;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,h){const m=new B_({next:v=>{m.Nu(),l.enqueueAndForget(()=>D_(a,b));const w=v.docs.has(u);!w&&v.fromCache?h.reject(new je(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&d&&d.source==="server"?h.reject(new je(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),b=new M_(Kg(u.path),m,{includeMetadataChanges:!0,qa:!0});return O_(a,b)}(await cg(t),t.asyncQueue,e,n,r)),r.promise}function dz(t,e,n={}){const r=new wa;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,h){const m=new B_({next:v=>{m.Nu(),l.enqueueAndForget(()=>D_(a,b)),v.fromCache&&d.source==="server"?h.reject(new je(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),b=new M_(u,m,{includeMetadataChanges:!0,qa:!0});return O_(a,b)}(await cg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="firestore.googleapis.com",aS=!0;class oS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m4,this.ssl=aS}else this.host=e.host,this.ssl=e.ssl??aS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q7)throw new je(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h4(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nI;switch(r.type){case"firstParty":return new _U(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iS.get(n);r&&(Le("ComponentProvider","Removing Datastore"),iS.delete(n),r.terminate())}(this),Promise.resolve()}}function p4(t,e,n,r={}){t=or(t,sy);const s=Jo(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Qw(`https://${u}`),Xw("Firestore",!0)),a.host!==m4&&a.host!==u&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:s,emulatorOptions:r};if(!sc(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=hr.MOCK_USER;else{h=MM(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new je(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new hr(b)}t._authCredentials=new vU(new tI(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nl(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pm(n,ln._jsonSchema))return new ln(e,r||null,new Ke(Xt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:jn("string",ln._jsonSchemaVersion),referencePath:jn("string")};class _a extends nl{constructor(e,n,r){super(e,n,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Ke(e))}withConverter(e){return new _a(this.firestore,e,this._path)}}function Ao(t,e,...n){if(t=fn(t),rI("collection","path",e),t instanceof sy){const r=Xt.fromString(e,...n);return xA(r),new _a(t,null,r)}{if(!(t instanceof ln||t instanceof _a))throw new je(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return xA(r),new _a(t.firestore,null,r)}}function Fn(t,e,...n){if(t=fn(t),arguments.length===1&&(e=qg.newId()),rI("doc","path",e),t instanceof sy){const r=Xt.fromString(e,...n);return vA(r),new ln(t,null,new Ke(r))}{if(!(t instanceof ln||t instanceof _a))throw new je(_e.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return vA(r),new ln(t.firestore,t instanceof _a?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="AsyncQueue";class cS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KI(this,"async_queue_retry"),this._c=()=>{const r=i1();r&&Le(lS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=i1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=i1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new wa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rd(e))throw e;Le(lS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ca("INTERNAL UNHANDLED ERROR: ",uS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=k_.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&rt(47125,{Pc:uS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class $s extends sy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new cS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cS(e),this._firestoreClient=void 0,await e}}}function Yr(t,e){const n=typeof t=="object"?t:Bg(),r=typeof t=="string"?t:eg,s=Lg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=oR("firestore");a&&p4(s,...a)}return s}function Sc(t){if(t._terminated)throw new je(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fz(t),t._firestoreClient}function fz(t){const e=t._freezeSettings(),n=function(s,a,l,u){return new LU(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,h4(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(Xn.fromBase64String(e))}catch(n){throw new je(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pm(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:jn("string",Qr._jsonSchemaVersion),bytes:jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(pm(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:jn("string",Bs._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pm(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Us(e.vectorValues);throw new je(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:jn("string",Us._jsonSchemaVersion),vectorValues:jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=/^__.*__$/;class mz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new ym(e,this.data,n,this.fieldTransforms)}}class g4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new tl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function y4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ac:t})}}class U_{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new U_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ug(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(y4(this.Ac)&&hz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ty(e)}Cc(e,n,r,s=!1){return new U_({Ac:e,methodName:n,Dc:r,path:Qn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(t){const e=t._freezeSettings(),n=ty(t._databaseId);return new pz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F_(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);$_("Data must be an object, but it was:",l,r);const u=x4(r,l);let d,h;if(a.merge)d=new es(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const b of a.mergeFields){const v=Ox(e,b,n);if(!l.contains(v))throw new je(_e.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);_4(m,v)||m.push(v)}d=new es(m),h=l.fieldTransforms.filter(b=>d.covers(b.field))}else d=null,h=l.fieldTransforms;return new mz(new kr(u),d,h)}class Em extends wm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Em}}class z_ extends wm{_toFieldTransform(e){return new u7(e.path,new Ch)}isEqual(e){return e instanceof z_}}function b4(t,e,n,r){const s=t.Cc(1,e,n);$_("Data must be an object, but it was:",s,r);const a=[],l=kr.empty();el(r,(d,h)=>{const m=q_(e,d,n);h=fn(h);const b=s.yc(m);if(h instanceof Em)a.push(m);else{const v=Tm(h,b);v!=null&&(a.push(m),l.set(m,v))}});const u=new es(a);return new g4(l,u,s.fieldTransforms)}function v4(t,e,n,r,s,a){const l=t.Cc(1,e,n),u=[Ox(e,r,n)],d=[s];if(a.length%2!=0)throw new je(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(Ox(e,a[v])),d.push(a[v+1]);const h=[],m=kr.empty();for(let v=u.length-1;v>=0;--v)if(!_4(h,u[v])){const w=u[v];let A=d[v];A=fn(A);const T=l.yc(w);if(A instanceof Em)h.push(w);else{const N=Tm(A,T);N!=null&&(h.push(w),m.set(w,N))}}const b=new es(h);return new g4(m,b,l.fieldTransforms)}function gz(t,e,n,r=!1){return Tm(n,t.Cc(r?4:3,e))}function Tm(t,e){if(w4(t=fn(t)))return $_("Unsupported field value:",e,t),x4(t,e);if(t instanceof wm)return function(r,s){if(!y4(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const u of r){let d=Tm(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Jt.fromDate(r);return{timestampValue:ig(s.serializer,a)}}if(r instanceof Jt){const a=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ig(s.serializer,a)}}if(r instanceof Bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:LI(s.serializer,r._byteString)};if(r instanceof ln){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:__(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Us)return function(l,u){return{mapValue:{fields:{[hI]:{stringValue:mI},[tg]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return b_(u.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Hg(r)}`)}(t,e)}function x4(t,e){const n={};return oI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(t,(r,s)=>{const a=Tm(s,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function w4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof Bs||t instanceof Qr||t instanceof ln||t instanceof wm||t instanceof Us)}function $_(t,e,n){if(!w4(n)||!iI(n)){const r=Hg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ox(t,e,n){if((e=fn(e))instanceof kd)return e._internalPath;if(typeof e=="string")return q_(t,e);throw ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const yz=new RegExp("[~\\*/\\[\\]]");function q_(t,e,n){if(e.search(yz)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kd(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ug(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new je(_e.INVALID_ARGUMENT,u+t+d)}function _4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bz extends E4{data(){return super.data()}}function H_(t,e){return typeof e=="string"?q_(t,e):e instanceof kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G_{}class A4 extends G_{}function ku(t,e,...n){let r=[];e instanceof G_&&r.push(e),r=r.concat(n),function(a){const l=a.filter(d=>d instanceof iy).length,u=a.filter(d=>d instanceof Am).length;if(l>1||l>0&&u>0)throw new je(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Am extends A4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Am(e,n,r)}_apply(e){const n=this._parse(e);return S4(e._query,n),new nl(e.firestore,e.converter,_x(e._query,n))}_parse(e){const n=_m(e.firestore);return function(a,l,u,d,h,m,b){let v;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new je(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){hS(b,m);const A=[];for(const T of b)A.push(fS(d,a,T));v={arrayValue:{values:A}}}else v=fS(d,a,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||hS(b,m),v=gz(u,l,b,m==="in"||m==="not-in");return Dn.create(h,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pu(t,e,n){const r=e,s=H_("where",t);return Am._create(s,r,n)}class iy extends G_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const u=a.getFlattenedFilters();for(const d of u)S4(l,d),l=_x(l,d)}(e._query,n),new nl(e.firestore,e.converter,_x(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fS(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new je(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_I(e)&&n.indexOf("/")!==-1)throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Ke.isDocumentKey(r))throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CA(t,new Ke(r))}if(n instanceof ln)return CA(t,n._key);throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hg(n)}.`)}function hS(t,e){if(!Array.isArray(t)||t.length===0)throw new je(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S4(t,e){const n=function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N4{convertValue(e,n="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return el(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[tg].arrayValue?.values?.map(r=>An(r.doubleValue));return new Us(n)}convertGeoPoint(e){return new Bs(An(e.latitude),An(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const n=$o(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);Ut(qI(r),9688,{name:e});const s=new nd(r.get(1),r.get(3)),a=new Ke(r.popFirst(5));return s.isEqual(n)||Ca(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mo extends E4{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:jn("string",Mo._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class yh extends Mo{data(e={}){return super.data(e)}}class Vo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new Mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const d=new yh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Mu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new yh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Mu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:vz(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){t=or(t,ln);const e=or(t.firestore,$s);return f4(Sc(e),t._key).then(n=>K_(e,t,n))}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:jn("string",Vo._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class Y_ extends N4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function xz(t){t=or(t,ln);const e=or(t.firestore,$s);return f4(Sc(e),t._key,{source:"server"}).then(n=>K_(e,t,n))}function wz(t){t=or(t,nl);const e=or(t.firestore,$s),n=Sc(e),r=new Y_(e);return T4(t._query),dz(n,t._query).then(s=>new Vo(e,r,t,s))}function uc(t,e,n){t=or(t,ln);const r=or(t.firestore,$s),s=W_(t.converter,e,n);return Sm(r,[F_(_m(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Mr.none())])}function oh(t,e,n,...r){t=or(t,ln);const s=or(t.firestore,$s),a=_m(s);let l;return l=typeof(e=fn(e))=="string"||e instanceof kd?v4(a,"updateDoc",t._key,e,n,r):b4(a,"updateDoc",t._key,e),Sm(s,[l.toMutation(t._key,Mr.exists(!0))])}function R4(t,e){const n=or(t.firestore,$s),r=Fn(t),s=W_(t.converter,e);return Sm(n,[F_(_m(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function da(t,...e){t=fn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||dS(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dS(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let a,l,u;if(t instanceof ln)l=or(t.firestore,$s),u=Kg(t._key.path),a={next:d=>{e[r]&&e[r](K_(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=or(t,nl);l=or(d.firestore,$s),u=d._query;const h=new Y_(l);a={next:m=>{e[r]&&e[r](new Vo(l,h,d,m))},error:e[r+1],complete:e[r+2]},T4(t._query)}return function(h,m,b,v){const w=new B_(v),A=new M_(m,w,b);return h.asyncQueue.enqueueAndForget(async()=>O_(await cg(h),A)),()=>{w.Nu(),h.asyncQueue.enqueueAndForget(async()=>D_(await cg(h),A))}}(Sc(l),u,s,a)}function Sm(t,e){return function(r,s){const a=new wa;return r.asyncQueue.enqueueAndForget(async()=>JF(await uz(r),s,a)),a.promise}(Sc(t),e)}function K_(t,e,n){const r=n.docs.get(e._key),s=new Y_(t);return new Mo(t,s,e._key,r,new Mu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_m(e)}set(e,n,r){this._verifyNotCommitted();const s=o1(e,this._firestore),a=W_(s.converter,n,r),l=F_(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,Mr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const a=o1(e,this._firestore);let l;return l=typeof(n=fn(n))=="string"||n instanceof kd?v4(this._dataReader,"WriteBatch.update",a._key,n,r,s):b4(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=o1(e,this._firestore);return this._mutations=this._mutations.concat(new v_(n._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function o1(t,e){if((t=fn(t)).firestore!==e)throw new je(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(){return new Em("deleteField")}function k4(){return new z_("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){return Sc(t=or(t,$s)),new I4(t,e=>Sm(t,e))}(function(e,n=!0){(function(s){Nd=s})(Ad),ic(new Fo("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new $s(new xU(r.getProvider("auth-internal")),new EU(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new je(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(h.options.projectId,m)}(l,s),l);return a={useFetchStreams:n,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Ai(pA,gA,e),Ai(pA,gA,"esm2020")})();const Xf=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:N4,Bytes:Qr,CollectionReference:_a,DocumentReference:ln,DocumentSnapshot:Mo,FieldPath:kd,FieldValue:wm,Firestore:$s,FirestoreError:je,GeoPoint:Bs,Query:nl,QueryCompositeFilterConstraint:iy,QueryConstraint:A4,QueryDocumentSnapshot:yh,QueryFieldFilterConstraint:Am,QuerySnapshot:Vo,SnapshotMetadata:Mu,Timestamp:Jt,VectorValue:Us,WriteBatch:I4,_AutoId:qg,_ByteString:Xn,_DatabaseId:nd,_DocumentKey:Ke,_EmptyAuthCredentialsProvider:nI,_FieldPath:Qn,_cast:or,_logWarn:lc,_validateIsNotUsedTogether:sI,addDoc:R4,collection:Ao,connectFirestoreEmulator:p4,deleteField:_z,doc:Fn,ensureFirestoreConfigured:Sc,executeWrite:Sm,getDoc:C4,getDocFromServer:xz,getDocs:wz,getFirestore:Yr,onSnapshot:da,query:ku,serverTimestamp:k4,setDoc:uc,updateDoc:oh,where:Pu,writeBatch:Ez},Symbol.toStringTag,{value:"Module"}));var Tz="firebase",Az="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(Tz,Az,"app");const Sz={apiKey:"AIzaSyBwKot2MZDungAiX8M60u4OEBk2DhjWDfA",authDomain:"veritrust-hackathon.firebaseapp.com",projectId:"veritrust-hackathon",storageBucket:"veritrust-hackathon.firebasestorage.app",messagingSenderId:"843843366406",appId:"1:843843366406:web:0862c0a86335bf56235d87",measurementId:"G-GZPBFQXJTS"},Rr=JV().length?Bg():fR(Sz),_s=lU(Rr),Nz=new ha,P4=Yr(Rr);async function Cz(t){const e=Fn(P4,"users",t.uid);if((await C4(e)).exists())return;const r={uid:t.uid,email:t.email??null,name:t.displayName??null,role:null,createdAt:k4()};await uc(e,r)}async function Rz(t,e){const n=Fn(P4,"users",t),s={role:e,type:e==="recruiter"?"company":"candidate"};_s.currentUser&&_s.currentUser.uid===t&&(s.uid=t,s.email=_s.currentUser.email||null,s.name=_s.currentUser.displayName||null),await uc(n,s,{merge:!0})}async function Iz(){try{const t=await yB(_s,Nz);return await Cz(t.user),t.user}catch(t){const e=t;throw console.error("Firebase Google sign-in error:",{code:e?.code,message:e?.message,error:t}),t}}async function kz(){await QL(_s)}function O4(t){return DR(_s,t)}const Pz=()=>{const t=om(),[e,n]=O.useState(!1);O.useEffect(()=>O4(l=>{l&&t("/option")}),[t]);const r=async()=>{n(!0);try{const a=await Iz();t("/option")}catch(a){console.error("Google Sign-in failed:",a)}finally{n(!1)}},s=async()=>{n(!0);try{await kz(),t("/")}catch(a){console.error("Firebase auth: sign-out failed",a)}finally{n(!1)}};return g.jsxs("div",{className:"min-h-screen bg-neutral-950 flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[20%] left-[10%] w-[500px] h-[500px] bg-violet-900/20 rounded-full blur-[120px] animate-pulse"}),g.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-[500px] h-[500px] bg-fuchsia-900/10 rounded-full blur-[120px] animate-pulse delay-1000"})]}),g.jsxs("div",{className:"max-w-md w-full relative z-10",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-emerald-600 rounded-2xl flex items-center justify-center drop-shadow-2xl hover:scale-105 transition-transform duration-500",children:g.jsx(jr,{className:"w-14 h-14 text-white"})})}),g.jsx("h1",{className:"text-4xl font-sans font-bold text-white tracking-tight mb-2",children:"VeriTrust"}),g.jsxs("p",{className:"text-neutral-400 text-lg font-light tracking-wide",children:["The Standard for ",g.jsx("span",{className:"text-violet-400 font-medium",children:"Verified"})," Hiring"]})]}),g.jsxs("div",{className:"bg-neutral-900/50 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/5 p-8 flex flex-col justify-center space-y-6",children:[g.jsx("div",{className:"text-center space-y-2 mb-2",children:g.jsxs("p",{className:"text-neutral-300 text-sm leading-relaxed",children:["Connect your professional identity to the blockchain. ",g.jsx("br",{}),"Secure, Immutable, and Trusted."]})}),g.jsx("div",{className:"space-y-4",children:g.jsx("button",{onClick:r,disabled:e,className:"group w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white py-4 rounded-xl font-semibold text-lg shadow-lg shadow-violet-900/20 hover:shadow-violet-900/40 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:e?g.jsx("span",{children:"Establishing Connection..."}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Enter VeriTrust"}),g.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-colors",children:g.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})})]})})}),g.jsx("div",{className:"pt-6 border-t border-white/5",children:g.jsxs("div",{className:"flex justify-center items-center gap-2 text-xs text-neutral-500 font-mono uppercase tracking-widest",children:[g.jsx("span",{children:"Secured by"}),g.jsx("span",{className:"text-neutral-400 font-bold",children:"Google Auth"}),g.jsx("span",{children:""}),g.jsx("span",{className:"text-neutral-400 font-bold",children:"Flow Blockchain"})]})})]}),g.jsx("div",{className:"text-center mt-8",children:g.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-300 text-sm transition-colors",children:"Sign out / Switch Account"})})]})]})},Oz="modulepreload",Dz=function(t){return"/"+t},mS={},$l=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(n.map(h=>{if(h=Dz(h),h in mS)return;mS[h]=!0;const m=h.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":Oz,m||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),m)return new Promise((w,A)=>{v.addEventListener("load",w),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},D4=O.createContext({user:null,login:async()=>{},register:async()=>{},logout:()=>{},loading:!1,jobPublicClient:void 0,jobWalletClient:void 0,contractAddress:"",companyJobs:void 0,allJobs:void 0,myApplication:void 0,companyApplications:void 0,uploadZKProof:async()=>{},verifyCompany:async()=>{},organization:null,updateOrganization:async()=>{},connectWallet:async()=>{},walletAddress:null,verifiedCompanyIds:[],resetVerification:async()=>{}}),jz="1.1.0";let Lr=class Dx extends Error{constructor(e,n={}){const r=n.cause instanceof Dx?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Dx&&n.cause.docsPath||n.docsPath,a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${jz}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function La(t,e){return t.exec(e)?.groups}const j4=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,M4=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,V4=/^\(.+?\).*?$/,pS=/^tuple(?<array>(\[(\d*)\])*)$/;function jx(t){let e=t.type;if(pS.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const a=t.components[s];e+=jx(a),s<n-1&&(e+=", ")}const r=La(pS,t.type);return e+=`)${r?.array??""}`,jx({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Ou(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=jx(s),r!==n-1&&(e+=", ")}return e}function dg(t){return t.type==="function"?`function ${t.name}(${Ou(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Ou(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Ou(t.inputs)})`:t.type==="error"?`error ${t.name}(${Ou(t.inputs)})`:t.type==="constructor"?`constructor(${Ou(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const L4=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Mz(t){return L4.test(t)}function Vz(t){return La(L4,t)}const B4=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Lz(t){return B4.test(t)}function Bz(t){return La(B4,t)}const U4=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Uz(t){return U4.test(t)}function Fz(t){return La(U4,t)}const F4=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function ay(t){return F4.test(t)}function zz(t){return La(F4,t)}const z4=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function $z(t){return z4.test(t)}function qz(t){return La(z4,t)}const $4=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Hz(t){return $4.test(t)}function Gz(t){return La($4,t)}const Wz=/^receive\(\) external payable$/;function Yz(t){return Wz.test(t)}const gS=new Set(["memory","indexed","storage","calldata"]),Kz=new Set(["indexed"]),Mx=new Set(["calldata","memory","storage"]);class Zz extends Lr{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Qz extends Lr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Xz extends Lr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Jz extends Lr{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class e$ extends Lr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class t$ extends Lr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class n$ extends Lr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class r$ extends Lr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class s$ extends Lr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Pd extends Lr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class i$ extends Lr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class a$ extends Lr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class o$ extends Lr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class l$ extends Lr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function c$(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const l of s[1])a+=`[${l.type}${l.name?`:${l.name}`:""}]`;r+=`(${s[0]}{${a}})`}return e?`${e}:${t}${r}`:t}const l1=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Vx(t,e={}){if(Uz(t))return u$(t,e);if(Lz(t))return d$(t,e);if(Mz(t))return f$(t,e);if($z(t))return h$(t,e);if(Hz(t))return m$(t);if(Yz(t))return{type:"receive",stateMutability:"payable"};throw new i$({signature:t})}function u$(t,e={}){const n=Fz(t);if(!n)throw new Pd({signature:t,type:"function"});const r=Xr(n.parameters),s=[],a=r.length;for(let u=0;u<a;u++)s.push(Ia(r[u],{modifiers:Mx,structs:e,type:"function"}));const l=[];if(n.returns){const u=Xr(n.returns),d=u.length;for(let h=0;h<d;h++)l.push(Ia(u[h],{modifiers:Mx,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:l}}function d$(t,e={}){const n=Bz(t);if(!n)throw new Pd({signature:t,type:"event"});const r=Xr(n.parameters),s=[],a=r.length;for(let l=0;l<a;l++)s.push(Ia(r[l],{modifiers:Kz,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function f$(t,e={}){const n=Vz(t);if(!n)throw new Pd({signature:t,type:"error"});const r=Xr(n.parameters),s=[],a=r.length;for(let l=0;l<a;l++)s.push(Ia(r[l],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function h$(t,e={}){const n=qz(t);if(!n)throw new Pd({signature:t,type:"constructor"});const r=Xr(n.parameters),s=[],a=r.length;for(let l=0;l<a;l++)s.push(Ia(r[l],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function m$(t){const e=Gz(t);if(!e)throw new Pd({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const p$=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,g$=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y$=/^u?int$/;function Ia(t,e){const n=c$(t,e?.type,e?.structs);if(l1.has(n))return l1.get(n);const r=V4.test(t),s=La(r?g$:p$,t);if(!s)throw new e$({param:t});if(s.name&&v$(s.name))throw new t$({param:t,name:s.name});const a=s.name?{name:s.name}:{},l=s.modifier==="indexed"?{indexed:!0}:{},u=e?.structs??{};let d,h={};if(r){d="tuple";const b=Xr(s.type),v=[],w=b.length;for(let A=0;A<w;A++)v.push(Ia(b[A],{structs:u}));h={components:v}}else if(s.type in u)d="tuple",h={components:u[s.type]};else if(y$.test(s.type))d=`${s.type}256`;else if(s.type==="address payable")d="address";else if(d=s.type,e?.type!=="struct"&&!q4(d))throw new Xz({type:d});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new n$({param:t,type:e?.type,modifier:s.modifier});if(Mx.has(s.modifier)&&!x$(d,!!s.array))throw new r$({param:t,type:e?.type,modifier:s.modifier})}const m={type:`${d}${s.array??""}`,...a,...l,...h};return l1.set(n,m),m}function Xr(t,e=[],n="",r=0){const s=t.trim().length;for(let a=0;a<s;a++){const l=t[a],u=t.slice(a+1);switch(l){case",":return r===0?Xr(u,[...e,n.trim()]):Xr(u,e,`${n}${l}`,r);case"(":return Xr(u,e,`${n}${l}`,r+1);case")":return Xr(u,e,`${n}${l}`,r-1);default:return Xr(u,e,`${n}${l}`,r)}}if(n==="")return e;if(r!==0)throw new l$({current:n,depth:r});return e.push(n.trim()),e}function q4(t){return t==="address"||t==="bool"||t==="function"||t==="string"||j4.test(t)||M4.test(t)}const b$=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function v$(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||j4.test(t)||M4.test(t)||b$.test(t)}function x$(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Z_(t){const e={},n=t.length;for(let l=0;l<n;l++){const u=t[l];if(!ay(u))continue;const d=zz(u);if(!d)throw new Pd({signature:u,type:"struct"});const h=d.properties.split(";"),m=[],b=h.length;for(let v=0;v<b;v++){const A=h[v].trim();if(!A)continue;const T=Ia(A,{type:"struct"});m.push(T)}if(!m.length)throw new a$({signature:u});e[d.name]=m}const r={},s=Object.entries(e),a=s.length;for(let l=0;l<a;l++){const[u,d]=s[l];r[u]=H4(d,e)}return r}const w$=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function H4(t,e,n=new Set){const r=[],s=t.length;for(let a=0;a<s;a++){const l=t[a];if(V4.test(l.type))r.push(l);else{const d=La(w$,l.type);if(!d?.type)throw new s$({abiParameter:l});const{array:h,type:m}=d;if(m in e){if(n.has(m))throw new o$({type:m});r.push({...l,type:`tuple${h??""}`,components:H4(e[m]??[],e,new Set([...n,m]))})}else if(q4(m))r.push(l);else throw new Qz({type:m})}}return r}function G4(t){const e=Z_(t),n=[],r=t.length;for(let s=0;s<r;s++){const a=t[s];ay(a)||n.push(Vx(a,e))}return n}function yS(t){let e;if(typeof t=="string")e=Vx(t);else{const n=Z_(t),r=t.length;for(let s=0;s<r;s++){const a=t[s];if(!ay(a)){e=Vx(a,n);break}}}if(!e)throw new Zz({signature:t});return e}function bS(t){const e=[];if(typeof t=="string"){const n=Xr(t),r=n.length;for(let s=0;s<r;s++)e.push(Ia(n[s],{modifiers:gS}))}else{const n=Z_(t),r=t.length;for(let s=0;s<r;s++){const a=t[s];if(ay(a))continue;const l=Xr(a),u=l.length;for(let d=0;d<u;d++)e.push(Ia(l[d],{modifiers:gS,structs:n}))}}if(e.length===0)throw new Jz({params:t});return e}function Ye(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}function qs(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new D$(t.type);return`${t.name}(${oy(t.inputs,{includeName:e})})`}function oy(t,{includeName:e=!1}={}){return t?t.map(n=>_$(n,{includeName:e})).join(e?", ":","):""}function _$(t,{includeName:e}){return t.type.startsWith("tuple")?`(${oy(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Di(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function gn(t){return Di(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const W4="2.37.8";let c1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${W4}`},Se=class Lx extends Error{constructor(e,n={}){const r=n.cause instanceof Lx?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Lx&&n.cause.docsPath||n.docsPath,a=c1.getDocsUrl?.({...n,docsPath:s}),l=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...c1.version?[`Version: ${c1.version}`]:[]].join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=W4}walk(e){return Y4(this,e)}};function Y4(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Y4(t.cause,e):e?null:t}class E$ extends Se{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class vS extends Se{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class K4 extends Se{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${oy(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Nm extends Se{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class T$ extends Se{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class A$ extends Se{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${gn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class S$ extends Se{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class N$ extends Se{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class xS extends Se{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Z4 extends Se{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class C$ extends Se{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Q4 extends Se{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class wS extends Se{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class od extends Se{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class X4 extends Se{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class R$ extends Se{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class I$ extends Se{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${qs(e.abiItem)}\`, and`,`\`${n.type}\` in \`${qs(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let k$=class extends Se{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class kh extends Se{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${oy(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class ly extends Se{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${qs(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class P$ extends Se{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class O$ extends Se{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let J4=class extends Se{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class D$ extends Se{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class j$ extends Se{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let e3=class extends Se{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},t3=class extends Se{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class _S extends Se{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Od(t,{dir:e,size:n=32}={}){return typeof t=="string"?Lo(t,{dir:e,size:n}):M$(t,{dir:e,size:n})}function Lo(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new t3({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function M$(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new t3({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}let n3=class extends Se{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},V$=class extends Se{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class L$ extends Se{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let B$=class extends Se{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Bo(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Js(t,{size:e}){if(gn(t)>e)throw new B$({givenSize:gn(t),maxSize:e})}function ns(t,e={}){const{signed:n}=e;e.size&&Js(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function U$(t,e={}){let n=t;if(e.size&&(Js(n,{size:e.size}),n=Bo(n)),Bo(n)==="0x00")return!1;if(Bo(n)==="0x01")return!0;throw new L$(n)}function Hs(t,e={}){return Number(ns(t,e))}const F$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ka(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ge(t,e):typeof t=="string"?ld(t,e):typeof t=="boolean"?r3(t,e):qn(t,e)}function r3(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Js(n,{size:e.size}),Od(n,{size:e.size})):n}function qn(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=F$[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Js(r,{size:e.size}),Od(r,{dir:"right",size:e.size})):r}function Ge(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<l){const d=typeof t=="bigint"?"n":"";throw new n3({max:a?`${a}${d}`:void 0,min:`${l}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Od(u,{size:r}):u}const z$=new TextEncoder;function ld(t,e={}){const n=z$.encode(t);return qn(n,e)}const $$=new TextEncoder;function Dd(t,e={}){return typeof t=="number"||typeof t=="bigint"?H$(t,e):typeof t=="boolean"?q$(t,e):Di(t)?ji(t,e):Jl(t,e)}function q$(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Js(n,{size:e.size}),Od(n,{size:e.size})):n}const aa={zero:48,nine:57,A:65,F:70,a:97,f:102};function ES(t){if(t>=aa.zero&&t<=aa.nine)return t-aa.zero;if(t>=aa.A&&t<=aa.F)return t-(aa.A-10);if(t>=aa.a&&t<=aa.f)return t-(aa.a-10)}function ji(t,e={}){let n=t;e.size&&(Js(n,{size:e.size}),n=Od(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let l=0,u=0;l<s;l++){const d=ES(r.charCodeAt(u++)),h=ES(r.charCodeAt(u++));if(d===void 0||h===void 0)throw new Se(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);a[l]=d*16+h}return a}function H$(t,e){const n=Ge(t,e);return ji(n)}function Jl(t,e={}){const n=$$.encode(t);return typeof e.size=="number"?(Js(n,{size:e.size}),Od(n,{dir:"right",size:e.size})):n}const u0=BigInt(2**32-1),TS=BigInt(32);function G$(t,e=!1){return e?{h:Number(t&u0),l:Number(t>>TS&u0)}:{h:Number(t>>TS&u0)|0,l:Number(t&u0)|0}}function W$(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:l,l:u}=G$(t[a],e);[r[a],s[a]]=[l,u]}return[r,s]}const Y$=(t,e,n)=>t<<n|e>>>32-n,K$=(t,e,n)=>e<<n|t>>>32-n,Z$=(t,e,n)=>e<<n-32|t>>>64-n,Q$=(t,e,n)=>t<<n-32|e>>>64-n,vu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function X$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ph(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function dc(t,...e){if(!X$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function J$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ph(t.outputLen),Ph(t.blockLen)}function cd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function s3(t,e){dc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function eq(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ud(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function u1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pi(t,e){return t<<32-e|t>>>e}const tq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function nq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function rq(t){for(let e=0;e<t.length;e++)t[e]=nq(t[e]);return t}const AS=tq?t=>t:rq;function sq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function cy(t){return typeof t=="string"&&(t=sq(t)),dc(t),t}function iq(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];dc(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}class Q_{}function i3(t){const e=r=>t().update(cy(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function aq(t=32){if(vu&&typeof vu.getRandomValues=="function")return vu.getRandomValues(new Uint8Array(t));if(vu&&typeof vu.randomBytes=="function")return Uint8Array.from(vu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const oq=BigInt(0),Jf=BigInt(1),lq=BigInt(2),cq=BigInt(7),uq=BigInt(256),dq=BigInt(113),a3=[],o3=[],l3=[];for(let t=0,e=Jf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],a3.push(2*(5*r+n)),o3.push((t+1)*(t+2)/2%64);let s=oq;for(let a=0;a<7;a++)e=(e<<Jf^(e>>cq)*dq)%uq,e&lq&&(s^=Jf<<(Jf<<BigInt(a))-Jf);l3.push(s)}const c3=W$(l3,!0),fq=c3[0],hq=c3[1],SS=(t,e,n)=>n>32?Z$(t,e,n):Y$(t,e,n),NS=(t,e,n)=>n>32?Q$(t,e,n):K$(t,e,n);function mq(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const u=(l+8)%10,d=(l+2)%10,h=n[d],m=n[d+1],b=SS(h,m,1)^n[u],v=NS(h,m,1)^n[u+1];for(let w=0;w<50;w+=10)t[l+w]^=b,t[l+w+1]^=v}let s=t[2],a=t[3];for(let l=0;l<24;l++){const u=o3[l],d=SS(s,a,u),h=NS(s,a,u),m=a3[l];s=t[m],a=t[m+1],t[m]=d,t[m+1]=h}for(let l=0;l<50;l+=10){for(let u=0;u<10;u++)n[u]=t[l+u];for(let u=0;u<10;u++)t[l+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=fq[r],t[1]^=hq[r]}ud(n)}class X_ extends Q_{constructor(e,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,Ph(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=eq(this.state)}clone(){return this._cloneInto()}keccak(){AS(this.state32),mq(this.state32,this.rounds),AS(this.state32),this.posOut=0,this.pos=0}update(e){cd(this),e=cy(e),dc(e);const{blockLen:n,state:r}=this,s=e.length;for(let a=0;a<s;){const l=Math.min(n-this.pos,s-a);for(let u=0;u<l;u++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){cd(this,!1),dc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ph(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(s3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ud(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:l}=this;return e||(e=new X_(n,r,s,l,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}}const pq=(t,e,n)=>i3(()=>new X_(e,t,n)),u3=pq(1,136,256/8);function ar(t,e){const n=e||"hex",r=u3(Di(t,{strict:!1})?Dd(t):t);return n==="bytes"?r:ka(r)}const gq=t=>ar(Dd(t));function yq(t){return gq(t)}function bq(t){let e=!0,n="",r=0,s="",a=!1;for(let l=0;l<t.length;l++){const u=t[l];if(["(",")",","].includes(u)&&(e=!0),u==="("&&r++,u===")"&&r--,!!e){if(r===0){if(u===" "&&["event","function",""].includes(s))s="";else if(s+=u,u===")"){a=!0;break}continue}if(u===" "){t[l-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=u,n+=u}}if(!a)throw new Se("Unable to normalize signature.");return s}const vq=t=>{const e=typeof t=="string"?t:dg(t);return bq(e)};function d3(t){return yq(vq(t))}const uy=d3;let Yo=class extends Se{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},dy=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const d1=new dy(8192);function Cm(t,e){if(d1.has(`${t}.${e}`))return d1.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=ar(Jl(n),"bytes"),s=n.split("");for(let l=0;l<40;l+=2)r[l>>1]>>4>=8&&s[l]&&(s[l]=s[l].toUpperCase()),(r[l>>1]&15)>=8&&s[l+1]&&(s[l+1]=s[l+1].toUpperCase());const a=`0x${s.join("")}`;return d1.set(`${t}.${e}`,a),a}function J_(t,e){if(!Es(t,{strict:!1}))throw new Yo({address:t});return Cm(t,e)}const xq=/^0x[a-fA-F0-9]{40}$/,f1=new dy(8192);function Es(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(f1.has(r))return f1.get(r);const s=xq.test(t)?t.toLowerCase()===t?!0:n?Cm(t)===t:!0:!1;return f1.set(r,s),s}function Ts(t){return typeof t[0]=="string"?jd(t):wq(t)}function wq(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function jd(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function dd(t,e,n,{strict:r}={}){return Di(t,{strict:!1})?Bx(t,e,n,{strict:r}):m3(t,e,n,{strict:r})}function f3(t,e){if(typeof e=="number"&&e>0&&e>gn(t)-1)throw new e3({offset:e,position:"start",size:gn(t)})}function h3(t,e,n){if(typeof e=="number"&&typeof n=="number"&&gn(t)!==n-e)throw new e3({offset:n,position:"end",size:gn(t)})}function m3(t,e,n,{strict:r}={}){f3(t,e);const s=t.slice(e,n);return r&&h3(s,e,n),s}function Bx(t,e,n,{strict:r}={}){f3(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&h3(s,e,n),s}const _q=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,p3=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Nc(t,e){if(t.length!==e.length)throw new S$({expectedLength:t.length,givenLength:e.length});const n=Eq({params:t,values:e}),r=tE(n);return r.length===0?"0x":r}function Eq({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(eE({param:t[r],value:e[r]}));return n}function eE({param:t,value:e}){const n=nE(t.type);if(n){const[r,s]=n;return Aq(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return Iq(e,{param:t});if(t.type==="address")return Tq(e);if(t.type==="bool")return Nq(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=p3.exec(t.type)??[];return Cq(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return Sq(e,{param:t});if(t.type==="string")return Rq(e);throw new P$(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function tE(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:l,encoded:u}=t[a];l?e+=32:e+=gn(u)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:l,encoded:u}=t[a];l?(n.push(Ge(e+s,{size:32})),r.push(u),s+=gn(u)):n.push(u)}return Ts([...n,...r])}function Tq(t){if(!Es(t))throw new Yo({address:t});return{dynamic:!1,encoded:Lo(t.toLowerCase())}}function Aq(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new J4(t);if(!r&&t.length!==e)throw new T$({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const a=[];for(let l=0;l<t.length;l++){const u=eE({param:n,value:t[l]});u.dynamic&&(s=!0),a.push(u)}if(r||s){const l=tE(a);if(r){const u=Ge(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ts([u,l]):u}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Ts(a.map(({encoded:l})=>l))}}function Sq(t,{param:e}){const[,n]=e.type.split("bytes"),r=gn(t);if(!n){let s=t;return r%32!==0&&(s=Lo(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ts([Lo(Ge(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new A$({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Lo(t,{dir:"right"})}}function Nq(t){if(typeof t!="boolean")throw new Se(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Lo(r3(t))}}function Cq(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new n3({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ge(t,{size:32,signed:e})}}function Rq(t){const e=ld(t),n=Math.ceil(gn(e)/32),r=[];for(let s=0;s<n;s++)r.push(Lo(dd(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ts([Lo(Ge(gn(e),{size:32})),...r])}}function Iq(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],l=Array.isArray(t)?s:a.name,u=eE({param:a,value:t[l]});r.push(u),u.dynamic&&(n=!0)}return{dynamic:n,encoded:n?tE(r):Ts(r.map(({encoded:s})=>s))}}function nE(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Rm=t=>dd(d3(t),0,4);function Cc(t){const{abi:e,args:n=[],name:r}=t,s=Di(r,{strict:!1}),a=e.filter(u=>s?u.type==="function"?Rm(u)===r:u.type==="event"?uy(u)===r:!1:"name"in u&&u.name===r);if(a.length===0)return;if(a.length===1)return a[0];let l;for(const u of a){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return u;continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((h,m)=>{const b="inputs"in u&&u.inputs[m];return b?Ux(h,b):!1})){if(l&&"inputs"in l&&l.inputs){const h=g3(u.inputs,l.inputs,n);if(h)throw new I$({abiItem:u,type:h[0]},{abiItem:l,type:h[1]})}l=u}}return l||a[0]}function Ux(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Es(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>Ux(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Ux(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function g3(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return g3(s.components,a.components,n[r]);const l=[s.type,a.type];if(l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?Es(n[r],{strict:!1}):l.includes("address")&&l.includes("bytes")?Es(n[r],{strict:!1}):!1)return l}}const CS="/docs/contract/encodeEventTopics";function Im(t){const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const d=Cc({abi:e,name:n});if(!d)throw new wS(n,{docsPath:CS});s=d}if(s.type!=="event")throw new wS(void 0,{docsPath:CS});const a=qs(s),l=uy(a);let u=[];if(r&&"inputs"in s){const d=s.inputs?.filter(m=>"indexed"in m&&m.indexed),h=Array.isArray(r)?r:Object.values(r).length>0?d?.map(m=>r[m.name])??[]:[];h.length>0&&(u=d?.map((m,b)=>Array.isArray(h[b])?h[b].map((v,w)=>RS({param:m,value:h[b][w]})):typeof h[b]<"u"&&h[b]!==null?RS({param:m,value:h[b]}):null)??[])}return[l,...u]}function RS({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ar(Dd(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new j$(t.type);return Nc([t],[e])}function fy(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:s,status:a,transport:l})=>{a==="success"&&e===r&&(n[s]=l.request)}),r=>n[r]||t.request}async function y3(t,e){const{address:n,abi:r,args:s,eventName:a,fromBlock:l,strict:u,toBlock:d}=e,h=fy(t,{method:"eth_newFilter"}),m=a?Im({abi:r,args:s,eventName:a}):void 0,b=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof l=="bigint"?Ge(l):l,toBlock:typeof d=="bigint"?Ge(d):d,topics:m}]});return{abi:r,args:s,eventName:a,id:b,request:h(b),strict:!!u,type:"event"}}function Sn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const IS="/docs/contract/encodeFunctionData";function kq(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const a=Cc({abi:e,args:n,name:r});if(!a)throw new od(r,{docsPath:IS});s=a}if(s.type!=="function")throw new od(void 0,{docsPath:IS});return{abi:[s],functionName:Rm(qs(s))}}function is(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:kq(t),s=n[0],a=r,l="inputs"in s&&s.inputs?Nc(s.inputs,e??[]):void 0;return jd([a,l??"0x"])}const Pq={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},b3={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Oq={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let kS=class extends Se{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},v3=class extends Se{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Dq=class extends Se{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const jq={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Dq({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new v3({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new kS({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new kS({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function rE(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(jq);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Mq(t,e={}){typeof e.size<"u"&&Js(t,{size:e.size});const n=qn(t,e);return ns(n,e)}function Vq(t,e={}){let n=t;if(typeof e.size<"u"&&(Js(n,{size:e.size}),n=Bo(n)),n.length>1||n[0]>1)throw new V$(n);return!!n[0]}function Ea(t,e={}){typeof e.size<"u"&&Js(t,{size:e.size});const n=qn(t,e);return Hs(n,e)}function Lq(t,e={}){let n=t;return typeof e.size<"u"&&(Js(n,{size:e.size}),n=Bo(n,{dir:"right"})),new TextDecoder().decode(n)}function km(t,e){const n=typeof e=="string"?ji(e):e,r=rE(n);if(gn(n)===0&&t.length>0)throw new Nm;if(gn(e)&&gn(e)<32)throw new K4({data:typeof e=="string"?e:qn(e),params:t,size:gn(e)});let s=0;const a=[];for(let l=0;l<t.length;++l){const u=t[l];r.setPosition(s);const[d,h]=Gu(r,u,{staticPosition:0});s+=h,a.push(d)}return a}function Gu(t,e,{staticPosition:n}){const r=nE(e.type);if(r){const[s,a]=r;return Uq(t,{...e,type:a},{length:s,staticPosition:n})}if(e.type==="tuple")return qq(t,e,{staticPosition:n});if(e.type==="address")return Bq(t);if(e.type==="bool")return Fq(t);if(e.type.startsWith("bytes"))return zq(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return $q(t,e);if(e.type==="string")return Hq(t,{staticPosition:n});throw new O$(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const PS=32,Fx=32;function Bq(t){const e=t.readBytes(32);return[Cm(qn(m3(e,-20))),32]}function Uq(t,e,{length:n,staticPosition:r}){if(!n){const l=Ea(t.readBytes(Fx)),u=r+l,d=u+PS;t.setPosition(u);const h=Ea(t.readBytes(PS)),m=Oh(e);let b=0;const v=[];for(let w=0;w<h;++w){t.setPosition(d+(m?w*32:b));const[A,T]=Gu(t,e,{staticPosition:d});b+=T,v.push(A)}return t.setPosition(r+32),[v,32]}if(Oh(e)){const l=Ea(t.readBytes(Fx)),u=r+l,d=[];for(let h=0;h<n;++h){t.setPosition(u+h*32);const[m]=Gu(t,e,{staticPosition:u});d.push(m)}return t.setPosition(r+32),[d,32]}let s=0;const a=[];for(let l=0;l<n;++l){const[u,d]=Gu(t,e,{staticPosition:r+s});s+=d,a.push(u)}return[a,s]}function Fq(t){return[Vq(t.readBytes(32),{size:32}),32]}function zq(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const l=Ea(t.readBytes(32));t.setPosition(n+l);const u=Ea(t.readBytes(32));if(u===0)return t.setPosition(n+32),["0x",32];const d=t.readBytes(u);return t.setPosition(n+32),[qn(d),32]}return[qn(t.readBytes(Number.parseInt(s,10),32)),32]}function $q(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?Mq(s,{signed:n}):Ea(s,{signed:n}),32]}function qq(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:l})=>!l),s=r?[]:{};let a=0;if(Oh(e)){const l=Ea(t.readBytes(Fx)),u=n+l;for(let d=0;d<e.components.length;++d){const h=e.components[d];t.setPosition(u+a);const[m,b]=Gu(t,h,{staticPosition:u});a+=b,s[r?d:h?.name]=m}return t.setPosition(n+32),[s,32]}for(let l=0;l<e.components.length;++l){const u=e.components[l],[d,h]=Gu(t,u,{staticPosition:n});s[r?l:u?.name]=d,a+=h}return[s,a]}function Hq(t,{staticPosition:e}){const n=Ea(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Ea(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),l=Lq(Bo(a));return t.setPosition(e+32),[l,32]}function Oh(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Oh);const n=nE(t.type);return!!(n&&Oh({...t,type:n[1]}))}function Gq(t){const{abi:e,data:n}=t,r=dd(n,0,4);if(r==="0x")throw new Nm;const a=[...e||[],b3,Oq].find(l=>l.type==="error"&&r===Rm(qs(l)));if(!a)throw new Z4(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?km(a.inputs,dd(n,4)):void 0,errorName:a.name}}const $n=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function x3({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?$n(e[a]):e[a]}`).join(", ")})`}const Wq={gwei:9,wei:18},Yq={ether:-9,wei:9};function w3(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function sE(t,e="wei"){return w3(t,Wq[e])}function Vr(t,e="wei"){return w3(t,Yq[e])}class Kq extends Se{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Zq extends Se{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function OS(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function Qq(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=OS(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=OS(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Pm(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Xq extends Se{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Jq extends Se{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Pm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class eH extends Se{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:l,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:m,to:b,value:v}){const w=Pm({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:b,value:typeof v<"u"&&`${sE(v)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:l,gasPrice:typeof u<"u"&&`${Vr(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${Vr(d)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${Vr(h)} gwei`,nonce:m});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class _3 extends Se{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){let l="Transaction";r&&a!==void 0&&(l=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(l=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(l=`Transaction at block number "${n}" at index "${a}"`),s&&(l=`Transaction with hash "${s}"`),super(`${l} could not be found.`,{name:"TransactionNotFoundError"})}}class E3 extends Se{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class tH extends Se{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const nH=t=>t,iE=t=>t;class T3 extends Se{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:l,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:m,to:b,value:v,stateOverride:w}){const A=n?Sn(n):void 0;let T=Pm({from:A?.address,to:b,value:typeof v<"u"&&`${sE(v)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:l,gasPrice:typeof u<"u"&&`${Vr(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${Vr(d)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${Vr(h)} gwei`,nonce:m});w&&(T+=`
${Qq(w)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",T].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class A3 extends Se{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:l,sender:u}){const d=Cc({abi:n,args:r,name:l}),h=d?x3({abiItem:d,args:r,includeFunctionName:!1,includeName:!1}):void 0,m=d?qs(d,{includeName:!0}):void 0,b=Pm({address:s&&nH(s),function:m,args:h&&h!=="()"&&`${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${h}`,sender:u});super(e.shortMessage||`An unknown error occurred while executing the contract function "${l}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],b&&"Contract Call:",b].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=l,this.sender=u}}class zx extends Se{constructor({abi:e,data:n,functionName:r,message:s}){let a,l,u,d;if(n&&n!=="0x")try{l=Gq({abi:e,data:n});const{abiItem:m,errorName:b,args:v}=l;if(b==="Error")d=v[0];else if(b==="Panic"){const[w]=v;d=Pq[w]}else{const w=m?qs(m,{includeName:!0}):void 0,A=m&&v?x3({abiItem:m,args:v,includeFunctionName:!1,includeName:!1}):void 0;u=[w?`Error: ${w}`:"",A&&A!=="()"?`       ${[...Array(b?.length??0).keys()].map(()=>" ").join("")}${A}`:""]}}catch(m){a=m}else s&&(d=s);let h;a instanceof Z4&&(h=a.signature,u=[`Unable to decode signature "${h}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${h}.`]),super(d&&d!=="execution reverted"||h?[`The contract function "${r}" reverted with the following ${h?"signature":"reason"}:`,d||h].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=n,this.reason=d,this.signature=h}}class rH extends Se{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class sH extends Se{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class hy extends Se{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class bh extends Se{constructor({body:e,cause:n,details:r,headers:s,status:a,url:l}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${iE(l)}`,e&&`Request body: ${$n(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=a,this.url=l}}class aE extends Se{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${iE(r)}`,`Request body: ${$n(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class DS extends Se{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${iE(n)}`,`Request body: ${$n(e)}`],name:"TimeoutError"})}}const iH=-1;class Br extends Se{constructor(e,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:l}){super(l,{cause:e,docsPath:r,metaMessages:s||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof aE?e.code:n??iH}}class as extends Br{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Dh extends Br{constructor(e){super(e,{code:Dh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class jh extends Br{constructor(e){super(e,{code:jh.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Mh extends Br{constructor(e,{method:n}={}){super(e,{code:Mh.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Vh extends Br{constructor(e){super(e,{code:Vh.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class fc extends Br{constructor(e){super(e,{code:fc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(fc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class hc extends Br{constructor(e){super(e,{code:hc.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(hc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Lh extends Br{constructor(e){super(e,{code:Lh.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Bh extends Br{constructor(e){super(e,{code:Bh.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Uh extends Br{constructor(e){super(e,{code:Uh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Wl extends Br{constructor(e,{method:n}={}){super(e,{code:Wl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Wl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class fd extends Br{constructor(e){super(e,{code:fd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(fd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Fh extends Br{constructor(e){super(e,{code:Fh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Wu extends as{constructor(e){super(e,{code:Wu.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Wu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zh extends as{constructor(e){super(e,{code:zh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class $h extends as{constructor(e,{method:n}={}){super(e,{code:$h.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class qh extends as{constructor(e){super(e,{code:qh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Hh extends as{constructor(e){super(e,{code:Hh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Gh extends as{constructor(e){super(e,{code:Gh.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class hd extends as{constructor(e){super(e,{code:hd.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Wh extends as{constructor(e){super(e,{code:Wh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Yh extends as{constructor(e){super(e,{code:Yh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Kh extends as{constructor(e){super(e,{code:Kh.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Zh extends as{constructor(e){super(e,{code:Zh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Qh extends as{constructor(e){super(e,{code:Qh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class md extends as{constructor(e){super(e,{code:md.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(md,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class aH extends Br{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const oH=3;function mc(t,{abi:e,address:n,args:r,docsPath:s,functionName:a,sender:l}){const u=t instanceof hy?t:t instanceof Se?t.walk(A=>"data"in A)||t.walk():{},{code:d,data:h,details:m,message:b,shortMessage:v}=u,w=t instanceof Nm?new rH({functionName:a}):[oH,fc.code].includes(d)&&(h||m||b||v)?new zx({abi:e,data:typeof h=="object"?h.data:h,functionName:a,message:u instanceof aE?m:v??b}):t;return new A3(w,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:a,sender:l})}function lH(t){const e=ar(`0x${t.substring(4)}`).substring(26);return Cm(`0x${e}`)}async function cH({hash:t,signature:e}){const n=Di(t)?t:ka(t),{secp256k1:r}=await $l(async()=>{const{secp256k1:l}=await Promise.resolve().then(()=>zY);return{secp256k1:l}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:h,s:m,v:b,yParity:v}=e,w=Number(v??b),A=jS(w);return new r.Signature(ns(h),ns(m)).addRecoveryBit(A)}const l=Di(e)?e:ka(e);if(gn(l)!==65)throw new Error("invalid signature length");const u=Hs(`0x${l.slice(130)}`),d=jS(u);return r.Signature.fromCompact(l.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function jS(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function S3({hash:t,signature:e}){return lH(await cH({hash:t,signature:e}))}function uH(t,e="hex"){const n=N3(t),r=rE(new Uint8Array(n.length));return n.encode(r),e==="hex"?qn(r.bytes):r.bytes}function N3(t){return Array.isArray(t)?dH(t.map(e=>N3(e))):fH(t)}function dH(t){const e=t.reduce((s,a)=>s+a.length,0),n=C3(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:a}of t)a(s)}}}function fH(t){const e=typeof t=="string"?ji(t):t,n=C3(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function C3(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Se("Length is too large.")}function hH(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,a=ar(jd(["0x05",uH([e?Ge(e):"0x",s,n?Ge(n):"0x"])]));return r==="bytes"?ji(a):a}async function oE(t){const{authorization:e,signature:n}=t;return S3({hash:hH(e),signature:n??e})}class mH extends Se{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:l,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:m,to:b,value:v}){const w=Pm({from:n?.address,to:b,value:typeof v<"u"&&`${sE(v)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:l,gasPrice:typeof u<"u"&&`${Vr(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${Vr(d)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${Vr(h)} gwei`,nonce:m});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Vu extends Se{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Vu,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Vu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class fg extends Se{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Vr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(fg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class $x extends Se{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Vr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty($x,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class qx extends Se{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(qx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Hx extends Se{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Hx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Gx extends Se{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Gx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Wx extends Se{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Wx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Yx extends Se{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Yx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Kx extends Se{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Kx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Zx extends Se{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Zx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class hg extends Se{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Vr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Vr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(hg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Om extends Se{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function my(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Se?t.walk(s=>s?.code===Vu.code):t;return r instanceof Se?new Vu({cause:t,message:r.details}):Vu.nodeMessage.test(n)?new Vu({cause:t,message:t.details}):fg.nodeMessage.test(n)?new fg({cause:t,maxFeePerGas:e?.maxFeePerGas}):$x.nodeMessage.test(n)?new $x({cause:t,maxFeePerGas:e?.maxFeePerGas}):qx.nodeMessage.test(n)?new qx({cause:t,nonce:e?.nonce}):Hx.nodeMessage.test(n)?new Hx({cause:t,nonce:e?.nonce}):Gx.nodeMessage.test(n)?new Gx({cause:t,nonce:e?.nonce}):Wx.nodeMessage.test(n)?new Wx({cause:t}):Yx.nodeMessage.test(n)?new Yx({cause:t,gas:e?.gas}):Kx.nodeMessage.test(n)?new Kx({cause:t,gas:e?.gas}):Zx.nodeMessage.test(n)?new Zx({cause:t}):hg.nodeMessage.test(n)?new hg({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Om({cause:t})}function pH(t,{docsPath:e,...n}){const r=(()=>{const s=my(t,n);return s instanceof Om?t:s})();return new mH(r,{docsPath:e,...n})}function py(t,{format:e}){if(!e)return{};const n={};function r(a){const l=Object.keys(a);for(const u of l)u in t&&(n[u]=t[u]),a[u]&&typeof a[u]=="object"&&!Array.isArray(a[u])&&r(a[u])}const s=e(t||{});return r(s),n}const gH={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Md(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=yH(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>qn(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Ge(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Ge(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ge(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Ge(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ge(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Ge(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=gH[t.type]),typeof t.value<"u"&&(e.value=Ge(t.value)),e}function yH(t){return t.map(e=>({address:e.address,r:e.r?Ge(BigInt(e.r)):e.r,s:e.s?Ge(BigInt(e.s)):e.s,chainId:Ge(e.chainId),nonce:Ge(e.nonce),...typeof e.yParity<"u"?{yParity:Ge(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ge(e.v)}:{}}))}function MS(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new _S({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new _S({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function bH(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:a}=t,l={};if(a!==void 0&&(l.code=a),e!==void 0&&(l.balance=Ge(e)),n!==void 0&&(l.nonce=Ge(n)),r!==void 0&&(l.state=MS(r)),s!==void 0){if(l.state)throw new Zq;l.stateDiff=MS(s)}return l}function lE(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Es(n,{strict:!1}))throw new Yo({address:n});if(e[n])throw new Kq({address:n});e[n]=bH(r)}return e}const vH=2n**256n-1n;function Rc(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=t,l=e?Sn(e):void 0;if(l&&!Es(l.address))throw new Yo({address:l.address});if(a&&!Es(a))throw new Yo({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Xq;if(r&&r>vH)throw new fg({maxFeePerGas:r});if(s&&r&&s>r)throw new hg({maxFeePerGas:r,maxPriorityFeePerGas:s})}class xH extends Se{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class cE extends Se{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class wH extends Se{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Vr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class R3 extends Se{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const I3={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function k3(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Hs(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Hs(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?I3[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=_H(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function _H(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function P3(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:k3(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function _i(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,l=n!==void 0?Ge(n):void 0;let u=null;if(e?u=await t.request({method:"eth_getBlockByHash",params:[e,a]},{dedupe:!0}):u=await t.request({method:"eth_getBlockByNumber",params:[l||r,a]},{dedupe:!!l}),!u)throw new R3({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||P3)(u)}async function uE(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function EH(t,e){return O3(t,e)}async function O3(t,e){const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){const u=n||await Ye(t,_i,"getBlock")({}),d=await a({block:u,client:t,request:s});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return ns(l)}catch{const[a,l]=await Promise.all([n?Promise.resolve(n):Ye(t,_i,"getBlock")({}),Ye(t,uE,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new cE;const u=l-a.baseFeePerGas;return u<0n?0n:u}}async function TH(t,e){return Qx(t,e)}async function Qx(t,e){const{block:n,chain:r=t.chain,request:s,type:a="eip1559"}=e||{},l=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(l<1)throw new xH;const d=10**(l.toString().split(".")[1]?.length??0),h=v=>v*BigInt(Math.ceil(l*d))/BigInt(d),m=n||await Ye(t,_i,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const v=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:h,request:s,type:a});if(v!==null)return v}if(a==="eip1559"){if(typeof m.baseFeePerGas!="bigint")throw new cE;const v=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await O3(t,{block:m,chain:r,request:s}),w=h(m.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??w+v,maxPriorityFeePerGas:v}}return{gasPrice:s?.gasPrice??h(await Ye(t,uE,"getGasPrice")({}))}}async function dE(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ge(r):n]},{dedupe:!!r});return Hs(s)}function D3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>ji(a)):t.blobs,s=[];for(const a of r)s.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>qn(a))}function j3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(l=>ji(l)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(l=>ji(l)):t.commitments,a=[];for(let l=0;l<r.length;l++){const u=r[l],d=s[l];a.push(Uint8Array.from(e.computeBlobKzgProof(u,d)))}return n==="bytes"?a:a.map(l=>qn(l))}function AH(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),l=Number(n>>s&a),u=Number(n&a),d=r?4:0,h=r?0:4;t.setUint32(e+d,l,r),t.setUint32(e+h,u,r)}function SH(t,e,n){return t&e^~t&n}function NH(t,e,n){return t&e^t&n^e&n}class CH extends Q_{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=u1(this.buffer)}update(e){cd(this),e=cy(e),dc(e);const{view:n,buffer:r,blockLen:s}=this,a=e.length;for(let l=0;l<a;){const u=Math.min(s-this.pos,a-l);if(u===s){const d=u1(e);for(;s<=a-l;l+=s)this.process(d,l);continue}r.set(e.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cd(this),s3(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:l}=this;n[l++]=128,ud(this.buffer.subarray(l)),this.padOffset>s-l&&(this.process(r,0),l=0);for(let b=l;b<s;b++)n[b]=0;AH(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=u1(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=d/4,m=this.get();if(h>m.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<h;b++)u.setUint32(4*b,m[b],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:l,pos:u}=this;return e.destroyed=l,e.finished=a,e.length=s,e.pos=u,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const xo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),RH=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wo=new Uint32Array(64);class IH extends CH{constructor(e=32){super(64,e,8,!1),this.A=xo[0]|0,this.B=xo[1]|0,this.C=xo[2]|0,this.D=xo[3]|0,this.E=xo[4]|0,this.F=xo[5]|0,this.G=xo[6]|0,this.H=xo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:l,G:u,H:d}=this;return[e,n,r,s,a,l,u,d]}set(e,n,r,s,a,l,u,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=l|0,this.G=u|0,this.H=d|0}process(e,n){for(let b=0;b<16;b++,n+=4)wo[b]=e.getUint32(n,!1);for(let b=16;b<64;b++){const v=wo[b-15],w=wo[b-2],A=pi(v,7)^pi(v,18)^v>>>3,T=pi(w,17)^pi(w,19)^w>>>10;wo[b]=T+wo[b-7]+A+wo[b-16]|0}let{A:r,B:s,C:a,D:l,E:u,F:d,G:h,H:m}=this;for(let b=0;b<64;b++){const v=pi(u,6)^pi(u,11)^pi(u,25),w=m+v+SH(u,d,h)+RH[b]+wo[b]|0,T=(pi(r,2)^pi(r,13)^pi(r,22))+NH(r,s,a)|0;m=h,h=d,d=u,u=l+w|0,l=a,a=s,s=r,r=w+T|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,m=m+this.H|0,this.set(r,s,a,l,u,d,h,m)}roundClean(){ud(wo)}destroy(){this.set(0,0,0,0,0,0,0,0),ud(this.buffer)}}const M3=i3(()=>new IH),kH=M3;function PH(t,e){return kH(Di(t,{strict:!1})?Dd(t):t)}function OH(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=PH(e);return s.set([n],0),r==="bytes"?s:qn(s)}function DH(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const a of e)s.push(OH({commitment:a,to:r,version:n}));return s}const VS=6,V3=32,fE=4096,L3=V3*fE,LS=L3*VS-1-1*fE*VS;class jH extends Se{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class MH extends Se{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function VH(t){const e=typeof t.data=="string"?ji(t.data):t.data,n=gn(e);if(!n)throw new MH;if(n>LS)throw new jH({maxSize:LS,size:n});const r=[];let s=!0,a=0;for(;s;){const l=rE(new Uint8Array(L3));let u=0;for(;u<fE;){const d=e.slice(a,a+(V3-1));if(l.pushByte(0),l.pushBytes(d),d.length<31){l.pushByte(128),s=!1;break}u++,a+=31}r.push(l)}return r.map(l=>qn(l.bytes))}function LH(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??VH({data:e}),a=t.commitments??D3({blobs:s,kzg:n,to:r}),l=t.proofs??j3({blobs:s,commitments:a,kzg:n,to:r}),u=[];for(let d=0;d<s.length;d++)u.push({blob:s[d],commitment:a[d],proof:l[d]});return u}function BH(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Jq({transaction:t})}async function Vd(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Hs(e)}const B3=["blobVersionedHashes","chainId","fees","gas","nonce","type"],BS=new Map;async function gy(t,e){const{account:n=t.account,blobs:r,chain:s,gas:a,kzg:l,nonce:u,nonceManager:d,parameters:h=B3,type:m}=e,b=n&&Sn(n),v={...e,...b?{from:b?.address}:{}};let w;async function A(){return w||(w=await Ye(t,_i,"getBlock")({blockTag:"latest"}),w)}let T;async function N(){return T||(s?s.id:typeof e.chainId<"u"?e.chainId:(T=await Ye(t,Vd,"getChainId")({}),T))}if(h.includes("nonce")&&typeof u>"u"&&b)if(d){const k=await N();v.nonce=await d.consume({address:b.address,chainId:k,client:t})}else v.nonce=await Ye(t,dE,"getTransactionCount")({address:b.address,blockTag:"pending"});if((h.includes("blobVersionedHashes")||h.includes("sidecars"))&&r&&l){const k=D3({blobs:r,kzg:l});if(h.includes("blobVersionedHashes")){const M=DH({commitments:k,to:"hex"});v.blobVersionedHashes=M}if(h.includes("sidecars")){const M=j3({blobs:r,commitments:k,kzg:l}),B=LH({blobs:r,commitments:k,proofs:M,to:"hex"});v.sidecars=B}}if(h.includes("chainId")&&(v.chainId=await N()),(h.includes("fees")||h.includes("type"))&&typeof m>"u")try{v.type=BH(v)}catch{let k=BS.get(t.uid);typeof k>"u"&&(k=typeof(await A())?.baseFeePerGas=="bigint",BS.set(t.uid,k)),v.type=k?"eip1559":"legacy"}if(h.includes("fees"))if(v.type!=="legacy"&&v.type!=="eip2930"){if(typeof v.maxFeePerGas>"u"||typeof v.maxPriorityFeePerGas>"u"){const k=await A(),{maxFeePerGas:M,maxPriorityFeePerGas:B}=await Qx(t,{block:k,chain:s,request:v});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<B)throw new wH({maxPriorityFeePerGas:B});v.maxPriorityFeePerGas=B,v.maxFeePerGas=M}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new cE;if(typeof e.gasPrice>"u"){const k=await A(),{gasPrice:M}=await Qx(t,{block:k,chain:s,request:v,type:"legacy"});v.gasPrice=M}}return h.includes("gas")&&typeof a>"u"&&(v.gas=await Ye(t,hE,"estimateGas")({...v,account:b&&{address:b.address,type:"json-rpc"}})),Rc(v),delete v.parameters,v}async function hE(t,e){const{account:n=t.account}=e,r=n?Sn(n):void 0;try{const{accessList:s,authorizationList:a,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:m,gas:b,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:A,maxPriorityFeePerGas:T,nonce:N,value:k,stateOverride:M,...B}=await gy(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),U=(typeof d=="bigint"?Ge(d):void 0)||h,Z=lE(M),P=await(async()=>{if(B.to)return B.to;if(a&&a.length>0)return await oE({authorization:a[0]}).catch(()=>{throw new Se("`to` is required. Could not infer from `authorizationList`")})})();Rc(e);const R=t.chain?.formatters?.transactionRequest?.format,F=(R||Md)({...py(B,{format:R}),from:r?.address,accessList:s,authorizationList:a,blobs:l,blobVersionedHashes:u,data:m,gas:b,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:A,maxPriorityFeePerGas:T,nonce:N,to:P,value:k});return BigInt(await t.request({method:"eth_estimateGas",params:Z?[F,U??t.experimental_blockTag??"latest",Z]:U?[F,U]:[F]}))}catch(s){throw pH(s,{...e,account:r,chain:t.chain})}}async function UH(t,e){const{abi:n,address:r,args:s,functionName:a,dataSuffix:l,...u}=e,d=is({abi:n,args:s,functionName:a});try{return await Ye(t,hE,"estimateGas")({data:`${d}${l?l.replace("0x",""):""}`,to:r,...u})}catch(h){const m=u.account?Sn(u.account):void 0;throw mc(h,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:m?.address})}}function Dm(t,e){if(!Es(t,{strict:!1}))throw new Yo({address:t});if(!Es(e,{strict:!1}))throw new Yo({address:e});return t.toLowerCase()===e.toLowerCase()}const US="/docs/contract/decodeEventLog";function mE(t){const{abi:e,data:n,strict:r,topics:s}=t,a=r??!0,[l,...u]=s;if(!l)throw new C$({docsPath:US});const d=e.find(T=>T.type==="event"&&l===uy(qs(T)));if(!(d&&"name"in d)||d.type!=="event")throw new Q4(l,{docsPath:US});const{name:h,inputs:m}=d,b=m?.some(T=>!("name"in T&&T.name)),v=b?[]:{},w=m.map((T,N)=>[T,N]).filter(([T])=>"indexed"in T&&T.indexed);for(let T=0;T<w.length;T++){const[N,k]=w[T],M=u[T];if(!M)throw new ly({abiItem:d,param:N});v[b?k:N.name||k]=FH({param:N,value:M})}const A=m.filter(T=>!("indexed"in T&&T.indexed));if(A.length>0){if(n&&n!=="0x")try{const T=km(A,n);if(T)if(b)for(let N=0;N<m.length;N++)v[N]=v[N]??T.shift();else for(let N=0;N<A.length;N++)v[A[N].name]=T[N]}catch(T){if(a)throw T instanceof K4||T instanceof v3?new kh({abiItem:d,data:n,params:A,size:gn(n)}):T}else if(a)throw new kh({abiItem:d,data:"0x",params:A,size:0})}return{eventName:h,args:Object.values(v).length>0?v:void 0}}function FH({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(km([t],e)||[])[0]}function pE(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(l=>{try{const u=e.find(h=>h.type==="event"&&l.topics[0]===uy(h));if(!u)return null;const d=mE({...l,abi:[u],strict:s});return a&&!a.includes(d.eventName)||!zH({args:d.args,inputs:u.inputs,matchArgs:n})?null:{...d,...l}}catch(u){let d,h;if(u instanceof Q4)return null;if(u instanceof kh||u instanceof ly){if(s)return null;d=u.abiItem.name,h=u.abiItem.inputs?.some(m=>!("name"in m&&m.name))}return{...l,args:h?[]:{},eventName:d}}}).filter(Boolean)}function zH(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(a,l,u){try{return a.type==="address"?Dm(l,u):a.type==="string"||a.type==="bytes"?ar(Dd(l))===u:l===u}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,l)=>{if(a==null)return!0;const u=n[l];return u?(Array.isArray(a)?a:[a]).some(h=>s(u,h,e[l])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,l])=>{if(l==null)return!0;const u=n.find(h=>h.name===a);return u?(Array.isArray(l)?l:[l]).some(h=>s(u,h,e[a])):!1}):!1}function Pa(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function gE(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:a,events:l,args:u,strict:d}={}){const h=d??!1,m=l??(a?[a]:void 0);let b=[];m&&(b=[m.flatMap(T=>Im({abi:[T],eventName:T.name,args:l?void 0:u}))],a&&(b=b[0]));let v;n?v=await t.request({method:"eth_getLogs",params:[{address:e,topics:b,blockHash:n}]}):v=await t.request({method:"eth_getLogs",params:[{address:e,topics:b,fromBlock:typeof r=="bigint"?Ge(r):r,toBlock:typeof s=="bigint"?Ge(s):s}]});const w=v.map(A=>Pa(A));return m?pE({abi:m,args:u,logs:w,strict:h}):w}async function U3(t,e){const{abi:n,address:r,args:s,blockHash:a,eventName:l,fromBlock:u,toBlock:d,strict:h}=e,m=l?Cc({abi:n,name:l}):void 0,b=m?void 0:n.filter(v=>v.type==="event");return Ye(t,gE,"getLogs")({address:r,args:s,blockHash:a,event:m,events:b,fromBlock:u,toBlock:d,strict:h})}const h1="/docs/contract/decodeFunctionResult";function Ic(t){const{abi:e,args:n,functionName:r,data:s}=t;let a=e[0];if(r){const u=Cc({abi:e,args:n,name:r});if(!u)throw new od(r,{docsPath:h1});a=u}if(a.type!=="function")throw new od(void 0,{docsPath:h1});if(!a.outputs)throw new X4(a.name,{docsPath:h1});const l=km(a.outputs,s);if(l&&l.length>1)return l;if(l&&l.length===1)return l[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yE=BigInt(0),Xx=BigInt(1);function jm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function bE(t){if(!jm(t))throw new Error("Uint8Array expected")}function Xh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function d0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function F3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?yE:BigInt("0x"+t)}const z3=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$H=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jh(t){if(bE(t),z3)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=$H[t[n]];return e}const oa={_0:48,_9:57,A:65,F:70,a:97,f:102};function FS(t){if(t>=oa._0&&t<=oa._9)return t-oa._0;if(t>=oa.A&&t<=oa.F)return t-(oa.A-10);if(t>=oa.a&&t<=oa.f)return t-(oa.a-10)}function mg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(z3)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const l=FS(t.charCodeAt(a)),u=FS(t.charCodeAt(a+1));if(l===void 0||u===void 0){const d=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+a)}r[s]=l*16+u}return r}function ec(t){return F3(Jh(t))}function $3(t){return bE(t),F3(Jh(Uint8Array.from(t).reverse()))}function Mm(t,e){return mg(t.toString(16).padStart(e*2,"0"))}function q3(t,e){return Mm(t,e).reverse()}function vs(t,e,n){let r;if(typeof e=="string")try{r=mg(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(jm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function pg(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];bE(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}const m1=t=>typeof t=="bigint"&&yE<=t;function vE(t,e,n){return m1(t)&&m1(e)&&m1(n)&&e<=t&&t<n}function Yu(t,e,n,r){if(!vE(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function qH(t){let e;for(e=0;t>yE;t>>=Xx,e+=1);return e}const yy=t=>(Xx<<BigInt(t))-Xx,p1=t=>new Uint8Array(t),zS=t=>Uint8Array.from(t);function HH(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=p1(t),s=p1(t),a=0;const l=()=>{r.fill(1),s.fill(0),a=0},u=(...b)=>n(s,r,...b),d=(b=p1(0))=>{s=u(zS([0]),b),r=u(),b.length!==0&&(s=u(zS([1]),b),r=u())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const v=[];for(;b<e;){r=u();const w=r.slice();v.push(w),b+=r.length}return pg(...v)};return(b,v)=>{l(),d(b);let w;for(;!(w=v(h()));)d();return l(),w}}const GH={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||jm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function by(t,e,n={}){const r=(s,a,l)=>{const u=GH[a];if(typeof u!="function")throw new Error("invalid validator function");const d=t[s];if(!(l&&d===void 0)&&!u(d,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+d)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}function $S(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}const WH="0.1.1";function YH(){return WH}class xt extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof xt){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof xt&&n.cause.docsPath||n.docsPath,l=`https://oxlib.sh${s??""}`,u=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${l}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${YH()}`}),this.cause=n.cause,this.details=r,this.docs=l,this.docsPath=s,this.shortMessage=e}walk(e){return H3(this,e)}}function H3(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?H3(t.cause,e):e?null:t}function Vm(t,e){if(Lu(t)>e)throw new dG({givenSize:Lu(t),maxSize:e})}const la={zero:48,nine:57,A:65,F:70,a:97,f:102};function qS(t){if(t>=la.zero&&t<=la.nine)return t-la.zero;if(t>=la.A&&t<=la.F)return t-(la.A-10);if(t>=la.a&&t<=la.f)return t-(la.a-10)}function KH(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new fG({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const l=n==="right";s[l?a:r-a-1]=t[l?a:t.length-a-1]}return s}function G3(t,e={}){const{dir:n="left"}=e;let r=t,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function vy(t,e){if(rs(t)>e)throw new bG({givenSize:rs(t),maxSize:e})}function ZH(t,e){if(typeof e=="number"&&e>0&&e>rs(t)-1)throw new tk({offset:e,position:"start",size:rs(t)})}function QH(t,e,n){if(typeof e=="number"&&typeof n=="number"&&rs(t)!==n-e)throw new tk({offset:n,position:"end",size:rs(t)})}function W3(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new vG({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const XH="#__bigint";function Y3(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+XH:s,n)}const JH=new TextDecoder,eG=new TextEncoder;function tG(t){return t instanceof Uint8Array?t:typeof t=="string"?K3(t):nG(t)}function nG(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function K3(t,e={}){const{size:n}=e;let r=t;n&&(vy(t,n),r=gc(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,l=new Uint8Array(a);for(let u=0,d=0;u<a;u++){const h=qS(s.charCodeAt(d++)),m=qS(s.charCodeAt(d++));if(h===void 0||m===void 0)throw new xt(`Invalid byte sequence ("${s[d-2]}${s[d-1]}" in "${s}").`);l[u]=h*16+m}return l}function rG(t,e={}){const{size:n}=e,r=eG.encode(t);return typeof n=="number"?(Vm(r,n),sG(r,n)):r}function sG(t,e){return KH(t,{dir:"right",size:e})}function Lu(t){return t.length}function iG(t,e,n,r={}){const{strict:s}=r;return t.slice(e,n)}function aG(t,e={}){const{size:n}=e;typeof n<"u"&&Vm(t,n);const r=Ws(t,e);return X3(r,e)}function oG(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Vm(r,n),r=Z3(r)),r.length>1||r[0]>1)throw new uG(r);return!!r[0]}function Ta(t,e={}){const{size:n}=e;typeof n<"u"&&Vm(t,n);const r=Ws(t,e);return J3(r,e)}function lG(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Vm(r,n),r=cG(r)),JH.decode(r)}function Z3(t){return G3(t,{dir:"left"})}function cG(t){return G3(t,{dir:"right"})}class uG extends xt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let dG=class extends xt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},fG=class extends xt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const hG=new TextEncoder,mG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pG(t,e={}){const{strict:n=!1}=e;if(!t)throw new HS(t);if(typeof t!="string")throw new HS(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new GS(t);if(!t.startsWith("0x"))throw new GS(t)}function Gs(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function gG(t){return t instanceof Uint8Array?Ws(t):Array.isArray(t)?Ws(new Uint8Array(t)):t}function Q3(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(vy(n,e.size),pc(n,e.size)):n}function Ws(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=mG[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(vy(r,e.size),gc(r,e.size)):r}function Er(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<l){const h=typeof t=="bigint"?"n":"";throw new ek({max:a?`${a}${h}`:void 0,min:`${l}${h}`,signed:n,size:r,value:`${t}${h}`})}const d=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?pc(d,r):d}function xE(t,e={}){return Ws(hG.encode(t),e)}function pc(t,e){return W3(t,{dir:"left",size:e})}function gc(t,e){return W3(t,{dir:"right",size:e})}function Ri(t,e,n,r={}){const{strict:s}=r;ZH(t,e);const a=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&QH(a,e,n),a}function rs(t){return Math.ceil((t.length-2)/2)}function X3(t,e={}){const{signed:n}=e;e.size&&vy(t,e.size);const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,l=a>>1n;return r<=l?r:r-a-1n}function J3(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:X3(t,e))}function yG(t,e={}){const{strict:n=!1}=e;try{return pG(t,{strict:n}),!0}catch{return!1}}class ek extends xt{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class HS extends xt{constructor(e){super(`Value \`${typeof e=="object"?Y3(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class GS extends xt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class bG extends xt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class tk extends xt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class vG extends xt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function xG(t){return{address:t.address,amount:Er(t.amount),index:Er(t.index),validatorIndex:Er(t.validatorIndex)}}function nk(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Er(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Er(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Er(t.gasLimit)},...typeof t.number=="bigint"&&{number:Er(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Er(t.prevRandao)},...typeof t.time=="bigint"&&{time:Er(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(xG)}}}const gg=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Jx=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],rk=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],sk=[...rk,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],wG=[...rk,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],WS=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],YS=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],ik=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],KS=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],_G="0x82ad56cb",ak="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",EG="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",TG="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",wE="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class ew extends Se{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class AG extends Se{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class SG extends Se{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ok extends Se{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const g1="/docs/contract/encodeDeployData";function xy(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(l=>"type"in l&&l.type==="constructor");if(!s)throw new E$({docsPath:g1});if(!("inputs"in s))throw new vS({docsPath:g1});if(!s.inputs||s.inputs.length===0)throw new vS({docsPath:g1});const a=Nc(s.inputs,n);return jd([r,a])}function Ld({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new ew({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new ew({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function lk(t,{docsPath:e,...n}){const r=(()=>{const s=my(t,n);return s instanceof Om?t:s})();return new T3(r,{docsPath:e,...n})}function _E(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const y1=new Map;function ck({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const m=d();l();const b=m.map(({args:v})=>v);b.length!==0&&t(b).then(v=>{s&&Array.isArray(v)&&v.sort(s);for(let w=0;w<m.length;w++){const{resolve:A}=m[w];A?.([v[w],v])}}).catch(v=>{for(let w=0;w<m.length;w++){const{reject:A}=m[w];A?.(v)}})},l=()=>y1.delete(e),u=()=>d().map(({args:m})=>m),d=()=>y1.get(e)||[],h=m=>y1.set(e,[...d(),m]);return{flush:l,async schedule(m){const{promise:b,resolve:v,reject:w}=_E();return n?.([...u(),m])&&a(),d().length>0?(h({args:m,resolve:v,reject:w}),b):(h({args:m,resolve:v,reject:w}),setTimeout(a,r),b)}}}async function wy(t,e){const{account:n=t.account,authorizationList:r,batch:s=!!t.batch?.multicall,blockNumber:a,blockTag:l=t.experimental_blockTag??"latest",accessList:u,blobs:d,blockOverrides:h,code:m,data:b,factory:v,factoryData:w,gas:A,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:k,maxPriorityFeePerGas:M,nonce:B,to:$,value:U,stateOverride:Z,...P}=e,R=n?Sn(n):void 0;if(m&&(v||w))throw new Se("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(m&&$)throw new Se("Cannot provide both `code` & `to` as parameters.");const j=m&&b,F=v&&w&&$&&b,z=j||F,q=j?uk({code:m,data:b}):F?RG({data:b,factory:v,factoryData:w,to:$}):b;try{Rc(e);const me=(typeof a=="bigint"?Ge(a):void 0)||l,ie=h?nk(h):void 0,Y=lE(Z),Q=t.chain?.formatters?.transactionRequest?.format,se=(Q||Md)({...py(P,{format:Q}),from:R?.address,accessList:u,authorizationList:r,blobs:d,data:q,gas:A,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:k,maxPriorityFeePerGas:M,nonce:B,to:z?void 0:$,value:U});if(s&&NG({request:se})&&!Y&&!ie)try{return await CG(t,{...se,blockNumber:a,blockTag:l})}catch(fe){if(!(fe instanceof ok)&&!(fe instanceof ew))throw fe}const G=(()=>{const fe=[se,me];return Y&&ie?[...fe,Y,ie]:Y?[...fe,Y]:ie?[...fe,{},ie]:fe})(),ne=await t.request({method:"eth_call",params:G});return ne==="0x"?{data:void 0}:{data:ne}}catch(D){const me=IG(D),{offchainLookup:ie,offchainLookupSignature:Y}=await $l(async()=>{const{offchainLookup:Q,offchainLookupSignature:W}=await import("./ccip-CxeRWgwl.js");return{offchainLookup:Q,offchainLookupSignature:W}},[]);if(t.ccipRead!==!1&&me?.slice(0,10)===Y&&$)return{data:await ie(t,{data:me,to:$})};throw z&&me?.slice(0,10)==="0x101bb98d"?new sH({factory:v}):lk(D,{...e,account:R,chain:t.chain})}}function NG({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(_G)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function CG(t,e){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:a,blockTag:l=t.experimental_blockTag??"latest",data:u,to:d}=e,h=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Ld({blockNumber:a,chain:t.chain,contract:"multicall3"});throw new ok})(),b=(typeof a=="bigint"?Ge(a):void 0)||l,{schedule:v}=ck({id:`${t.uid}.${b}`,wait:s,shouldSplitBatch(T){return T.reduce((k,{data:M})=>k+(M.length-2),0)>n*2},fn:async T=>{const N=T.map(B=>({allowFailure:!0,callData:B.data,target:B.to})),k=is({abi:gg,args:[N],functionName:"aggregate3"}),M=await t.request({method:"eth_call",params:[{...h===null?{data:uk({code:wE,data:k})}:{to:h,data:k}},b]});return Ic({abi:gg,args:[N],functionName:"aggregate3",data:M||"0x"})}}),[{returnData:w,success:A}]=await v({data:u,to:d});if(!A)throw new hy({data:w});return w==="0x"?{data:void 0}:{data:w}}function uk(t){const{code:e,data:n}=t;return xy({abi:G4(["constructor(bytes, bytes)"]),bytecode:ak,args:[e,n]})}function RG(t){const{data:e,factory:n,factoryData:r,to:s}=t;return xy({abi:G4(["constructor(address, bytes, address, bytes)"]),bytecode:EG,args:[s,e,n,r]})}function IG(t){if(!(t instanceof Se))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function Ys(t,e){const{abi:n,address:r,args:s,functionName:a,...l}=e,u=is({abi:n,args:s,functionName:a});try{const{data:d}=await Ye(t,wy,"call")({...l,data:u,to:r});return Ic({abi:n,args:s,functionName:a,data:d||"0x"})}catch(d){throw mc(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function kG(t,e){const{abi:n,address:r,args:s,dataSuffix:a,functionName:l,...u}=e,d=u.account?Sn(u.account):t.account,h=is({abi:n,args:s,functionName:l});try{const{data:m}=await Ye(t,wy,"call")({batch:!1,data:`${h}${a?a.replace("0x",""):""}`,to:r,...u,account:d}),b=Ic({abi:n,args:s,functionName:l,data:m||"0x"}),v=n.filter(w=>"name"in w&&w.name===e.functionName);return{result:b,request:{abi:v,address:r,args:s,dataSuffix:a,functionName:l,...u,account:d}}}catch(m){throw mc(m,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:l,sender:d?.address})}}const b1=new Map,ZS=new Map;let PG=0;function Oa(t,e,n){const r=++PG,s=()=>b1.get(t)||[],a=()=>{const m=s();b1.set(t,m.filter(b=>b.id!==r))},l=()=>{const m=s();if(!m.some(v=>v.id===r))return;const b=ZS.get(t);if(m.length===1&&b){const v=b();v instanceof Promise&&v.catch(()=>{})}a()},u=s();if(b1.set(t,[...u,{id:r,fns:e}]),u&&u.length>0)return l;const d={};for(const m in e)d[m]=(...b)=>{const v=s();if(v.length!==0)for(const w of v)w.fns[m]?.(...b)};const h=n(d);return typeof h=="function"&&ZS.set(t,h),l}async function tw(t){return new Promise(e=>setTimeout(e,t))}function Bd(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let u;e&&(u=await t({unpoll:a}));const d=await n?.(u)??r;await tw(d);const h=async()=>{s&&(await t({unpoll:a}),await tw(r),h())};h()})(),a}const OG=new Map,DG=new Map;function jG(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:l=>a.set(s,l)}),n=e(t,OG),r=e(t,DG);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function MG(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=jG(e),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const l=await a;return r.response.set({created:new Date,data:l}),l}finally{r.promise.clear()}}const VG=t=>`blockNumber.${t}`;async function Lm(t,{cacheTime:e=t.cacheTime}={}){const n=await MG(()=>t.request({method:"eth_blockNumber"}),{cacheKey:VG(t.uid),cacheTime:e});return BigInt(n)}async function _y(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Pa(a));return!("abi"in e)||!e.abi?s:pE({abi:e.abi,logs:s,strict:n})}async function Ey(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function LG(t,e){const{abi:n,address:r,args:s,batch:a=!0,eventName:l,fromBlock:u,onError:d,onLogs:h,poll:m,pollingInterval:b=t.pollingInterval,strict:v}=e;return(typeof m<"u"?m:typeof u=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const N=v??!1,k=$n(["watchContractEvent",r,s,a,t.uid,l,b,N,u]);return Oa(k,{onLogs:h,onError:d},M=>{let B;u!==void 0&&(B=u-1n);let $,U=!1;const Z=Bd(async()=>{if(!U){try{$=await Ye(t,y3,"createContractEventFilter")({abi:n,address:r,args:s,eventName:l,strict:N,fromBlock:u})}catch{}U=!0;return}try{let P;if($)P=await Ye(t,_y,"getFilterChanges")({filter:$});else{const R=await Ye(t,Lm,"getBlockNumber")({});B&&B<R?P=await Ye(t,U3,"getContractEvents")({abi:n,address:r,args:s,eventName:l,fromBlock:B+1n,toBlock:R,strict:N}):P=[],B=R}if(P.length===0)return;if(a)M.onLogs(P);else for(const R of P)M.onLogs([R])}catch(P){$&&P instanceof hc&&(U=!1),M.onError?.(P)}},{emitOnBegin:!0,interval:b});return async()=>{$&&await Ye(t,Ey,"uninstallFilter")({filter:$}),Z()}})})():(()=>{const N=v??!1,k=$n(["watchContractEvent",r,s,a,t.uid,l,b,N]);let M=!0,B=()=>M=!1;return Oa(k,{onLogs:h,onError:d},$=>((async()=>{try{const U=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(j=>j.config.type==="webSocket"||j.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),Z=l?Im({abi:n,eventName:l,args:s}):[],{unsubscribe:P}=await U.subscribe({params:["logs",{address:r,topics:Z}],onData(R){if(!M)return;const j=R.result;try{const{eventName:F,args:z}=mE({abi:n,data:j.data,topics:j.topics,strict:v}),q=Pa(j,{args:z,eventName:F});$.onLogs([q])}catch(F){let z,q;if(F instanceof kh||F instanceof ly){if(v)return;z=F.abiItem.name,q=F.abiItem.inputs?.some(me=>!("name"in me&&me.name))}const D=Pa(j,{args:q?[]:{},eventName:z});$.onLogs([D])}},onError(R){$.onError?.(R)}});B=P,M||B()}catch(U){d?.(U)}})(),()=>B()))})()}class kc extends Se{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class B0 extends Se{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function dk({chain:t,currentChainId:e}){if(!t)throw new SG;if(e!==t.id)throw new AG({chain:t,currentChainId:e})}function fk(t,{docsPath:e,...n}){const r=(()=>{const s=my(t,n);return s instanceof Om?t:s})();return new eH(r,{docsPath:e,...n})}async function EE(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const v1=new dy(128);async function Ty(t,e){const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:a,blobs:l,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:w,type:A,value:T,...N}=e;if(typeof n>"u")throw new kc({docsPath:"/docs/actions/wallet/sendTransaction"});const k=n?Sn(n):null;try{Rc(e);const M=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await oE({authorization:a[0]}).catch(()=>{throw new Se("`to` is required. Could not infer from `authorizationList`.")})})();if(k?.type==="json-rpc"||k===null){let B;r!==null&&(B=await Ye(t,Vd,"getChainId")({}),dk({currentChainId:B,chain:r}));const $=t.chain?.formatters?.transactionRequest?.format,Z=($||Md)({...py(N,{format:$}),accessList:s,authorizationList:a,blobs:l,chainId:B,data:u,from:k?.address,gas:d,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:w,to:M,type:A,value:T}),P=v1.get(t.uid),R=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:R,params:[Z]},{retryCount:0})}catch(j){if(P===!1)throw j;const F=j;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[Z]},{retryCount:0}).then(z=>(v1.set(t.uid,!0),z)).catch(z=>{const q=z;throw q.name==="MethodNotFoundRpcError"||q.name==="MethodNotSupportedRpcError"?(v1.set(t.uid,!1),F):q});throw F}}if(k?.type==="local"){const B=await Ye(t,gy,"prepareTransactionRequest")({account:k,accessList:s,authorizationList:a,blobs:l,chain:r,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:w,nonceManager:k.nonceManager,parameters:[...B3,"sidecars"],type:A,value:T,...N,to:M}),$=r?.serializers?.transaction,U=await k.signTransaction(B,{serializer:$});return await Ye(t,EE,"sendRawTransaction")({serializedTransaction:U})}throw k?.type==="smart"?new B0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new B0({docsPath:"/docs/actions/wallet/sendTransaction",type:k?.type})}catch(M){throw M instanceof B0?M:fk(M,{...e,account:k,chain:e.chain||void 0})}}async function BG(t,e){const{abi:n,account:r=t.account,address:s,args:a,dataSuffix:l,functionName:u,...d}=e;if(typeof r>"u")throw new kc({docsPath:"/docs/contract/writeContract"});const h=r?Sn(r):null,m=is({abi:n,args:a,functionName:u});try{return await Ye(t,Ty,"sendTransaction")({data:`${m}${l?l.replace("0x",""):""}`,to:s,account:h,...d})}catch(b){throw mc(b,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:u,sender:h?.address})}}class UG extends Se{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function yg(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const l=async({count:u=0}={})=>{const d=async({error:h})=>{const m=typeof e=="function"?e({count:u,error:h}):e;m&&await tw(m),l({count:u+1})};try{const h=await t();s(h)}catch(h){if(u<n&&await r({count:u,error:h}))return d({error:h});a(h)}};l()})}const hk={"0x0":"reverted","0x1":"success"};function FG(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Pa(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Hs(t.transactionIndex):null,status:t.status?hk[t.status]:null,type:t.type?I3[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const mk="0x5792579257925792579257925792579257925792579257925792579257925792",pk=Ge(0,{size:32});async function zG(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:a,experimental_fallbackDelay:l=32,forceAtomic:u=!1,id:d,version:h="2.0.0"}=e,m=n?Sn(n):null,b=e.calls.map(v=>{const w=v,A=w.abi?is({abi:w.abi,functionName:w.functionName,args:w.args}):w.data;return{data:w.dataSuffix&&A?Ts([A,w.dataSuffix]):A,to:w.to,value:w.value?Ge(w.value):void 0}});try{const v=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:u,calls:b,capabilities:r,chainId:Ge(s.id),from:m?.address,id:d,version:h}]},{retryCount:0});return typeof v=="string"?{id:v}:v}catch(v){const w=v;if(a&&(w.name==="MethodNotFoundRpcError"||w.name==="MethodNotSupportedRpcError"||w.name==="UnknownRpcError"||w.details.toLowerCase().includes("does not exist / is not available")||w.details.toLowerCase().includes("missing or invalid. request()")||w.details.toLowerCase().includes("did not match any variant of untagged enum")||w.details.toLowerCase().includes("account upgraded to unsupported contract")||w.details.toLowerCase().includes("eip-7702 not supported")||w.details.toLowerCase().includes("unsupported wc_ method")||w.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(M=>!M.optional)){const M="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new hd(new Se(M,{details:M}))}if(u&&b.length>1){const k="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new md(new Se(k,{details:k}))}const A=[];for(const k of b){const M=Ty(t,{account:m,chain:s,data:k.data,to:k.to,value:k.value?ns(k.value):void 0});A.push(M),l>0&&await new Promise(B=>setTimeout(B,l))}const T=await Promise.allSettled(A);if(T.every(k=>k.status==="rejected"))throw T[0].reason;const N=T.map(k=>k.status==="fulfilled"?k.value:pk);return{id:Ts([...N,Ge(s.id,{size:32}),mk])}}throw fk(v,{...e,account:m,chain:e.chain})}}async function gk(t,e){async function n(m){if(m.endsWith(mk.slice(2))){const v=Bo(Bx(m,-64,-32)),w=Bx(m,0,-64).slice(2).match(/.{1,64}/g),A=await Promise.all(w.map(N=>pk.slice(2)!==N?t.request({method:"eth_getTransactionReceipt",params:[`0x${N}`]},{dedupe:!0}):void 0)),T=A.some(N=>N===null)?100:A.every(N=>N?.status==="0x1")?200:A.every(N=>N?.status==="0x0")?500:600;return{atomic:!1,chainId:Hs(v),receipts:A.filter(Boolean),status:T,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[m]})}const{atomic:r=!1,chainId:s,receipts:a,version:l="2.0.0",...u}=await n(e.id),[d,h]=(()=>{const m=u.status;return m>=100&&m<200?["pending",m]:m>=200&&m<300?["success",m]:m>=300&&m<700?["failure",m]:m==="CONFIRMED"?["success",200]:m==="PENDING"?["pending",100]:[void 0,m]})();return{...u,atomic:r,chainId:s?Hs(s):void 0,receipts:a?.map(m=>({...m,blockNumber:ns(m.blockNumber),gasUsed:ns(m.gasUsed),status:hk[m.status]}))??[],statusCode:h,status:d,version:l}}async function $G(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:T})=>T===200||T>=300,retryCount:a=4,retryDelay:l=({count:T})=>~~(1<<T)*200,timeout:u=6e4,throwOnFailure:d=!1}=e,h=$n(["waitForCallsStatus",t.uid,n]),{promise:m,resolve:b,reject:v}=_E();let w;const A=Oa(h,{resolve:b,reject:v},T=>{const N=Bd(async()=>{const k=M=>{clearTimeout(w),N(),M(),A()};try{const M=await yg(async()=>{const B=await Ye(t,gk,"getCallsStatus")({id:n});if(d&&B.status==="failure")throw new UG(B);return B},{retryCount:a,delay:l});if(!s(M))return;k(()=>T.resolve(M))}catch(M){k(()=>T.reject(M))}},{interval:r,emitOnBegin:!0});return N});return w=u?setTimeout(()=>{A(),clearTimeout(w),v(new qG({id:n}))},u):void 0,await m}class qG extends Se{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const nw=256;let f0=nw,h0;function yk(t=11){if(!h0||f0+t>nw*2){h0="",f0=0;for(let e=0;e<nw;e++)h0+=(256+Math.random()*256|0).toString(16).substring(1)}return h0.substring(f0,f0+++t)}function bk(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:l="base"}=t,u=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),d=n?.blockTime??12e3,h=Math.min(Math.max(Math.floor(d/2),500),4e3),m=t.pollingInterval??h,b=t.cacheTime??m,v=t.account?Sn(t.account):void 0,{config:w,request:A,value:T}=t.transport({chain:n,pollingInterval:m}),N={...w,...T},k={account:v,batch:e,cacheTime:b,ccipRead:r,chain:n,key:s,name:a,pollingInterval:m,request:A,transport:N,type:l,uid:yk(),...u?{experimental_blockTag:u}:{}};function M(B){return $=>{const U=$(B);for(const P in k)delete U[P];const Z={...B,...U};return Object.assign(Z,{extend:M(Z)})}}return Object.assign(k,{extend:M(k)})}function TE(t){if(!(t instanceof Se))return!1;const e=t.walk(n=>n instanceof zx);return e instanceof zx?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function HG(t){const{abi:e,data:n}=t,r=dd(n,0,4),s=e.find(a=>a.type==="function"&&r===Rm(qs(a)));if(!s)throw new R$(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?km(s.inputs,dd(n,4)):void 0}}const x1="/docs/contract/encodeErrorResult";function QS(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const d=Cc({abi:e,args:r,name:n});if(!d)throw new xS(n,{docsPath:x1});s=d}if(s.type!=="error")throw new xS(void 0,{docsPath:x1});const a=qs(s),l=Rm(a);let u="0x";if(r&&r.length>0){if(!s.inputs)throw new N$(s.name,{docsPath:x1});u=Nc(s.inputs,r)}return jd([l,u])}const w1="/docs/contract/encodeFunctionResult";function GG(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const l=Cc({abi:e,name:n});if(!l)throw new od(n,{docsPath:w1});s=l}if(s.type!=="function")throw new od(void 0,{docsPath:w1});if(!s.outputs)throw new X4(s.name,{docsPath:w1});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new J4(r)})();return Nc(s.outputs,a)}const Ay="x-batch-gateway:true";async function WG(t){const{data:e,ccipRequest:n}=t,{args:[r]}=HG({abi:Jx,data:e}),s=[],a=[];return await Promise.all(r.map(async(l,u)=>{try{a[u]=l.urls.includes(Ay)?await WG({data:l.data,ccipRequest:n}):await n(l),s[u]=!1}catch(d){s[u]=!0,a[u]=YG(d)}})),GG({abi:Jx,functionName:"query",result:[s,a]})}function YG(t){return t.name==="HttpRequestError"&&t.status?QS({abi:Jx,errorName:"HttpError",args:[t.status,t.shortMessage]}):QS({abi:[b3],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function vk(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Di(e)?e:null}function rw(t){let e=new Uint8Array(32).fill(0);if(!t)return qn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=vk(n[r]),a=s?Dd(s):ar(Jl(n[r]),"bytes");e=ar(Ts([e,a]),"bytes")}return qn(e)}function KG(t){return`[${t.slice(2)}]`}function ZG(t){const e=new Uint8Array(32).fill(0);return t?vk(t)||ar(Jl(t)):qn(e)}function AE(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Jl(e).byteLength+2);let r=0;const s=e.split(".");for(let a=0;a<s.length;a++){let l=Jl(s[a]);l.byteLength>255&&(l=Jl(KG(ZG(s[a])))),n[r]=l.length,n.set(l,r+1),r+=l.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function QG(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:l,strict:u}=e,{chain:d}=t,h=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return Ld({blockNumber:n,chain:d,contract:"ensUniversalResolver"})})(),m=d?.ensTlds;if(m&&!m.some(v=>a.endsWith(v)))return null;const b=s!=null?[rw(a),BigInt(s)]:[rw(a)];try{const v=is({abi:YS,functionName:"addr",args:b}),w={address:h,abi:sk,functionName:"resolveWithGateways",args:[ka(AE(a)),v,l??[Ay]],blockNumber:n,blockTag:r},T=await Ye(t,Ys,"readContract")(w);if(T[0]==="0x")return null;const N=Ic({abi:YS,args:b,functionName:"addr",data:T[0]});return N==="0x"||Bo(N)==="0x00"?null:N}catch(v){if(u)throw v;if(TE(v))return null;throw v}}class XG extends Se{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class eh extends Se{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class SE extends Se{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class JG extends Se{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const eW=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,tW=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,nW=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,rW=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function sW(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function XS(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function xk({uri:t,gatewayUrls:e}){const n=nW.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=XS(e?.ipfs,"https://ipfs.io"),s=XS(e?.arweave,"https://arweave.net"),a=t.match(eW),{protocol:l,subpath:u,target:d,subtarget:h=""}=a?.groups||{},m=l==="ipns:/"||u==="ipns/",b=l==="ipfs:/"||u==="ipfs/"||tW.test(t);if(t.startsWith("http")&&!m&&!b){let w=t;return e?.arweave&&(w=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:w,isOnChain:!1,isEncoded:!1}}if((m||b)&&d)return{uri:`${r}/${m?"ipns":"ipfs"}/${d}${h}`,isOnChain:!1,isEncoded:!1};if(l==="ar:/"&&d)return{uri:`${s}/${d}${h||""}`,isOnChain:!1,isEncoded:!1};let v=t.replace(rW,"");if(v.startsWith("<svg")&&(v=`data:image/svg+xml;base64,${btoa(v)}`),v.startsWith("data:")||v.startsWith("{"))return{uri:v,isOnChain:!0,isEncoded:!1};throw new SE({uri:t})}function wk(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new XG({data:t});return t.image||t.image_url||t.image_data}async function iW({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await NE({gatewayUrls:t,uri:wk(n)})}catch{throw new SE({uri:e})}}async function NE({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=xk({uri:e,gatewayUrls:t});if(r||await sW(n))return n;throw new SE({uri:e})}function aW(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[a,l]=n.split(":"),[u,d]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new eh({reason:"Only EIP-155 supported"});if(!l)throw new eh({reason:"Chain ID not found"});if(!d)throw new eh({reason:"Contract address not found"});if(!s)throw new eh({reason:"Token ID not found"});if(!u)throw new eh({reason:"ERC namespace not found"});return{chainID:Number.parseInt(l,10),namespace:u.toLowerCase(),contractAddress:d,tokenID:s}}async function oW(t,{nft:e}){if(e.namespace==="erc721")return Ys(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ys(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new JG({namespace:e.namespace})}async function lW(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?cW(t,{gatewayUrls:e,record:n}):NE({uri:n,gatewayUrls:e})}async function cW(t,{gatewayUrls:e,record:n}){const r=aW(n),s=await oW(t,{nft:r}),{uri:a,isOnChain:l,isEncoded:u}=xk({uri:s,gatewayUrls:e});if(l&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const h=u?atob(a.replace("data:application/json;base64,","")):a,m=JSON.parse(h);return NE({uri:wk(m),gatewayUrls:e})}let d=r.tokenID;return r.namespace==="erc1155"&&(d=d.replace("0x","").padStart(64,"0")),iW({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,d)})}async function _k(t,e){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:l,strict:u}=e,{chain:d}=t,h=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return Ld({blockNumber:n,chain:d,contract:"ensUniversalResolver"})})(),m=d?.ensTlds;if(m&&!m.some(b=>a.endsWith(b)))return null;try{const b={address:h,abi:sk,args:[ka(AE(a)),is({abi:WS,functionName:"text",args:[rw(a),s]}),l??[Ay]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},w=await Ye(t,Ys,"readContract")(b);if(w[0]==="0x")return null;const A=Ic({abi:WS,functionName:"text",data:w[0]});return A===""?null:A}catch(b){if(u)throw b;if(TE(b))return null;throw b}}async function uW(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:l,universalResolverAddress:u}){const d=await Ye(t,_k,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:u,gatewayUrls:a,strict:l});if(!d)return null;try{return await lW(t,{record:d,gatewayUrls:r})}catch{return null}}async function dW(t,e){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:l,strict:u}=e,{chain:d}=t,h=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return Ld({blockNumber:r,chain:d,contract:"ensUniversalResolver"})})();try{const m={address:h,abi:wG,args:[n,a,l??[Ay]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},b=Ye(t,Ys,"readContract"),[v]=await b(m);return v||null}catch(m){if(u)throw m;if(TE(m))return null;throw m}}async function fW(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:a}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return Ld({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),u=a?.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))throw new Error(`${s} is not a valid ENS TLD (${u?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[d]=await Ye(t,Ys,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ka(AE(s))],blockNumber:n,blockTag:r});return d}async function Ek(t,e){const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:a,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:b,to:v,value:w,...A}=e,T=n?Sn(n):void 0;try{Rc(e);const k=(typeof r=="bigint"?Ge(r):void 0)||s,M=t.chain?.formatters?.transactionRequest?.format,$=(M||Md)({...py(A,{format:M}),from:T?.address,blobs:a,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:b,to:v,value:w}),U=await t.request({method:"eth_createAccessList",params:[$,k]});return{accessList:U.accessList,gasUsed:BigInt(U.gasUsed)}}catch(N){throw lk(N,{...e,account:T,chain:t.chain})}}async function hW(t){const e=fy(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function Tk(t,{address:e,args:n,event:r,events:s,fromBlock:a,strict:l,toBlock:u}={}){const d=s??(r?[r]:void 0),h=fy(t,{method:"eth_newFilter"});let m=[];d&&(m=[d.flatMap(w=>Im({abi:[w],eventName:w.name,args:n}))],r&&(m=m[0]));const b=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?Ge(a):a,toBlock:typeof u=="bigint"?Ge(u):u,...m.length?{topics:m}:{}}]});return{abi:d,args:n,eventName:r?r.name:void 0,fromBlock:a,id:b,request:h(b),strict:!!l,toBlock:u,type:"event"}}async function Ak(t){const e=fy(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function mW(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?Ge(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(a)}async function pW(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function gW(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?Ge(n):void 0;let a;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Hs(a)}async function sw(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?Ge(n):void 0,a=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(a!=="0x")return a}class yW extends Se{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function bW(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[a,l,u,d,h,m,b]=await Ye(t,Ys,"readContract")({abi:vW,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:l,version:u,chainId:Number(d),verifyingContract:h,salt:m},extensions:b,fields:a}}catch(a){const l=a;throw l.name==="ContractFunctionExecutionError"&&l.cause.name==="ContractFunctionZeroDataError"?new yW({address:n}):l}}const vW=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function xW(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function wW(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?Ge(n):void 0,l=await t.request({method:"eth_feeHistory",params:[Ge(e),a||r,s]},{dedupe:!!a});return xW(l)}async function _W(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(a=>Pa(a));return e.abi?pE({abi:e.abi,logs:s,strict:n}):s}async function EW({address:t,authorization:e,signature:n}){return Dm(J_(t),await oE({authorization:e,signature:n}))}const m0=new dy(8192);function TW(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(m0.get(n))return m0.get(n);const r=t().finally(()=>m0.delete(n));return m0.set(n,r),r}function AW(t,e={}){return async(n,r={})=>{const{dedupe:s=!1,methods:a,retryDelay:l=150,retryCount:u=3,uid:d}={...e,...r},{method:h}=n;if(a?.exclude?.includes(h))throw new Wl(new Error("method not supported"),{method:h});if(a?.include&&!a.include.includes(h))throw new Wl(new Error("method not supported"),{method:h});const m=s?ld(`${d}.${$n(n)}`):void 0;return TW(()=>yg(async()=>{try{return await t(n)}catch(b){const v=b;switch(v.code){case Dh.code:throw new Dh(v);case jh.code:throw new jh(v);case Mh.code:throw new Mh(v,{method:n.method});case Vh.code:throw new Vh(v);case fc.code:throw new fc(v);case hc.code:throw new hc(v);case Lh.code:throw new Lh(v);case Bh.code:throw new Bh(v);case Uh.code:throw new Uh(v);case Wl.code:throw new Wl(v,{method:n.method});case fd.code:throw new fd(v);case Fh.code:throw new Fh(v);case Wu.code:throw new Wu(v);case zh.code:throw new zh(v);case $h.code:throw new $h(v);case qh.code:throw new qh(v);case Hh.code:throw new Hh(v);case Gh.code:throw new Gh(v);case hd.code:throw new hd(v);case Wh.code:throw new Wh(v);case Yh.code:throw new Yh(v);case Kh.code:throw new Kh(v);case Zh.code:throw new Zh(v);case Qh.code:throw new Qh(v);case md.code:throw new md(v);case 5e3:throw new Wu(v);default:throw b instanceof Se?b:new aH(v)}}},{delay:({count:b,error:v})=>{if(v&&v instanceof bh){const w=v?.headers?.get("Retry-After");if(w?.match(/\d/))return Number.parseInt(w,10)*1e3}return~~(1<<b)*l},retryCount:u,shouldRetry:({error:b})=>SW(b)}),{enabled:s,id:m})}}function SW(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===fd.code||t.code===fc.code:t instanceof bh&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function NW(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function CW(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let l;try{const u=new AbortController;n>0&&(l=setTimeout(()=>{r&&u.abort()},n)),s(await t({signal:u?.signal||null}))}catch(u){u?.name==="AbortError"&&a(e),a(u)}finally{clearTimeout(l)}})()})}function RW(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const JS=RW();function IW(t,e={}){return{async request(n){const{body:r,fetchFn:s=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:l=e.onResponse,timeout:u=e.timeout??1e4}=n,d={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:h,method:m,signal:b}=d;try{const v=await CW(async({signal:A})=>{const T={...d,body:Array.isArray(r)?$n(r.map(B=>({jsonrpc:"2.0",id:B.id??JS.take(),...B}))):$n({jsonrpc:"2.0",id:r.id??JS.take(),...r}),headers:{"Content-Type":"application/json",...h},method:m||"POST",signal:b||(u>0?A:null)},N=new Request(t,T),k=await a?.(N,T)??{...T,url:t};return await s(k.url??t,k)},{errorInstance:new DS({body:r,url:t}),timeout:u,signal:!0});l&&await l(v);let w;if(v.headers.get("Content-Type")?.startsWith("application/json"))w=await v.json();else{w=await v.text();try{w=JSON.parse(w||"{}")}catch(A){if(v.ok)throw A;w={error:w}}}if(!v.ok)throw new bh({body:r,details:$n(w.error)||v.statusText,headers:v.headers,status:v.status,url:t});return w}catch(v){throw v instanceof bh||v instanceof DS?v:new bh({body:r,cause:v,url:t})}}}}const kW=`Ethereum Signed Message:
`;function PW(t){const e=typeof t=="string"?ld(t):typeof t.raw=="string"?t.raw:qn(t.raw),n=ld(`${kW}${gn(e)}`);return Ts([n,e])}function Sk(t,e){return ar(PW(t),e)}class OW extends Se{constructor({domain:e}){super(`Invalid domain "${$n(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class DW extends Se{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class jW extends Se{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function MW(t){const{domain:e,message:n,primaryType:r,types:s}=t,a=(d,h)=>{const m={...h};for(const b of d){const{name:v,type:w}=b;w==="address"&&(m[v]=m[v].toLowerCase())}return m},l=s.EIP712Domain?e?a(s.EIP712Domain,e):{}:{},u=(()=>{if(r!=="EIP712Domain")return a(s[r],n)})();return $n({domain:l,message:u,primaryType:r,types:s})}function Nk(t){const{domain:e,message:n,primaryType:r,types:s}=t,a=(l,u)=>{for(const d of l){const{name:h,type:m}=d,b=u[h],v=m.match(p3);if(v&&(typeof b=="number"||typeof b=="bigint")){const[T,N,k]=v;Ge(b,{signed:N==="int",size:Number.parseInt(k,10)/8})}if(m==="address"&&typeof b=="string"&&!Es(b))throw new Yo({address:b});const w=m.match(_q);if(w){const[T,N]=w;if(N&&gn(b)!==Number.parseInt(N,10))throw new k$({expectedSize:Number.parseInt(N,10),givenSize:gn(b)})}const A=s[m];A&&(VW(m),a(A,b))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new OW({domain:e});a(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])a(s[r],n);else throw new DW({primaryType:r,types:s})}function Ck({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function VW(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new jW({type:t})}function LW(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:Ck({domain:e}),...t.types};Nk({domain:e,message:n,primaryType:r,types:s});const a=["0x1901"];return e&&a.push(BW({domain:e,types:s})),r!=="EIP712Domain"&&a.push(Rk({data:n,primaryType:r,types:s})),ar(Ts(a))}function BW({domain:t,types:e}){return Rk({data:t,primaryType:"EIP712Domain",types:e})}function Rk({data:t,primaryType:e,types:n}){const r=Ik({data:t,primaryType:e,types:n});return ar(r)}function Ik({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[UW({primaryType:e,types:n})];for(const a of n[e]){const[l,u]=Pk({types:n,name:a.name,type:a.type,value:t[a.name]});r.push(l),s.push(u)}return Nc(r,s)}function UW({primaryType:t,types:e}){const n=ka(FW({primaryType:t,types:e}));return ar(n)}function FW({primaryType:t,types:e}){let n="";const r=kk({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const a of s)n+=`${a}(${e[a].map(({name:l,type:u})=>`${u} ${l}`).join(",")})`;return n}function kk({primaryType:t,types:e},n=new Set){const s=t.match(/^\w*/u)?.[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const a of e[s])kk({primaryType:a.type,types:e},n);return n}function Pk({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},ar(Ik({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ar(r)];if(n==="string")return[{type:"bytes32"},ar(ka(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(l=>Pk({name:e,type:s,types:t,value:l}));return[{type:"bytes32"},ar(Nc(a.map(([l])=>l),a.map(([,l])=>l)))]}return[{type:n},r]}class zW extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const $W={checksum:new zW(8192)},_1=$W.checksum;function Ok(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=u3(tG(t));return n==="Bytes"?r:Ws(r)}const qW=/^0x[a-fA-F0-9]{40}$/;function Sy(t,e={}){const{strict:n=!0}=e;if(!qW.test(t))throw new eN({address:t,cause:new HW});if(n){if(t.toLowerCase()===t)return;if(Dk(t)!==t)throw new eN({address:t,cause:new GW})}}function Dk(t){if(_1.has(t))return _1.get(t);Sy(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Ok(rG(e),{as:"Bytes"}),r=e.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return _1.set(t,s),s}function iw(t,e={}){const{strict:n=!0}=e??{};try{return Sy(t,{strict:n}),!0}catch{return!1}}class eN extends xt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class HW extends xt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class GW extends xt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const WW=/^(.*)\[([0-9]*)\]$/,YW=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jk=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tN=2n**256n-1n;function Ku(t,e,n){const{checksumAddress:r,staticPosition:s}=n,a=IE(e.type);if(a){const[l,u]=a;return ZW(t,{...e,type:u},{checksumAddress:r,length:l,staticPosition:s})}if(e.type==="tuple")return eY(t,e,{checksumAddress:r,staticPosition:s});if(e.type==="address")return KW(t,{checksum:r});if(e.type==="bool")return QW(t);if(e.type.startsWith("bytes"))return XW(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return JW(t,e);if(e.type==="string")return tY(t,{staticPosition:s});throw new PE(e.type)}const nN=32,aw=32;function KW(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(a=>n?Dk(a):a)(Ws(iG(r,-20))),32]}function ZW(t,e,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const d=Ta(t.readBytes(aw)),h=a+d,m=h+nN;t.setPosition(h);const b=Ta(t.readBytes(nN)),v=em(e);let w=0;const A=[];for(let T=0;T<b;++T){t.setPosition(m+(v?T*32:w));const[N,k]=Ku(t,e,{checksumAddress:r,staticPosition:m});w+=k,A.push(N)}return t.setPosition(a+32),[A,32]}if(em(e)){const d=Ta(t.readBytes(aw)),h=a+d,m=[];for(let b=0;b<s;++b){t.setPosition(h+b*32);const[v]=Ku(t,e,{checksumAddress:r,staticPosition:h});m.push(v)}return t.setPosition(a+32),[m,32]}let l=0;const u=[];for(let d=0;d<s;++d){const[h,m]=Ku(t,e,{checksumAddress:r,staticPosition:a+l});l+=m,u.push(h)}return[u,l]}function QW(t){return[oG(t.readBytes(32),{size:32}),32]}function XW(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const l=Ta(t.readBytes(32));t.setPosition(n+l);const u=Ta(t.readBytes(32));if(u===0)return t.setPosition(n+32),["0x",32];const d=t.readBytes(u);return t.setPosition(n+32),[Ws(d),32]}return[Ws(t.readBytes(Number.parseInt(s,10),32)),32]}function JW(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?aG(s,{signed:n}):Ta(s,{signed:n}),32]}function eY(t,e,n){const{checksumAddress:r,staticPosition:s}=n,a=e.components.length===0||e.components.some(({name:d})=>!d),l=a?[]:{};let u=0;if(em(e)){const d=Ta(t.readBytes(aw)),h=s+d;for(let m=0;m<e.components.length;++m){const b=e.components[m];t.setPosition(h+u);const[v,w]=Ku(t,b,{checksumAddress:r,staticPosition:h});u+=w,l[a?m:b?.name]=v}return t.setPosition(s+32),[l,32]}for(let d=0;d<e.components.length;++d){const h=e.components[d],[m,b]=Ku(t,h,{checksumAddress:r,staticPosition:s});l[a?d:h?.name]=m,u+=b}return[l,u]}function tY(t,{staticPosition:e}){const n=Ta(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Ta(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),l=lG(Z3(a));return t.setPosition(e+32),[l,32]}function nY({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(CE({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function CE({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=IE(r.type);if(s){const[a,l]=s;return sY(n,{checksumAddress:t,length:a,parameter:{...r,type:l}})}if(r.type==="tuple")return cY(n,{checksumAddress:t,parameter:r});if(r.type==="address")return rY(n,{checksum:t});if(r.type==="bool")return aY(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,l="256"]=jk.exec(r.type)??[];return oY(n,{signed:a,size:Number(l)})}if(r.type.startsWith("bytes"))return iY(n,{type:r.type});if(r.type==="string")return lY(n);throw new PE(r.type)}function RE(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:l,encoded:u}=t[a];l?e+=32:e+=rs(u)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:l,encoded:u}=t[a];l?(n.push(Er(e+s,{size:32})),r.push(u),s+=rs(u)):n.push(u)}return Gs(...n,...r)}function rY(t,e){const{checksum:n=!1}=e;return Sy(t,{strict:n}),{dynamic:!1,encoded:pc(t.toLowerCase())}}function sY(t,e){const{checksumAddress:n,length:r,parameter:s}=e,a=r===null;if(!Array.isArray(t))throw new bY(t);if(!a&&t.length!==r)throw new yY({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let l=!1;const u=[];for(let d=0;d<t.length;d++){const h=CE({checksumAddress:n,parameter:s,value:t[d]});h.dynamic&&(l=!0),u.push(h)}if(a||l){const d=RE(u);if(a){const h=Er(u.length,{size:32});return{dynamic:!0,encoded:u.length>0?Gs(h,d):h}}if(l)return{dynamic:!0,encoded:d}}return{dynamic:!1,encoded:Gs(...u.map(({encoded:d})=>d))}}function iY(t,{type:e}){const[,n]=e.split("bytes"),r=rs(t);if(!n){let s=t;return r%32!==0&&(s=gc(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Gs(pc(Er(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Vk({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:gc(t)}}function aY(t){if(typeof t!="boolean")throw new xt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:pc(Q3(t))}}function oY(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new ek({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Er(t,{size:32,signed:e})}}function lY(t){const e=xE(t),n=Math.ceil(rs(e)/32),r=[];for(let s=0;s<n;s++)r.push(gc(Ri(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Gs(gc(Er(rs(e),{size:32})),...r)}}function cY(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const a=[];for(let l=0;l<r.components.length;l++){const u=r.components[l],d=Array.isArray(t)?l:u.name,h=CE({checksumAddress:n,parameter:u,value:t[d]});a.push(h),h.dynamic&&(s=!0)}return{dynamic:s,encoded:s?RE(a):Gs(...a.map(({encoded:l})=>l))}}function IE(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function em(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(em);const n=IE(t.type);return!!(n&&em({...t,type:n[1]}))}const uY={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new hY({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new fY({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new rN({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new rN({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function dY(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(uY);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class rN extends xt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class fY extends xt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class hY extends xt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function mY(t,e,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof e=="string"?K3(e):e,l=dY(a);if(Lu(a)===0&&t.length>0)throw new gY;if(Lu(a)&&Lu(a)<32)throw new pY({data:typeof e=="string"?e:Ws(e),parameters:t,size:Lu(a)});let u=0;const d=r==="Array"?[]:{};for(let h=0;h<t.length;++h){const m=t[h];l.setPosition(u);const[b,v]=Ku(l,m,{checksumAddress:s,staticPosition:0});u+=v,r==="Array"?d.push(b):d[m.name??h]=b}return d}function kE(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new Lk({expectedLength:t.length,givenLength:e.length});const s=nY({checksumAddress:r,parameters:t,values:e}),a=RE(s);return a.length===0?"0x":a}function ow(t,e){if(t.length!==e.length)throw new Lk({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],a=e[r];n.push(ow.encode(s,a))}return Gs(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const d=r;return Sy(d),pc(d.toLowerCase(),s?32:0)}if(n==="string")return xE(r);if(n==="bytes")return r;if(n==="bool")return pc(Q3(r),s?32:1);const a=n.match(jk);if(a){const[d,h,m="256"]=a,b=Number.parseInt(m,10)/8;return Er(r,{size:s?32:b,signed:h==="int"})}const l=n.match(YW);if(l){const[d,h]=l;if(Number.parseInt(h,10)!==(r.length-2)/2)throw new Vk({expectedSize:Number.parseInt(h,10),value:r});return gc(r,s?32:0)}const u=n.match(WW);if(u&&Array.isArray(r)){const[d,h]=u,m=[];for(let b=0;b<r.length;b++)m.push(e(h,r[b],!0));return m.length===0?"0x":Gs(...m)}throw new PE(n)}t.encode=e})(ow||(ow={}));function Mk(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?bS(t):t}class pY extends xt{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ou(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class gY extends xt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class yY extends xt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Vk extends xt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${rs(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Lk extends xt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class bY extends xt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class PE extends xt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Bk extends Q_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,J$(e);const r=cy(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let l=0;l<a.length;l++)a[l]^=54;this.iHash.update(a),this.oHash=e.create();for(let l=0;l<a.length;l++)a[l]^=106;this.oHash.update(a),ud(a)}update(e){return cd(this),this.iHash.update(e),this}digestInto(e){cd(this),dc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:l,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=l,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Uk=(t,e,n)=>new Bk(t,e).update(n).digest();Uk.create=(t,e)=>new Bk(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pr=BigInt(0),Tr=BigInt(1),Yl=BigInt(2),vY=BigInt(3),Fk=BigInt(4),zk=BigInt(5),$k=BigInt(8);function Ir(t,e){const n=t%e;return n>=Pr?n:e+n}function ys(t,e,n){let r=t;for(;e-- >Pr;)r*=r,r%=n;return r}function lw(t,e){if(t===Pr)throw new Error("invert: expected non-zero number");if(e<=Pr)throw new Error("invert: expected positive modulus, got "+e);let n=Ir(t,e),r=e,s=Pr,a=Tr;for(;n!==Pr;){const u=r/n,d=r%n,h=s-a*u;r=n,n=d,s=a,a=h}if(r!==Tr)throw new Error("invert: does not exist");return Ir(s,e)}function qk(t,e){const n=(t.ORDER+Tr)/Fk,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function xY(t,e){const n=(t.ORDER-zk)/$k,r=t.mul(e,Yl),s=t.pow(r,n),a=t.mul(e,s),l=t.mul(t.mul(a,Yl),s),u=t.mul(a,t.sub(l,t.ONE));if(!t.eql(t.sqr(u),e))throw new Error("Cannot find square root");return u}function wY(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Tr,n=0;for(;e%Yl===Pr;)e/=Yl,n++;let r=Yl;const s=OE(t);for(;sN(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return qk;let a=s.pow(r,e);const l=(e+Tr)/Yl;return function(d,h){if(d.is0(h))return h;if(sN(d,h)!==1)throw new Error("Cannot find square root");let m=n,b=d.mul(d.ONE,a),v=d.pow(h,e),w=d.pow(h,l);for(;!d.eql(v,d.ONE);){if(d.is0(v))return d.ZERO;let A=1,T=d.sqr(v);for(;!d.eql(T,d.ONE);)if(A++,T=d.sqr(T),A===m)throw new Error("Cannot find square root");const N=Tr<<BigInt(m-A-1),k=d.pow(b,N);m=A,b=d.sqr(k),v=d.mul(v,b),w=d.mul(w,k)}return w}}function _Y(t){return t%Fk===vY?qk:t%$k===zk?xY:wY(t)}const EY=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TY(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=EY.reduce((r,s)=>(r[s]="function",r),e);return by(t,n)}function AY(t,e,n){if(n<Pr)throw new Error("invalid exponent, negatives unsupported");if(n===Pr)return t.ONE;if(n===Tr)return e;let r=t.ONE,s=e;for(;n>Pr;)n&Tr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Tr;return r}function Hk(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((l,u,d)=>t.is0(u)?l:(r[d]=l,t.mul(l,u)),t.ONE),a=t.inv(s);return e.reduceRight((l,u,d)=>t.is0(u)?l:(r[d]=t.mul(l,r[d]),t.mul(l,u)),a),r}function sN(t,e){const n=(t.ORDER-Tr)/Yl,r=t.pow(e,n),s=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),l=t.eql(r,t.neg(t.ONE));if(!s&&!a&&!l)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function Gk(t,e){e!==void 0&&Ph(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function OE(t,e,n=!1,r={}){if(t<=Pr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=Gk(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:yy(s),ZERO:Pr,ONE:Tr,create:d=>Ir(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Pr<=d&&d<t},is0:d=>d===Pr,isOdd:d=>(d&Tr)===Tr,neg:d=>Ir(-d,t),eql:(d,h)=>d===h,sqr:d=>Ir(d*d,t),add:(d,h)=>Ir(d+h,t),sub:(d,h)=>Ir(d-h,t),mul:(d,h)=>Ir(d*h,t),pow:(d,h)=>AY(u,d,h),div:(d,h)=>Ir(d*lw(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>lw(d,t),sqrt:r.sqrt||(d=>(l||(l=_Y(t)),l(u,d))),toBytes:d=>n?q3(d,a):Mm(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?$3(d):ec(d)},invertBatch:d=>Hk(u,d),cmov:(d,h,m)=>m?h:d});return Object.freeze(u)}function Wk(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Yk(t){const e=Wk(t);return e+Math.ceil(e/2)}function SY(t,e,n=!1){const r=t.length,s=Wk(e),a=Yk(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const l=n?$3(t):ec(t),u=Ir(l,e-Tr)+Tr;return n?q3(u,s):Mm(u,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iN=BigInt(0),cw=BigInt(1);function E1(t,e){const n=e.negate();return t?n:e}function Kk(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function T1(t,e){Kk(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,a=yy(t),l=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:l}}function aN(t,e,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:l}=n;let u=Number(t&s),d=t>>l;u>r&&(u-=a,d+=cw);const h=e*r,m=h+Math.abs(u)-1,b=u===0,v=u<0,w=e%2!==0;return{nextN:d,offset:m,isZero:b,isNeg:v,isNegF:w,offsetF:h}}function NY(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function CY(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const A1=new WeakMap,Zk=new WeakMap;function S1(t){return Zk.get(t)||1}function RY(t,e){return{constTimeNegate:E1,hasPrecomputes(n){return S1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>iN;)r&cw&&(s=s.add(a)),a=a.double(),r>>=cw;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=T1(r,e),l=[];let u=n,d=u;for(let h=0;h<s;h++){d=u,l.push(d);for(let m=1;m<a;m++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(n,r,s){let a=t.ZERO,l=t.BASE;const u=T1(n,e);for(let d=0;d<u.windows;d++){const{nextN:h,offset:m,isZero:b,isNeg:v,isNegF:w,offsetF:A}=aN(s,d,u);s=h,b?l=l.add(E1(w,r[A])):a=a.add(E1(v,r[m]))}return{p:a,f:l}},wNAFUnsafe(n,r,s,a=t.ZERO){const l=T1(n,e);for(let u=0;u<l.windows&&s!==iN;u++){const{nextN:d,offset:h,isZero:m,isNeg:b}=aN(s,u,l);if(s=d,!m){const v=r[h];a=a.add(b?v.negate():v)}}return a},getPrecomputes(n,r,s){let a=A1.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&A1.set(r,s(a))),a},wNAFCached(n,r,s){const a=S1(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const l=S1(n);return l===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(l,this.getPrecomputes(l,n,s),r,a)},setWindowSize(n,r){Kk(r,e),Zk.set(n,r),A1.delete(n)}}}function IY(t,e,n,r){NY(n,t),CY(r,e);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const l=t.ZERO,u=qH(BigInt(s));let d=1;u>12?d=u-3:u>4?d=u-2:u>0&&(d=2);const h=yy(d),m=new Array(Number(h)+1).fill(l),b=Math.floor((e.BITS-1)/d)*d;let v=l;for(let w=b;w>=0;w-=d){m.fill(l);for(let T=0;T<a;T++){const N=r[T],k=Number(N>>BigInt(w)&h);m[k]=m[k].add(n[T])}let A=l;for(let T=m.length-1,N=l;T>0;T--)N=N.add(m[T]),A=A.add(N);if(v=v.add(A),w!==0)for(let T=0;T<d;T++)v=v.double()}return v}function Qk(t){return TY(t.Fp),by(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gk(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oN(t){t.lowS!==void 0&&Xh("lowS",t.lowS),t.prehash!==void 0&&Xh("prehash",t.prehash)}function kY(t){const e=Qk(t);by(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class PY extends Error{constructor(e=""){super(e)}}const fa={Err:PY,_tlv:{encode:(t,e)=>{const{Err:n}=fa;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=d0(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?d0(s.length/2|128):"";return d0(t)+a+s+e},decode(t,e){const{Err:n}=fa;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let l=0;if(!a)l=s;else{const d=s&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const h=e.subarray(r,r+d);if(h.length!==d)throw new n("tlv.decode: length bytes not complete");if(h[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const m of h)l=l<<8|m;if(r+=d,l<128)throw new n("tlv.decode(long): not minimal encoding")}const u=e.subarray(r,r+l);if(u.length!==l)throw new n("tlv.decode: wrong value length");return{v:u,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=fa;if(t<ma)throw new e("integer: negative integers are not allowed");let n=d0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=fa;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ec(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=fa,s=vs("signature",t),{v:a,l}=r.decode(48,s);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:d}=r.decode(2,a),{v:h,l:m}=r.decode(2,d);if(m.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(u),s:n.decode(h)}},hexFromSig(t){const{_tlv:e,_int:n}=fa,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),a=r+s;return e.encode(48,a)}};function N1(t,e){return Jh(Mm(t,e))}const ma=BigInt(0),Kn=BigInt(1);BigInt(2);const C1=BigInt(3),OY=BigInt(4);function DY(t){const e=kY(t),{Fp:n}=e,r=OE(e.n,e.nBitLength),s=e.toBytes||((B,$,U)=>{const Z=$.toAffine();return pg(Uint8Array.from([4]),n.toBytes(Z.x),n.toBytes(Z.y))}),a=e.fromBytes||(B=>{const $=B.subarray(1),U=n.fromBytes($.subarray(0,n.BYTES)),Z=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:U,y:Z}});function l(B){const{a:$,b:U}=e,Z=n.sqr(B),P=n.mul(Z,B);return n.add(n.add(P,n.mul(B,$)),U)}function u(B,$){const U=n.sqr($),Z=l(B);return n.eql(U,Z)}if(!u(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const d=n.mul(n.pow(e.a,C1),OY),h=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(d,h)))throw new Error("bad curve params: a or b");function m(B){return vE(B,Kn,e.n)}function b(B){const{allowedPrivateKeyLengths:$,nByteLength:U,wrapPrivateKey:Z,n:P}=e;if($&&typeof B!="bigint"){if(jm(B)&&(B=Jh(B)),typeof B!="string"||!$.includes(B.length))throw new Error("invalid private key");B=B.padStart(U*2,"0")}let R;try{R=typeof B=="bigint"?B:ec(vs("private key",B,U))}catch{throw new Error("invalid private key, expected hex or "+U+" bytes, got "+typeof B)}return Z&&(R=Ir(R,P)),Yu("private key",R,Kn,P),R}function v(B){if(!(B instanceof T))throw new Error("ProjectivePoint expected")}const w=$S((B,$)=>{const{px:U,py:Z,pz:P}=B;if(n.eql(P,n.ONE))return{x:U,y:Z};const R=B.is0();$==null&&($=R?n.ONE:n.inv(P));const j=n.mul(U,$),F=n.mul(Z,$),z=n.mul(P,$);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(z,n.ONE))throw new Error("invZ was invalid");return{x:j,y:F}}),A=$S(B=>{if(B.is0()){if(e.allowInfinityPoint&&!n.is0(B.py))return;throw new Error("bad point: ZERO")}const{x:$,y:U}=B.toAffine();if(!n.isValid($)||!n.isValid(U))throw new Error("bad point: x or y not FE");if(!u($,U))throw new Error("bad point: equation left != right");if(!B.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class T{constructor($,U,Z){if($==null||!n.isValid($))throw new Error("x required");if(U==null||!n.isValid(U)||n.is0(U))throw new Error("y required");if(Z==null||!n.isValid(Z))throw new Error("z required");this.px=$,this.py=U,this.pz=Z,Object.freeze(this)}static fromAffine($){const{x:U,y:Z}=$||{};if(!$||!n.isValid(U)||!n.isValid(Z))throw new Error("invalid affine point");if($ instanceof T)throw new Error("projective point not allowed");const P=R=>n.eql(R,n.ZERO);return P(U)&&P(Z)?T.ZERO:new T(U,Z,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ($){const U=Hk(n,$.map(Z=>Z.pz));return $.map((Z,P)=>Z.toAffine(U[P])).map(T.fromAffine)}static fromHex($){const U=T.fromAffine(a(vs("pointHex",$)));return U.assertValidity(),U}static fromPrivateKey($){return T.BASE.multiply(b($))}static msm($,U){return IY(T,r,$,U)}_setWindowSize($){M.setWindowSize(this,$)}assertValidity(){A(this)}hasEvenY(){const{y:$}=this.toAffine();if(n.isOdd)return!n.isOdd($);throw new Error("Field doesn't support isOdd")}equals($){v($);const{px:U,py:Z,pz:P}=this,{px:R,py:j,pz:F}=$,z=n.eql(n.mul(U,F),n.mul(R,P)),q=n.eql(n.mul(Z,F),n.mul(j,P));return z&&q}negate(){return new T(this.px,n.neg(this.py),this.pz)}double(){const{a:$,b:U}=e,Z=n.mul(U,C1),{px:P,py:R,pz:j}=this;let F=n.ZERO,z=n.ZERO,q=n.ZERO,D=n.mul(P,P),me=n.mul(R,R),ie=n.mul(j,j),Y=n.mul(P,R);return Y=n.add(Y,Y),q=n.mul(P,j),q=n.add(q,q),F=n.mul($,q),z=n.mul(Z,ie),z=n.add(F,z),F=n.sub(me,z),z=n.add(me,z),z=n.mul(F,z),F=n.mul(Y,F),q=n.mul(Z,q),ie=n.mul($,ie),Y=n.sub(D,ie),Y=n.mul($,Y),Y=n.add(Y,q),q=n.add(D,D),D=n.add(q,D),D=n.add(D,ie),D=n.mul(D,Y),z=n.add(z,D),ie=n.mul(R,j),ie=n.add(ie,ie),D=n.mul(ie,Y),F=n.sub(F,D),q=n.mul(ie,me),q=n.add(q,q),q=n.add(q,q),new T(F,z,q)}add($){v($);const{px:U,py:Z,pz:P}=this,{px:R,py:j,pz:F}=$;let z=n.ZERO,q=n.ZERO,D=n.ZERO;const me=e.a,ie=n.mul(e.b,C1);let Y=n.mul(U,R),Q=n.mul(Z,j),W=n.mul(P,F),se=n.add(U,Z),G=n.add(R,j);se=n.mul(se,G),G=n.add(Y,Q),se=n.sub(se,G),G=n.add(U,P);let ne=n.add(R,F);return G=n.mul(G,ne),ne=n.add(Y,W),G=n.sub(G,ne),ne=n.add(Z,P),z=n.add(j,F),ne=n.mul(ne,z),z=n.add(Q,W),ne=n.sub(ne,z),D=n.mul(me,G),z=n.mul(ie,W),D=n.add(z,D),z=n.sub(Q,D),D=n.add(Q,D),q=n.mul(z,D),Q=n.add(Y,Y),Q=n.add(Q,Y),W=n.mul(me,W),G=n.mul(ie,G),Q=n.add(Q,W),W=n.sub(Y,W),W=n.mul(me,W),G=n.add(G,W),Y=n.mul(Q,G),q=n.add(q,Y),Y=n.mul(ne,G),z=n.mul(se,z),z=n.sub(z,Y),Y=n.mul(se,Q),D=n.mul(ne,D),D=n.add(D,Y),new T(z,q,D)}subtract($){return this.add($.negate())}is0(){return this.equals(T.ZERO)}wNAF($){return M.wNAFCached(this,$,T.normalizeZ)}multiplyUnsafe($){const{endo:U,n:Z}=e;Yu("scalar",$,ma,Z);const P=T.ZERO;if($===ma)return P;if(this.is0()||$===Kn)return this;if(!U||M.hasPrecomputes(this))return M.wNAFCachedUnsafe(this,$,T.normalizeZ);let{k1neg:R,k1:j,k2neg:F,k2:z}=U.splitScalar($),q=P,D=P,me=this;for(;j>ma||z>ma;)j&Kn&&(q=q.add(me)),z&Kn&&(D=D.add(me)),me=me.double(),j>>=Kn,z>>=Kn;return R&&(q=q.negate()),F&&(D=D.negate()),D=new T(n.mul(D.px,U.beta),D.py,D.pz),q.add(D)}multiply($){const{endo:U,n:Z}=e;Yu("scalar",$,Kn,Z);let P,R;if(U){const{k1neg:j,k1:F,k2neg:z,k2:q}=U.splitScalar($);let{p:D,f:me}=this.wNAF(F),{p:ie,f:Y}=this.wNAF(q);D=M.constTimeNegate(j,D),ie=M.constTimeNegate(z,ie),ie=new T(n.mul(ie.px,U.beta),ie.py,ie.pz),P=D.add(ie),R=me.add(Y)}else{const{p:j,f:F}=this.wNAF($);P=j,R=F}return T.normalizeZ([P,R])[0]}multiplyAndAddUnsafe($,U,Z){const P=T.BASE,R=(F,z)=>z===ma||z===Kn||!F.equals(P)?F.multiplyUnsafe(z):F.multiply(z),j=R(this,U).add(R($,Z));return j.is0()?void 0:j}toAffine($){return w(this,$)}isTorsionFree(){const{h:$,isTorsionFree:U}=e;if($===Kn)return!0;if(U)return U(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:$,clearCofactor:U}=e;return $===Kn?this:U?U(T,this):this.multiplyUnsafe(e.h)}toRawBytes($=!0){return Xh("isCompressed",$),this.assertValidity(),s(T,this,$)}toHex($=!0){return Xh("isCompressed",$),Jh(this.toRawBytes($))}}T.BASE=new T(e.Gx,e.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO);const{endo:N,nBitLength:k}=e,M=RY(T,N?Math.ceil(k/2):k);return{CURVE:e,ProjectivePoint:T,normPrivateKeyToScalar:b,weierstrassEquation:l,isWithinCurveOrder:m}}function jY(t){const e=Qk(t);return by(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function MY(t){const e=jY(t),{Fp:n,n:r,nByteLength:s,nBitLength:a}=e,l=n.BYTES+1,u=2*n.BYTES+1;function d(ie){return Ir(ie,r)}function h(ie){return lw(ie,r)}const{ProjectivePoint:m,normPrivateKeyToScalar:b,weierstrassEquation:v,isWithinCurveOrder:w}=DY({...e,toBytes(ie,Y,Q){const W=Y.toAffine(),se=n.toBytes(W.x),G=pg;return Xh("isCompressed",Q),Q?G(Uint8Array.from([Y.hasEvenY()?2:3]),se):G(Uint8Array.from([4]),se,n.toBytes(W.y))},fromBytes(ie){const Y=ie.length,Q=ie[0],W=ie.subarray(1);if(Y===l&&(Q===2||Q===3)){const se=ec(W);if(!vE(se,Kn,n.ORDER))throw new Error("Point is not on curve");const G=v(se);let ne;try{ne=n.sqrt(G)}catch(ge){const Ce=ge instanceof Error?": "+ge.message:"";throw new Error("Point is not on curve"+Ce)}const fe=(ne&Kn)===Kn;return(Q&1)===1!==fe&&(ne=n.neg(ne)),{x:se,y:ne}}else if(Y===u&&Q===4){const se=n.fromBytes(W.subarray(0,n.BYTES)),G=n.fromBytes(W.subarray(n.BYTES,2*n.BYTES));return{x:se,y:G}}else{const se=l,G=u;throw new Error("invalid Point, expected length of "+se+", or uncompressed "+G+", got "+Y)}}});function A(ie){const Y=r>>Kn;return ie>Y}function T(ie){return A(ie)?d(-ie):ie}const N=(ie,Y,Q)=>ec(ie.slice(Y,Q));class k{constructor(Y,Q,W){Yu("r",Y,Kn,r),Yu("s",Q,Kn,r),this.r=Y,this.s=Q,W!=null&&(this.recovery=W),Object.freeze(this)}static fromCompact(Y){const Q=s;return Y=vs("compactSignature",Y,Q*2),new k(N(Y,0,Q),N(Y,Q,2*Q))}static fromDER(Y){const{r:Q,s:W}=fa.toSig(vs("DER",Y));return new k(Q,W)}assertValidity(){}addRecoveryBit(Y){return new k(this.r,this.s,Y)}recoverPublicKey(Y){const{r:Q,s:W,recovery:se}=this,G=P(vs("msgHash",Y));if(se==null||![0,1,2,3].includes(se))throw new Error("recovery id invalid");const ne=se===2||se===3?Q+e.n:Q;if(ne>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const fe=(se&1)===0?"02":"03",ye=m.fromHex(fe+N1(ne,n.BYTES)),ge=h(ne),Ce=d(-G*ge),Oe=d(W*ge),Ee=m.BASE.multiplyAndAddUnsafe(ye,Ce,Oe);if(!Ee)throw new Error("point at infinify");return Ee.assertValidity(),Ee}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return mg(this.toDERHex())}toDERHex(){return fa.hexFromSig(this)}toCompactRawBytes(){return mg(this.toCompactHex())}toCompactHex(){const Y=s;return N1(this.r,Y)+N1(this.s,Y)}}const M={isValidPrivateKey(ie){try{return b(ie),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const ie=Yk(e.n);return SY(e.randomBytes(ie),e.n)},precompute(ie=8,Y=m.BASE){return Y._setWindowSize(ie),Y.multiply(BigInt(3)),Y}};function B(ie,Y=!0){return m.fromPrivateKey(ie).toRawBytes(Y)}function $(ie){if(typeof ie=="bigint")return!1;if(ie instanceof m)return!0;const Q=vs("key",ie).length,W=n.BYTES,se=W+1,G=2*W+1;if(!(e.allowedPrivateKeyLengths||s===se))return Q===se||Q===G}function U(ie,Y,Q=!0){if($(ie)===!0)throw new Error("first arg must be private key");if($(Y)===!1)throw new Error("second arg must be public key");return m.fromHex(Y).multiply(b(ie)).toRawBytes(Q)}const Z=e.bits2int||function(ie){if(ie.length>8192)throw new Error("input is too large");const Y=ec(ie),Q=ie.length*8-a;return Q>0?Y>>BigInt(Q):Y},P=e.bits2int_modN||function(ie){return d(Z(ie))},R=yy(a);function j(ie){return Yu("num < 2^"+a,ie,ma,R),Mm(ie,s)}function F(ie,Y,Q=z){if(["recovered","canonical"].some(nt=>nt in Q))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:se}=e;let{lowS:G,prehash:ne,extraEntropy:fe}=Q;G==null&&(G=!0),ie=vs("msgHash",ie),oN(Q),ne&&(ie=vs("prehashed msgHash",W(ie)));const ye=P(ie),ge=b(Y),Ce=[j(ge),j(ye)];if(fe!=null&&fe!==!1){const nt=fe===!0?se(n.BYTES):fe;Ce.push(vs("extraEntropy",nt))}const Oe=pg(...Ce),Ee=ye;function Ve(nt){const Qe=Z(nt);if(!w(Qe))return;const et=h(Qe),st=m.BASE.multiply(Qe).toAffine(),Xe=d(st.x);if(Xe===ma)return;const Dt=d(et*d(Ee+Xe*ge));if(Dt===ma)return;let Rn=(st.x===Xe?0:2)|Number(st.y&Kn),yn=Dt;return G&&A(Dt)&&(yn=T(Dt),Rn^=1),new k(Xe,yn,Rn)}return{seed:Oe,k2sig:Ve}}const z={lowS:e.lowS,prehash:!1},q={lowS:e.lowS,prehash:!1};function D(ie,Y,Q=z){const{seed:W,k2sig:se}=F(ie,Y,Q),G=e;return HH(G.hash.outputLen,G.nByteLength,G.hmac)(W,se)}m.BASE._setWindowSize(8);function me(ie,Y,Q,W=q){const se=ie;Y=vs("msgHash",Y),Q=vs("publicKey",Q);const{lowS:G,prehash:ne,format:fe}=W;if(oN(W),"strict"in W)throw new Error("options.strict was renamed to lowS");if(fe!==void 0&&fe!=="compact"&&fe!=="der")throw new Error("format must be compact or der");const ye=typeof se=="string"||jm(se),ge=!ye&&!fe&&typeof se=="object"&&se!==null&&typeof se.r=="bigint"&&typeof se.s=="bigint";if(!ye&&!ge)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Ce,Oe;try{if(ge&&(Ce=new k(se.r,se.s)),ye){try{fe!=="compact"&&(Ce=k.fromDER(se))}catch(Rn){if(!(Rn instanceof fa.Err))throw Rn}!Ce&&fe!=="der"&&(Ce=k.fromCompact(se))}Oe=m.fromHex(Q)}catch{return!1}if(!Ce||G&&Ce.hasHighS())return!1;ne&&(Y=e.hash(Y));const{r:Ee,s:Ve}=Ce,nt=P(Y),Qe=h(Ve),et=d(nt*Qe),st=d(Ee*Qe),Xe=m.BASE.multiplyAndAddUnsafe(Oe,et,st)?.toAffine();return Xe?d(Xe.x)===Ee:!1}return{CURVE:e,getPublicKey:B,getSharedSecret:U,sign:D,verify:me,ProjectivePoint:m,Signature:k,utils:M}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function VY(t){return{hash:t,hmac:(e,...n)=>Uk(t,e,iq(...n)),randomBytes:aq}}function LY(t,e){const n=r=>MY({...t,...VY(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BY=BigInt(0),UY=BigInt(1),uw=BigInt(2),cN=(t,e)=>(t+e/uw)/e;function FY(t){const e=Xk,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),l=BigInt(23),u=BigInt(44),d=BigInt(88),h=t*t*t%e,m=h*h*t%e,b=ys(m,n,e)*m%e,v=ys(b,n,e)*m%e,w=ys(v,uw,e)*h%e,A=ys(w,s,e)*w%e,T=ys(A,a,e)*A%e,N=ys(T,u,e)*T%e,k=ys(N,d,e)*N%e,M=ys(k,u,e)*T%e,B=ys(M,n,e)*m%e,$=ys(B,l,e)*A%e,U=ys($,r,e)*h%e,Z=ys(U,uw,e);if(!dw.eql(dw.sqr(Z),t))throw new Error("Cannot find square root");return Z}const dw=OE(Xk,void 0,void 0,{sqrt:FY}),Jk=LY({a:BY,b:BigInt(7),Fp:dw,n:lN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=lN,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-UY*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,l=BigInt("0x100000000000000000000000000000000"),u=cN(a*t,e),d=cN(-r*t,e);let h=Ir(t-u*n-d*s,e),m=Ir(-u*r-d*a,e);const b=h>l,v=m>l;if(b&&(h=e-h),v&&(m=e-m),h>l||m>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:h,k2neg:v,k2:m}}}},M3),zY=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Jk},Symbol.toStringTag,{value:"Module"}));function e8(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new R1({signature:t});if(typeof t.s>"u")throw new R1({signature:t});if(n&&typeof t.yParity>"u")throw new R1({signature:t});if(t.r<0n||t.r>tN)throw new KY({value:t.r});if(t.s<0n||t.s>tN)throw new ZY({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new jE({value:t.yParity})}function $Y(t){return t8(Ws(t))}function t8(t){if(t.length!==130&&t.length!==132)throw new YY({signature:t});const e=BigInt(Ri(t,0,32)),n=BigInt(Ri(t,32,64)),r=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return DE(s)}catch{throw new jE({value:s})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function qY(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return HY(t)}function HY(t){const e=typeof t=="string"?t8(t):t instanceof Uint8Array?$Y(t):typeof t.r=="string"?WY(t):t.v?GY(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return e8(e),e}function GY(t){return{r:t.r,s:t.s,yParity:DE(t.v)}}function WY(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=DE(n)),typeof r!="number")throw new jE({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function DE(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new QY({value:t})}class YY extends xt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${rs(gG(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class R1 extends xt{constructor({signature:e}){super(`Signature \`${Y3(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class KY extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class ZY extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class jE extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class QY extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function XY(t,e={}){return typeof t.chainId=="string"?JY(t):{...t,...e.signature}}function JY(t){const{address:e,chainId:n,nonce:r}=t,s=qY(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...s}}const eK="0x8010801080108010801080108010801080108010801080108010801080108010",tK=Mk("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function n8(t){if(typeof t=="string"){if(Ri(t,-32)!==eK)throw new sK(t)}else e8(t.authorization)}function nK(t){n8(t);const e=J3(Ri(t,-64,-32)),n=Ri(t,-e-64,-64),r=Ri(t,0,-e-64),[s,a,l]=mY(tK,n);return{authorization:XY({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...l&&l!=="0x"?{data:l,to:a}:{}}}function rK(t){try{return n8(t),!0}catch{return!1}}let sK=class extends xt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function iK(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function aK(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Hs(t.nonce):void 0,storageProof:t.storageProof?iK(t.storageProof):void 0}}async function oK(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",l=n!==void 0?Ge(n):void 0,u=await t.request({method:"eth_getProof",params:[e,s,l||a]});return aK(u)}async function lK(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?Ge(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,a||r]})}async function ME(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){const l=r||"latest",u=n!==void 0?Ge(n):void 0;let d=null;if(s?d=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ge(a)]},{dedupe:!0}):d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||l,Ge(a)]},{dedupe:!!u}),!d)throw new _3({blockHash:e,blockNumber:n,blockTag:l,hash:s,index:a});return(t.chain?.formatters?.transaction?.format||k3)(d)}async function cK(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([Ye(t,Lm,"getBlockNumber")({}),e?Ye(t,ME,"getTransaction")({hash:e}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}async function U0(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new E3({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||FG)(n)}async function uK(t,e){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:l,blockTag:u,stateOverride:d}=e,h=e.contracts,{batchSize:m=e.batchSize??1024,deployless:b=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},v=(()=>{if(e.multicallAddress)return e.multicallAddress;if(b)return null;if(t.chain)return Ld({blockNumber:a,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),w=[[]];let A=0,T=0;for(let M=0;M<h.length;M++){const{abi:B,address:$,args:U,functionName:Z}=h[M];try{const P=is({abi:B,args:U,functionName:Z});T+=(P.length-2)/2,m>0&&T>m&&w[A].length>0&&(A++,T=(P.length-2)/2,w[A]=[]),w[A]=[...w[A],{allowFailure:!0,callData:P,target:$}]}catch(P){const R=mc(P,{abi:B,address:$,args:U,docsPath:"/docs/contract/multicall",functionName:Z,sender:n});if(!s)throw R;w[A]=[...w[A],{allowFailure:!0,callData:"0x",target:$}]}}const N=await Promise.allSettled(w.map(M=>Ye(t,Ys,"readContract")({...v===null?{code:wE}:{address:v},abi:gg,account:n,args:[M],authorizationList:r,blockNumber:a,blockOverrides:l,blockTag:u,functionName:"aggregate3",stateOverride:d}))),k=[];for(let M=0;M<N.length;M++){const B=N[M];if(B.status==="rejected"){if(!s)throw B.reason;for(let U=0;U<w[M].length;U++)k.push({status:"failure",error:B.reason,result:void 0});continue}const $=B.value;for(let U=0;U<$.length;U++){const{returnData:Z,success:P}=$[U],{callData:R}=w[M][U],{abi:j,address:F,functionName:z,args:q}=h[k.length];try{if(R==="0x")throw new Nm;if(!P)throw new hy({data:Z});const D=Ic({abi:j,args:q,data:Z,functionName:z});k.push(s?{result:D,status:"success"}:D)}catch(D){const me=mc(D,{abi:j,address:F,args:q,docsPath:"/docs/contract/multicall",functionName:z});if(!s)throw me;k.push({error:me,result:void 0,status:"failure"})}}}if(k.length!==h.length)throw new Se("multicall results mismatch");return k}async function fw(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:l,validation:u}=e;try{const d=[];for(const v of s){const w=v.blockOverrides?nk(v.blockOverrides):void 0,A=v.calls.map(N=>{const k=N,M=k.account?Sn(k.account):void 0,B=k.abi?is(k):k.data,$={...k,data:k.dataSuffix?Ts([B||"0x",k.dataSuffix]):B,from:k.from??M?.address};return Rc($),Md($)}),T=v.stateOverrides?lE(v.stateOverrides):void 0;d.push({blockOverrides:w,calls:A,stateOverrides:T})}const m=(typeof n=="bigint"?Ge(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:d,returnFullTransactions:a,traceTransfers:l,validation:u},m]})).map((v,w)=>({...P3(v),calls:v.calls.map((A,T)=>{const{abi:N,args:k,functionName:M,to:B}=s[w].calls[T],$=A.error?.data??A.returnData,U=BigInt(A.gasUsed),Z=A.logs?.map(F=>Pa(F)),P=A.status==="0x1"?"success":"failure",R=N&&P==="success"&&$!=="0x"?Ic({abi:N,data:$,functionName:M}):null,j=(()=>{if(P==="success")return;let F;if(A.error?.data==="0x"?F=new Nm:A.error&&(F=new hy(A.error)),!!F)return mc(F,{abi:N??[],address:B??"0x",args:k,functionName:M??"<unknown>"})})();return{data:$,gasUsed:U,logs:Z,status:P,...P==="success"?{result:R}:{error:j}}})}))}catch(d){const h=d,m=my(h,{});throw m instanceof Om?h:m}}function hw(t){let e=!0,n="",r=0,s="",a=!1;for(let l=0;l<t.length;l++){const u=t[l];if(["(",")",","].includes(u)&&(e=!0),u==="("&&r++,u===")"&&r--,!!e){if(r===0){if(u===" "&&["event","function","error",""].includes(s))s="";else if(s+=u,u===")"){a=!0;break}continue}if(u===" "){t[l-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=u,n+=u}}if(!a)throw new xt("Unable to normalize signature.");return s}function mw(t,e){const n=typeof t,r=e.type;switch(r){case"address":return iw(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>mw(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>mw(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function r8(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return r8(s.components,a.components,n[r]);const l=[s.type,a.type];if(l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?iw(n[r],{strict:!1}):l.includes("address")&&l.includes("bytes")?iw(n[r],{strict:!1}):!1)return l}}function s8(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?yS(t):t;return{...r,...n?{hash:Bu(r)}:{}}}function Ny(t,e,n){const{args:r=[],prepare:s=!0}=n??{},a=yG(e,{strict:!1}),l=t.filter(h=>a?h.type==="function"||h.type==="error"?i8(h)===Ri(e,0,4):h.type==="event"?Bu(h)===e:!1:"name"in h&&h.name===e);if(l.length===0)throw new bg({name:e});if(l.length===1)return{...l[0],...s?{hash:Bu(l[0])}:{}};let u;for(const h of l){if(!("inputs"in h))continue;if(!r||r.length===0){if(!h.inputs||h.inputs.length===0)return{...h,...s?{hash:Bu(h)}:{}};continue}if(!h.inputs||h.inputs.length===0||h.inputs.length!==r.length)continue;if(r.every((b,v)=>{const w="inputs"in h&&h.inputs[v];return w?mw(b,w):!1})){if(u&&"inputs"in u&&u.inputs){const b=r8(h.inputs,u.inputs,r);if(b)throw new fK({abiItem:h,type:b[0]},{abiItem:u,type:b[1]})}u=h}}const d=(()=>{if(u)return u;const[h,...m]=l;return{...h,overloads:m}})();if(!d)throw new bg({name:e});return{...d,...s?{hash:Bu(d)}:{}}}function i8(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return Ny(n,r)}return t[0]})();return Ri(Bu(e),0,4)}function dK(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,s]=t;return Ny(r,s)}return t[0]})(),n=typeof e=="string"?e:dg(e);return hw(n)}function Bu(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return Ny(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Ok(xE(dK(e)))}class fK extends xt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${hw(dg(e.abiItem))}\`, and`,`\`${n.type}\` in \`${hw(dg(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class bg extends xt{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function hK(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[a,l]=t;return[pK(a),l]}return t})(),{bytecode:r,args:s}=n;return Gs(r,e.inputs?.length&&s?.length?kE(e.inputs,s):"0x")}function mK(t){return s8(t)}function pK(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new bg({name:"constructor"});return e}function gK(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[h,m,b]=t;return[uN(h,m,{args:b}),b]}const[u,d]=t;return[u,d]})(),{overloads:r}=e,s=r?uN([e,...r],e.name,{args:n}):e,a=yK(s),l=n.length>0?kE(s.inputs,n):void 0;return l?Gs(a,l):a}function xu(t,e={}){return s8(t,e)}function uN(t,e,n){const r=Ny(t,e,n);if(r.type!=="function")throw new bg({name:e,type:"function"});return r}function yK(t){return i8(t)}const bK="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",gi="0x0000000000000000000000000000000000000000",vK="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function xK(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:l,traceTransfers:u,validation:d}=e,h=e.account?Sn(e.account):void 0;if(l&&!h)throw new Se("`account` is required when `traceAssetChanges` is true");const m=h?hK(mK("constructor(bytes, bytes)"),{bytecode:ak,args:[vK,gK(xu("function getBalance(address)"),[h.address])]}):void 0,b=l?await Promise.all(e.calls.map(async W=>{if(!W.data&&!W.abi)return;const{accessList:se}=await Ek(t,{account:h.address,...W,data:W.abi?is(W):W.data});return se.map(({address:G,storageKeys:ne})=>ne.length>0?G:null)})).then(W=>W.flat().filter(Boolean)):[],v=await fw(t,{blockNumber:n,blockTag:r,blocks:[...l?[{calls:[{data:m}],stateOverrides:a},{calls:b.map((W,se)=>({abi:[xu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[h.address],to:W,from:gi,nonce:se})),stateOverrides:[{address:gi,nonce:0}]}]:[],{calls:[...s,{}].map(W=>({...W,from:h?.address})),stateOverrides:a},...l?[{calls:[{data:m}]},{calls:b.map((W,se)=>({abi:[xu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[h.address],to:W,from:gi,nonce:se})),stateOverrides:[{address:gi,nonce:0}]},{calls:b.map((W,se)=>({to:W,abi:[xu("function decimals() returns (uint256)")],functionName:"decimals",from:gi,nonce:se})),stateOverrides:[{address:gi,nonce:0}]},{calls:b.map((W,se)=>({to:W,abi:[xu("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:gi,nonce:se})),stateOverrides:[{address:gi,nonce:0}]},{calls:b.map((W,se)=>({to:W,abi:[xu("function symbol() returns (string)")],functionName:"symbol",from:gi,nonce:se})),stateOverrides:[{address:gi,nonce:0}]}]:[]],traceTransfers:u,validation:d}),w=l?v[2]:v[0],[A,T,,N,k,M,B,$]=l?v:[],{calls:U,...Z}=w,P=U.slice(0,-1)??[],R=A?.calls??[],j=T?.calls??[],F=[...R,...j].map(W=>W.status==="success"?ns(W.data):null),z=N?.calls??[],q=k?.calls??[],D=[...z,...q].map(W=>W.status==="success"?ns(W.data):null),me=(M?.calls??[]).map(W=>W.status==="success"?W.result:null),ie=($?.calls??[]).map(W=>W.status==="success"?W.result:null),Y=(B?.calls??[]).map(W=>W.status==="success"?W.result:null),Q=[];for(const[W,se]of D.entries()){const G=F[W];if(typeof se!="bigint"||typeof G!="bigint")continue;const ne=me[W-1],fe=ie[W-1],ye=Y[W-1],ge=W===0?{address:bK,decimals:18,symbol:"ETH"}:{address:b[W-1],decimals:ye||ne?Number(ne??1):void 0,symbol:fe??void 0};Q.some(Ce=>Ce.token.address===ge.address)||Q.push({token:ge,value:{pre:G,post:se,diff:se-G}})}return{assetChanges:Q,block:Z,results:P}}const a8="0x6492649264926492649264926492649264926492649264926492649264926492";function wK(t){if(Ri(t,-32)!==a8)throw new TK(t)}function _K(t){const{data:e,signature:n,to:r}=t;return Gs(kE(Mk("address, bytes, bytes"),[r,e,n]),a8)}function EK(t){try{return wK(t),!0}catch{return!1}}class TK extends xt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function AK({r:t,s:e,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new Jk.Signature(ns(t),ns(e)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?l:ji(l)}async function Cy(t,e){const{address:n,hash:r,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:a=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,l=(()=>{const u=e.signature;return Di(u)?u:typeof u=="object"&&"r"in u&&"s"in u?AK(u):qn(u)})();try{return rK(l)?await SK(t,{...e,multicallAddress:a,signature:l}):await NK(t,{...e,verifierAddress:s,signature:l})}catch(u){try{if(Dm(J_(n),await S3({hash:r,signature:l})))return!0}catch{}if(u instanceof yc)return!1;throw u}}async function SK(t,e){const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:l}=e,{authorization:u,data:d,signature:h,to:m}=nK(e.signature);if(await sw(t,{address:n,blockNumber:r,blockTag:s})===jd(["0xef0100",u.address]))return await CK(t,{address:n,blockNumber:r,blockTag:s,hash:a,signature:h});const v={address:u.address,chainId:Number(u.chainId),nonce:Number(u.nonce),r:Ge(u.r,{size:32}),s:Ge(u.s,{size:32}),yParity:u.yParity};if(!await EW({address:n,authorization:v}))throw new yc;const A=await Ye(t,Ys,"readContract")({...l?{address:l}:{code:wE},authorizationList:[v],abi:gg,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...d?[{allowFailure:!0,target:m??n,callData:d}]:[],{allowFailure:!0,target:n,callData:is({abi:ik,functionName:"isValidSignature",args:[a,h]})}]]});if(A[A.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new yc}async function NK(t,e){const{address:n,factory:r,factoryData:s,hash:a,signature:l,verifierAddress:u,...d}=e,h=await(async()=>!r&&!s||EK(l)?l:_K({data:s,signature:l,to:r}))(),m=u?{to:u,data:is({abi:KS,functionName:"isValidSig",args:[n,a,h]}),...d}:{data:xy({abi:KS,args:[n,a,h],bytecode:TG}),...d},{data:b}=await Ye(t,wy,"call")(m).catch(v=>{throw v instanceof T3?new yc:v});if(U$(b??"0x0"))return!0;throw new yc}async function CK(t,e){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:l}=e;if((await Ye(t,Ys,"readContract")({address:n,abi:ik,args:[a,l],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(d=>{throw d instanceof A3?new yc:d})).startsWith("0x1626ba7e"))return!0;throw new yc}class yc extends Error{}async function RK(t,{address:e,message:n,factory:r,factoryData:s,signature:a,...l}){const u=Sk(n);return Cy(t,{address:e,factory:r,factoryData:s,hash:u,signature:a,...l})}async function IK(t,e){const{address:n,factory:r,factoryData:s,signature:a,message:l,primaryType:u,types:d,domain:h,...m}=e,b=LW({message:l,primaryType:u,types:d,domain:h});return Cy(t,{address:n,factory:r,factoryData:s,hash:b,signature:a,...m})}function o8(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:l=t.pollingInterval}){const u=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let d;return u?(()=>{const b=$n(["watchBlockNumber",t.uid,e,n,l]);return Oa(b,{onBlockNumber:r,onError:s},v=>Bd(async()=>{try{const w=await Ye(t,Lm,"getBlockNumber")({cacheTime:0});if(d!==void 0){if(w===d)return;if(w-d>1&&n)for(let A=d+1n;A<w;A++)v.onBlockNumber(A,d),d=A}(d===void 0||w>d)&&(v.onBlockNumber(w,d),d=w)}catch(w){v.onError?.(w)}},{emitOnBegin:e,interval:l}))})():(()=>{const b=$n(["watchBlockNumber",t.uid,e,n]);return Oa(b,{onBlockNumber:r,onError:s},v=>{let w=!0,A=()=>w=!1;return(async()=>{try{const T=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return k?k.value:t.transport}return t.transport})(),{unsubscribe:N}=await T.subscribe({params:["newHeads"],onData(k){if(!w)return;const M=ns(k.result?.number);v.onBlockNumber(M,d),d=M},onError(k){v.onError?.(k)}});A=N,w||A()}catch(T){s?.(T)}})(),()=>A()})})()}async function kK(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:l=6,retryDelay:u=({count:U})=>~~(1<<U)*200,timeout:d=18e4}=e,h=$n(["waitForTransactionReceipt",t.uid,s]),m=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let b,v,w,A=!1,T,N;const{promise:k,resolve:M,reject:B}=_E(),$=d?setTimeout(()=>{N?.(),T?.(),B(new tH({hash:s}))},d):void 0;return T=Oa(h,{onReplaced:a,resolve:M,reject:B},async U=>{if(w=await Ye(t,U0,"getTransactionReceipt")({hash:s}).catch(()=>{}),w&&r<=1){clearTimeout($),U.resolve(w),T?.();return}N=Ye(t,o8,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:m,async onBlockNumber(Z){const P=j=>{clearTimeout($),N?.(),j(),T?.()};let R=Z;if(!A)try{if(w){if(r>1&&(!w.blockNumber||R-w.blockNumber+1n<r))return;P(()=>U.resolve(w));return}if(n&&!b&&(A=!0,await yg(async()=>{b=await Ye(t,ME,"getTransaction")({hash:s}),b.blockNumber&&(R=b.blockNumber)},{delay:u,retryCount:l}),A=!1),w=await Ye(t,U0,"getTransactionReceipt")({hash:s}),r>1&&(!w.blockNumber||R-w.blockNumber+1n<r))return;P(()=>U.resolve(w))}catch(j){if(j instanceof _3||j instanceof E3){if(!b){A=!1;return}try{v=b,A=!0;const F=await yg(()=>Ye(t,_i,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:u,retryCount:l,shouldRetry:({error:D})=>D instanceof R3});A=!1;const z=F.transactions.find(({from:D,nonce:me})=>D===v.from&&me===v.nonce);if(!z||(w=await Ye(t,U0,"getTransactionReceipt")({hash:z.hash}),r>1&&(!w.blockNumber||R-w.blockNumber+1n<r)))return;let q="replaced";z.to===v.to&&z.value===v.value&&z.input===v.input?q="repriced":z.from===z.to&&z.value===0n&&(q="cancelled"),P(()=>{U.onReplaced?.({reason:q,replacedTransaction:v,transaction:z,transactionReceipt:w}),U.resolve(w)})}catch(F){P(()=>U.reject(F))}}else P(()=>U.reject(j))}}})}),k}function PK(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:l,poll:u,pollingInterval:d=t.pollingInterval}){const h=typeof u<"u"?u:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),m=l??!1;let b;return h?(()=>{const A=$n(["watchBlocks",t.uid,e,n,r,m,d]);return Oa(A,{onBlock:s,onError:a},T=>Bd(async()=>{try{const N=await Ye(t,_i,"getBlock")({blockTag:e,includeTransactions:m});if(N.number!==null&&b?.number!=null){if(N.number===b.number)return;if(N.number-b.number>1&&n)for(let k=b?.number+1n;k<N.number;k++){const M=await Ye(t,_i,"getBlock")({blockNumber:k,includeTransactions:m});T.onBlock(M,b),b=M}}(b?.number==null||e==="pending"&&N?.number==null||N.number!==null&&N.number>b.number)&&(T.onBlock(N,b),b=N)}catch(N){T.onError?.(N)}},{emitOnBegin:r,interval:d}))})():(()=>{let A=!0,T=!0,N=()=>A=!1;return(async()=>{try{r&&Ye(t,_i,"getBlock")({blockTag:e,includeTransactions:m}).then(B=>{A&&T&&(s(B,void 0),T=!1)}).catch(a);const k=(()=>{if(t.transport.type==="fallback"){const B=t.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return B?B.value:t.transport}return t.transport})(),{unsubscribe:M}=await k.subscribe({params:["newHeads"],async onData(B){if(!A)return;const $=await Ye(t,_i,"getBlock")({blockNumber:B.result?.number,includeTransactions:m}).catch(()=>{});A&&(s($,b),T=!1,b=$)},onError(B){a?.(B)}});N=M,A||N()}catch(k){a?.(k)}})(),()=>N()})()}function OK(t,{address:e,args:n,batch:r=!0,event:s,events:a,fromBlock:l,onError:u,onLogs:d,poll:h,pollingInterval:m=t.pollingInterval,strict:b}){const v=typeof h<"u"?h:typeof l=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),w=b??!1;return v?(()=>{const N=$n(["watchEvent",e,n,r,t.uid,s,m,l]);return Oa(N,{onLogs:d,onError:u},k=>{let M;l!==void 0&&(M=l-1n);let B,$=!1;const U=Bd(async()=>{if(!$){try{B=await Ye(t,Tk,"createEventFilter")({address:e,args:n,event:s,events:a,strict:w,fromBlock:l})}catch{}$=!0;return}try{let Z;if(B)Z=await Ye(t,_y,"getFilterChanges")({filter:B});else{const P=await Ye(t,Lm,"getBlockNumber")({});M&&M!==P?Z=await Ye(t,gE,"getLogs")({address:e,args:n,event:s,events:a,fromBlock:M+1n,toBlock:P}):Z=[],M=P}if(Z.length===0)return;if(r)k.onLogs(Z);else for(const P of Z)k.onLogs([P])}catch(Z){B&&Z instanceof hc&&($=!1),k.onError?.(Z)}},{emitOnBegin:!0,interval:m});return async()=>{B&&await Ye(t,Ey,"uninstallFilter")({filter:B}),U()}})})():(()=>{let N=!0,k=()=>N=!1;return(async()=>{try{const M=(()=>{if(t.transport.type==="fallback"){const Z=t.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return Z?Z.value:t.transport}return t.transport})(),B=a??(s?[s]:void 0);let $=[];B&&($=[B.flatMap(P=>Im({abi:[P],eventName:P.name,args:n}))],s&&($=$[0]));const{unsubscribe:U}=await M.subscribe({params:["logs",{address:e,topics:$}],onData(Z){if(!N)return;const P=Z.result;try{const{eventName:R,args:j}=mE({abi:B??[],data:P.data,topics:P.topics,strict:w}),F=Pa(P,{args:j,eventName:R});d([F])}catch(R){let j,F;if(R instanceof kh||R instanceof ly){if(b)return;j=R.abiItem.name,F=R.abiItem.inputs?.some(q=>!("name"in q&&q.name))}const z=Pa(P,{args:F?[]:{},eventName:j});d([z])}},onError(Z){u?.(Z)}});k=U,N||k()}catch(M){u?.(M)}})(),()=>k()})()}function DK(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const h=$n(["watchPendingTransactions",t.uid,e,a]);return Oa(h,{onTransactions:r,onError:n},m=>{let b;const v=Bd(async()=>{try{if(!b)try{b=await Ye(t,Ak,"createPendingTransactionFilter")({});return}catch(A){throw v(),A}const w=await Ye(t,_y,"getFilterChanges")({filter:b});if(w.length===0)return;if(e)m.onTransactions(w);else for(const A of w)m.onTransactions([A])}catch(w){m.onError?.(w)}},{emitOnBegin:!0,interval:a});return async()=>{b&&await Ye(t,Ey,"uninstallFilter")({filter:b}),v()}})})():(()=>{let h=!0,m=()=>h=!1;return(async()=>{try{const{unsubscribe:b}=await t.transport.subscribe({params:["newPendingTransactions"],onData(v){if(!h)return;const w=v.result;r([w])},onError(v){n?.(v)}});m=b,h||m()}catch(b){n?.(b)}})(),()=>m()})()}function jK(t){const{scheme:e,statement:n,...r}=t.match(MK)?.groups??{},{chainId:s,expirationTime:a,issuedAt:l,notBefore:u,requestId:d,...h}=t.match(VK)?.groups??{},m=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...h,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...l?{issuedAt:new Date(l)}:{},...u?{notBefore:new Date(u)}:{},...d?{requestId:d}:{},...m?{resources:m}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const MK=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,VK=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function LK(t){const{address:e,domain:n,message:r,nonce:s,scheme:a,time:l=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&l>=r.expirationTime||r.notBefore&&l<r.notBefore)return!1;try{if(!r.address||!Es(r.address,{strict:!1})||e&&!Dm(r.address,e))return!1}catch{return!1}return!0}async function BK(t,e){const{address:n,domain:r,message:s,nonce:a,scheme:l,signature:u,time:d=new Date,...h}=e,m=jK(s);if(!m.address||!LK({address:n,domain:r,message:m,nonce:a,scheme:l,time:d}))return!1;const v=Sk(s);return Cy(t,{address:m.address,hash:v,signature:u,...h})}function UK(t){return{call:e=>wy(t,e),createAccessList:e=>Ek(t,e),createBlockFilter:()=>hW(t),createContractEventFilter:e=>y3(t,e),createEventFilter:e=>Tk(t,e),createPendingTransactionFilter:()=>Ak(t),estimateContractGas:e=>UH(t,e),estimateGas:e=>hE(t,e),getBalance:e=>mW(t,e),getBlobBaseFee:()=>pW(t),getBlock:e=>_i(t,e),getBlockNumber:e=>Lm(t,e),getBlockTransactionCount:e=>gW(t,e),getBytecode:e=>sw(t,e),getChainId:()=>Vd(t),getCode:e=>sw(t,e),getContractEvents:e=>U3(t,e),getEip712Domain:e=>bW(t,e),getEnsAddress:e=>QG(t,e),getEnsAvatar:e=>uW(t,e),getEnsName:e=>dW(t,e),getEnsResolver:e=>fW(t,e),getEnsText:e=>_k(t,e),getFeeHistory:e=>wW(t,e),estimateFeesPerGas:e=>TH(t,e),getFilterChanges:e=>_y(t,e),getFilterLogs:e=>_W(t,e),getGasPrice:()=>uE(t),getLogs:e=>gE(t,e),getProof:e=>oK(t,e),estimateMaxPriorityFeePerGas:e=>EH(t,e),getStorageAt:e=>lK(t,e),getTransaction:e=>ME(t,e),getTransactionConfirmations:e=>cK(t,e),getTransactionCount:e=>dE(t,e),getTransactionReceipt:e=>U0(t,e),multicall:e=>uK(t,e),prepareTransactionRequest:e=>gy(t,e),readContract:e=>Ys(t,e),sendRawTransaction:e=>EE(t,e),simulate:e=>fw(t,e),simulateBlocks:e=>fw(t,e),simulateCalls:e=>xK(t,e),simulateContract:e=>kG(t,e),verifyHash:e=>Cy(t,e),verifyMessage:e=>RK(t,e),verifySiweMessage:e=>BK(t,e),verifyTypedData:e=>IK(t,e),uninstallFilter:e=>Ey(t,e),waitForTransactionReceipt:e=>kK(t,e),watchBlocks:e=>PK(t,e),watchBlockNumber:e=>o8(t,e),watchContractEvent:e=>LG(t,e),watchEvent:e=>OK(t,e),watchPendingTransactions:e=>DK(t,e)}}function FK(t){const{key:e="public",name:n="Public Client"}=t;return bk({...t,key:e,name:n,type:"publicClient"}).extend(UK)}async function zK(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:l}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ge(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:l?Object.values(l).map(({url:u})=>u):void 0}]},{dedupe:!0,retryCount:0})}function $K(t,e){const{abi:n,args:r,bytecode:s,...a}=e,l=xy({abi:n,args:r,bytecode:s});return Ty(t,{...a,...a.authorizationList?{to:null}:{},data:l})}async function qK(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Cm(n))}async function HK(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Sn(n):void 0,a=r?[s?.address,[Ge(r)]]:[s?.address],l=await t.request({method:"wallet_getCapabilities",params:a}),u={};for(const[d,h]of Object.entries(l)){u[Number(d)]={};for(let[m,b]of Object.entries(h))m==="addSubAccount"&&(m="unstable_addSubAccount"),u[Number(d)][m]=b}return typeof r=="number"?u[r]:u}async function GK(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function l8(t,e){const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new kc({docsPath:"/docs/eip7702/prepareAuthorization"});const a=Sn(n),l=(()=>{if(e.executor)return e.executor==="self"?e.executor:Sn(e.executor)})(),u={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof u.chainId>"u"&&(u.chainId=t.chain?.id??await Ye(t,Vd,"getChainId")({})),typeof u.nonce>"u"&&(u.nonce=await Ye(t,dE,"getTransactionCount")({address:a.address,blockTag:"pending"}),(l==="self"||l?.address&&Dm(l.address,a.address))&&(u.nonce+=1)),u}async function WK(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>J_(n))}async function YK(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function KK(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function ZK(t,e){const{account:n=t.account}=e;if(!n)throw new kc({docsPath:"/docs/eip7702/signAuthorization"});const r=Sn(n);if(!r.signAuthorization)throw new B0({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await l8(t,e);return r.signAuthorization(s)}async function QK(t,{account:e=t.account,message:n}){if(!e)throw new kc({docsPath:"/docs/actions/wallet/signMessage"});const r=Sn(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?ld(n):n.raw instanceof Uint8Array?ka(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function XK(t,e){const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new kc({docsPath:"/docs/actions/wallet/signTransaction"});const a=Sn(n);Rc({account:a,...e});const l=await Ye(t,Vd,"getChainId")({});r!==null&&dk({currentChainId:l,chain:r});const d=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Md;return a.signTransaction?a.signTransaction({...s,chainId:l},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...d(s),chainId:Ge(l),from:a.address}]},{retryCount:0})}async function JK(t,e){const{account:n=t.account,domain:r,message:s,primaryType:a}=e;if(!n)throw new kc({docsPath:"/docs/actions/wallet/signTypedData"});const l=Sn(n),u={EIP712Domain:Ck({domain:r}),...e.types};if(Nk({domain:r,message:s,primaryType:a,types:u}),l.signTypedData)return l.signTypedData({domain:r,message:s,primaryType:a,types:u});const d=MW({domain:r,message:s,primaryType:a,types:u});return t.request({method:"eth_signTypedData_v4",params:[l.address,d]},{retryCount:0})}async function eZ(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ge(e)}]},{retryCount:0})}async function tZ(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function nZ(t){return{addChain:e=>zK(t,e),deployContract:e=>$K(t,e),getAddresses:()=>qK(t),getCallsStatus:e=>gk(t,e),getCapabilities:e=>HK(t,e),getChainId:()=>Vd(t),getPermissions:()=>GK(t),prepareAuthorization:e=>l8(t,e),prepareTransactionRequest:e=>gy(t,e),requestAddresses:()=>WK(t),requestPermissions:e=>YK(t,e),sendCalls:e=>zG(t,e),sendRawTransaction:e=>EE(t,e),sendTransaction:e=>Ty(t,e),showCallsStatus:e=>KK(t,e),signAuthorization:e=>ZK(t,e),signMessage:e=>QK(t,e),signTransaction:e=>XK(t,e),signTypedData:e=>JK(t,e),switchChain:e=>eZ(t,e),waitForCallsStatus:e=>$G(t,e),watchAsset:e=>tZ(t,e),writeContract:e=>BG(t,e)}}function rZ(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return bk({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(nZ)}function c8({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:l,type:u},d){const h=yk();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:a,timeout:l,type:u},request:AW(r,{methods:e,retryCount:s,retryDelay:a,uid:h}),value:d}}function sZ(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=e;return({retryCount:l})=>c8({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??l,retryDelay:a,type:"custom"})}class iZ extends Se{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function aZ(t,e={}){const{batch:n,fetchFn:r,fetchOptions:s,key:a="http",methods:l,name:u="HTTP JSON-RPC",onFetchRequest:d,onFetchResponse:h,retryDelay:m,raw:b}=e;return({chain:v,retryCount:w,timeout:A})=>{const{batchSize:T=1e3,wait:N=0}=typeof n=="object"?n:{},k=e.retryCount??w,M=A??e.timeout??1e4,B=v?.rpcUrls.default.http[0];if(!B)throw new iZ;const $=IW(B,{fetchFn:r,fetchOptions:s,onRequest:d,onResponse:h,timeout:M});return c8({key:a,methods:l,name:u,async request({method:U,params:Z}){const P={method:U,params:Z},{schedule:R}=ck({id:B,wait:N,shouldSplitBatch(q){return q.length>T},fn:q=>$.request({body:q}),sort:(q,D)=>q.id-D.id}),j=async q=>n?R(q):[await $.request({body:q})],[{error:F,result:z}]=await j(P);if(b)return{error:F,result:z};if(F)throw new aE({body:P,error:F,url:B});return z},retryCount:k,retryDelay:m,timeout:M,type:"http"},{fetchOptions:s,url:B})}}const p0=NW({id:545,name:"Flow EVM Testnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://testnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Flow Diver",url:"https://evm-testnet.flowscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:137518}},testnet:!0,blockTime:800}),I1=[{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"applicationId",type:"string"},{indexed:!1,internalType:"enum TalentAIApplications.ApplicationStatus",name:"status",type:"uint8"}],name:"ApplicationStatusUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"applicationId",type:"string"},{indexed:!0,internalType:"string",name:"jobId",type:"string"},{indexed:!0,internalType:"string",name:"candidateId",type:"string"}],name:"ApplicationSubmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"candidateId",type:"string"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"CandidateRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"companyId",type:"string"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"CompanyRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"jobId",type:"string"},{indexed:!0,internalType:"string",name:"companyId",type:"string"},{indexed:!1,internalType:"string",name:"title",type:"string"}],name:"JobPosted",type:"event"},{inputs:[{internalType:"string",name:"_jobId",type:"string"},{internalType:"string",name:"_companyId",type:"string"},{internalType:"string",name:"_title",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string[]",name:"_requirements",type:"string[]"},{internalType:"string[]",name:"_skills",type:"string[]"},{internalType:"enum TalentAIApplications.Location",name:"_location",type:"uint8"},{internalType:"string[]",name:"_salaryRange",type:"string[]"},{internalType:"enum TalentAIApplications.JobType",name:"_jobType",type:"uint8"}],name:"postJob",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_candidateId",type:"string"},{internalType:"string",name:"_name",type:"string"},{internalType:"string[]",name:"_description",type:"string[]"},{internalType:"string[]",name:"_contacts",type:"string[]"},{internalType:"string[]",name:"_education",type:"string[]"},{internalType:"string[]",name:"_skills",type:"string[]"},{internalType:"string[]",name:"_resumePath",type:"string[]"},{internalType:"string",name:"_profileScore",type:"string"}],name:"registerCandidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_companyId",type:"string"},{internalType:"string",name:"_image",type:"string"},{internalType:"string",name:"_name",type:"string"},{internalType:"string[]",name:"_contacts",type:"string[]"},{internalType:"string",name:"_description",type:"string"},{internalType:"string[]",name:"_misc",type:"string[]"},{internalType:"string",name:"_companyScore",type:"string"}],name:"registerCompany",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_applicationId",type:"string"},{internalType:"string",name:"_jobId",type:"string"},{internalType:"string",name:"_candidateId",type:"string"},{internalType:"string",name:"_applicationDate",type:"string"}],name:"submitApplication",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_applicationId",type:"string"},{internalType:"enum TalentAIApplications.ApplicationStatus",name:"_status",type:"uint8"}],name:"updateApplicationStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_candidateId",type:"string"},{internalType:"string",name:"_newScore",type:"string"}],name:"updateCandidateProfileScore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_companyId",type:"string"},{internalType:"string",name:"_newScore",type:"string"}],name:"updateCompanyProfileScore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"applications",outputs:[{internalType:"string",name:"applicationId",type:"string"},{internalType:"string",name:"jobId",type:"string"},{internalType:"string",name:"candidateId",type:"string"},{internalType:"string",name:"applicationDate",type:"string"},{internalType:"enum TalentAIApplications.ApplicationStatus",name:"status",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"candidates",outputs:[{internalType:"string",name:"candidateId",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"profileScore",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"companies",outputs:[{internalType:"string",name:"companyId",type:"string"},{internalType:"string",name:"image",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"companyScore",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllApplications",outputs:[{components:[{internalType:"string",name:"applicationId",type:"string"},{internalType:"string",name:"jobId",type:"string"},{internalType:"string",name:"candidateId",type:"string"},{internalType:"string",name:"applicationDate",type:"string"},{internalType:"enum TalentAIApplications.ApplicationStatus",name:"status",type:"uint8"}],internalType:"struct TalentAIApplications.Application[]",name:"result",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCandidates",outputs:[{components:[{internalType:"string",name:"candidateId",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string[]",name:"description",type:"string[]"},{internalType:"string[]",name:"contacts",type:"string[]"},{internalType:"string[]",name:"education",type:"string[]"},{internalType:"string[]",name:"skills",type:"string[]"},{internalType:"string[]",name:"resumePath",type:"string[]"},{internalType:"string",name:"profileScore",type:"string"}],internalType:"struct TalentAIApplications.Candidate[]",name:"result",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCompanies",outputs:[{components:[{internalType:"string",name:"companyId",type:"string"},{internalType:"string",name:"image",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string[]",name:"contacts",type:"string[]"},{internalType:"string",name:"description",type:"string"},{internalType:"string[]",name:"misc",type:"string[]"},{internalType:"string",name:"companyScore",type:"string"}],internalType:"struct TalentAIApplications.Company[]",name:"result",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllJobs",outputs:[{components:[{internalType:"string",name:"jobId",type:"string"},{internalType:"string",name:"companyId",type:"string"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string[]",name:"requirements",type:"string[]"},{internalType:"string[]",name:"skills",type:"string[]"},{internalType:"enum TalentAIApplications.Location",name:"location",type:"uint8"},{internalType:"string[]",name:"salaryRange",type:"string[]"},{internalType:"enum TalentAIApplications.JobType",name:"jobType",type:"uint8"},{internalType:"enum TalentAIApplications.JobStatus",name:"status",type:"uint8"}],internalType:"struct TalentAIApplications.Job[]",name:"result",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_applicationId",type:"string"}],name:"getApplication",outputs:[{components:[{internalType:"string",name:"applicationId",type:"string"},{internalType:"string",name:"jobId",type:"string"},{internalType:"string",name:"candidateId",type:"string"},{internalType:"string",name:"applicationDate",type:"string"},{internalType:"enum TalentAIApplications.ApplicationStatus",name:"status",type:"uint8"}],internalType:"struct TalentAIApplications.Application",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_candidateId",type:"string"}],name:"getCandidate",outputs:[{components:[{internalType:"string",name:"candidateId",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string[]",name:"description",type:"string[]"},{internalType:"string[]",name:"contacts",type:"string[]"},{internalType:"string[]",name:"education",type:"string[]"},{internalType:"string[]",name:"skills",type:"string[]"},{internalType:"string[]",name:"resumePath",type:"string[]"},{internalType:"string",name:"profileScore",type:"string"}],internalType:"struct TalentAIApplications.Candidate",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_companyId",type:"string"}],name:"getCompany",outputs:[{components:[{internalType:"string",name:"companyId",type:"string"},{internalType:"string",name:"image",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string[]",name:"contacts",type:"string[]"},{internalType:"string",name:"description",type:"string"},{internalType:"string[]",name:"misc",type:"string[]"},{internalType:"string",name:"companyScore",type:"string"}],internalType:"struct TalentAIApplications.Company",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_jobId",type:"string"}],name:"getJob",outputs:[{components:[{internalType:"string",name:"jobId",type:"string"},{internalType:"string",name:"companyId",type:"string"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string[]",name:"requirements",type:"string[]"},{internalType:"string[]",name:"skills",type:"string[]"},{internalType:"enum TalentAIApplications.Location",name:"location",type:"uint8"},{internalType:"string[]",name:"salaryRange",type:"string[]"},{internalType:"enum TalentAIApplications.JobType",name:"jobType",type:"uint8"},{internalType:"enum TalentAIApplications.JobStatus",name:"status",type:"uint8"}],internalType:"struct TalentAIApplications.Job",name:"",type:"tuple"}],stateMutability:"view",type:"function"}],th="0x519a9057Bfe3e6bab6EDb7128b7Dba44d2adC083",dN=!1;function oZ({children:t}){const[e,n]=O.useState(null),[r,s]=O.useState(!0),[a,l]=O.useState([]),[u,d]=O.useState([]),[h,m]=O.useState([]),[b,v]=O.useState([]),[w,A]=O.useState(null),[T,N]=O.useState(void 0),[k,M]=O.useState(void 0),[B,$]=O.useState(null),[U,Z]=O.useState([]);O.useEffect(()=>{const Q=FK({chain:p0,transport:aZ()});N(Q)},[]);const P=async()=>{if(typeof window.ethereum<"u")try{const Q=window.ethereum,W=await Q.request({method:"eth_requestAccounts"});if(W.length>0){try{await Q.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x221"}]})}catch(G){G.code===4902&&await Q.request({method:"wallet_addEthereumChain",params:[{chainId:"0x221",chainName:"Flow EVM Testnet",rpcUrls:["https://testnet.evm.nodes.onflow.org"],nativeCurrency:{name:"Flow",symbol:"FLOW",decimals:18},blockExplorerUrls:["https://evm-testnet.flowscan.io"]}]})}$(W[0]);const se=rZ({account:W[0],chain:p0,transport:sZ(Q)});M(se),console.log("Wallet connected:",W[0])}}catch(Q){console.error("User denied account access or error:",Q)}else console.log("Please install Metamask!"),alert("Please install Metamask to use blockchain features.")};O.useEffect(()=>{const Q=DR(_s,W=>{W?n(se=>se?.id===W.uid?se:{id:W.uid,email:W.email||"",name:W.displayName||"",type:"candidate",createdAt:new Date().toISOString()}):(n(null),l([]),m([]),v([]),s(!1))});return()=>Q()},[]),O.useEffect(()=>{if(!e?.id){s(!1);return}s(!0);const Q=Yr(Rr),W=da(Fn(Q,"users",e.id),fe=>{if(fe.exists()){const ye=fe.data();let ge=ye.type;!ge&&ye.role==="recruiter"&&(ge="company");const Ce={...ye,type:ge||"candidate",id:e.id};n(Oe=>JSON.stringify(Oe)===JSON.stringify(Ce)?Oe:Ce)}s(!1)},fe=>{console.error("User listener error:",fe),s(!1)}),se=da(Ao(Q,"jobs"),fe=>{const ye=fe.docs.map(ge=>({id:ge.id,...ge.data()}));d(ye)},fe=>console.error("Jobs listener error:",fe)),G=ku(Ao(Q,"users"),Pu("verification.status","==","verified")),ne=da(G,fe=>{const ye=fe.docs.map(ge=>ge.id);Z(ye)},fe=>console.error("Verified companies listener error:",fe));return()=>{W(),se(),ne()}},[e?.id]),O.useEffect(()=>{if(!e?.id)return;const Q=Yr(Rr),W=[];if(e.type==="company")try{const se=ku(Ao(Q,"jobs"),Pu("companyId","==",e.id)),G=da(se,ge=>{l(ge.docs.map(Ce=>({id:Ce.id,...Ce.data()})))},ge=>console.error("Company jobs listener failed:",ge));W.push(G);const ne=ku(Ao(Q,"applications"),Pu("companyId","==",e.id)),fe=da(ne,ge=>{v(ge.docs.map(Ce=>({...Ce.data(),id:Ce.id})))},ge=>console.error("Company apps listener failed:",ge));W.push(fe);const ye=da(Fn(Q,"organizations",e.id),ge=>{ge.exists()?A({id:ge.id,...ge.data()}):A(null)},ge=>console.error("Organization listener failed:",ge));W.push(ye)}catch(se){console.error("Error setting up company listeners:",se)}else if(e.type==="candidate")try{const se=ku(Ao(Q,"applications"),Pu("candidateId","==",e.id)),G=da(se,ne=>{console.log("Candidate apps listener fired! Docs:",ne.docs.length),ne.docChanges().forEach(fe=>{console.log("Document change:",fe.type,fe.doc.data())}),m(ne.docs.map(fe=>({...fe.data(),id:fe.id})))},ne=>console.error("Candidate apps listener failed:",ne));W.push(G)}catch(se){console.error("Error setting up candidate listeners:",se)}return()=>{W.forEach(se=>se())}},[e?.id,e?.type]);const R=async(Q,W,se)=>{console.warn("GlobalContext login called - implementation relies on Firebase Auth listener")},j=async(Q,W)=>{console.warn("GlobalContext register called")},F=()=>{_s.signOut(),$(null),M(void 0)},z=async(Q,W)=>{const se=Yr(Rr);try{console.log(`[GlobalContext] Updating applications/${Q} to ${W}`),await uc(Fn(se,"applications",Q),{status:W},{merge:!0});const{getDocFromServer:G}=await $l(async()=>{const{getDocFromServer:ne}=await Promise.resolve().then(()=>Xf);return{getDocFromServer:ne}},void 0);try{const fe=(await G(Fn(se,"applications",Q))).data();console.log(`[GlobalContext] Server Verification Read for ${Q}:`,fe),fe?.status!==W&&console.error(`CRITICAL ERROR: Server verification failed. Expected ${W}, got ${fe?.status}`)}catch(ne){console.error("Verification read failed:",ne)}v(ne=>ne.map(fe=>fe.id===Q?{...fe,status:W}:fe))}catch(G){console.error("Error updating application status:",G),alert("Failed to update status. Check console.")}},q=async Q=>{const W=await Q.arrayBuffer(),se=await window.crypto.subtle.digest("SHA-256",W);return Array.from(new Uint8Array(se)).map(fe=>fe.toString(16).padStart(2,"0")).join("")},D=async(Q,W,se,G,ne)=>{if(!e?.id){alert("Please log in to verify documents.");return}console.log("uploadZKProof called",{applicationId:Q,proofType:W,file:se,userType:G,description:ne});const fe=Yr(Rr);try{const ye=await q(se);console.log(`[VERITRUST] Computed Document Fingerprint (Hash): ${ye}`),console.log("[VERITRUST] Checking Registry for this fingerprint...");const{getDoc:ge}=await $l(async()=>{const{getDoc:Ee}=await Promise.resolve().then(()=>Xf);return{getDoc:Ee}},void 0),Ce=Fn(fe,"issued_documents",ye),Oe=await ge(Ce);if(Oe.exists()){const Ee=Oe.data();if(Ee?.status!=="valid")throw console.error(`[VERITRUST] Verification FAILED. Document status is ${Ee?.status}.`),alert("Verification Failed! This document is not in the official registry."),new Error(`Document is ${Ee?.status}`);console.log("[VERITRUST] Document Validated in Registry.")}else console.log("[VERITRUST] Document not in registry. Proceeding as VALID (Open Verification Mode).");if(console.log("[VERITRUST] Verification SUCCESS! Document found:",Oe.data()),await new Promise(Ee=>setTimeout(Ee,2e3)),G==="candidate"){const Ee={isVerified:!0,proofId:`zkp_${ye.substring(0,10)}`,verifiedAt:new Date().toISOString(),originalDocHash:ye},Ve={txHash:`0x${ye}`,network:"Simulated Ethereum",blockNumber:Math.floor(Math.random()*1e7),timestamp:new Date().toISOString()};await oh(Fn(fe,"users",e.id),{verification:{status:"verified",lastUpdated:new Date().toISOString(),zkProofId:Ee.proofId},zkVerification:Ee,blockchainStamp:Ve}),console.log("zkVerification updated for candidate"),alert(`Document Verified Successfully!

Hash: ${ye}`)}else console.warn("Skipping candidate update (User type mismatch or missing logic for company)")}catch(ye){throw console.error("Error during verification:",ye),ye}},me=async Q=>{if(e?.type!=="company"||!e?.id){console.warn("verifyCompany called but user is invalid:",e),alert("Please log in as a Company to verify documents.");return}if(!k||!B){alert("Please connect your wallet first!");return}if(!Q){alert("Please upload a verification document.");return}try{console.log("Initiating blockchain verification for:",e.id);const W=await q(Q);console.log(`[VERITRUST] Computed Company Doc Hash: ${W}`);const se=Yr(Rr),{getDoc:G,setDoc:ne}=await $l(async()=>{const{getDoc:Xe,setDoc:Dt}=await Promise.resolve().then(()=>Xf);return{getDoc:Xe,setDoc:Dt}},void 0),fe=Fn(se,"issued_documents",W),ye=await G(fe);if(ye.exists()){const Xe=ye.data();if(Xe?.status!=="valid")throw console.error(`[VERITRUST] Company Verification FAILED. Document status is ${Xe?.status}.`),alert("Verification Failed! This document is not in the official registry."),new Error(`Document is ${Xe?.status}`);console.log("[VERITRUST] Document Validated in Registry.")}else console.log("[VERITRUST] Document not in registry. Proceeding as VALID (Open Verification Mode).");console.log("[VERITRUST] Document Validated in Registry. Proceeding to Blockchain...");const ge=[e.id,"https://via.placeholder.com/150",e.name||"Unknown Company",[e.email],"Verified Company",[],"100"];let Ce="",Oe=!1;if(T)try{const Xe=await T.readContract({address:th,abi:I1,functionName:"companies",args:[e.id]});Xe&&Xe[2]&&Xe[2]!==""&&(console.log("Company already registered on-chain."),Oe=!0)}catch(Xe){console.warn("Error checking existence:",Xe)}Oe?(console.log("Company exists. Running fallback transaction (updateCompanyProfileScore) to demonstrate liveness..."),Ce=await k.writeContract({address:th,abi:I1,functionName:"updateCompanyProfileScore",args:[e.id,"100"],chain:p0,account:B})):(console.log("Registering new company on-chain..."),Ce=await k.writeContract({address:th,abi:I1,functionName:"registerCompany",args:ge,chain:p0,account:B})),console.log("Transaction sent! Hash:",Ce);const Ee={isVerified:!0,proofId:`zkp_${W.substring(0,10)}`,verifiedAt:new Date().toISOString(),originalDocHash:W},Ve={txHash:Ce,network:"Flow EVM Testnet",blockNumber:0,timestamp:new Date().toISOString()};await oh(Fn(se,"users",e.id),{verification:{status:"verified",lastUpdated:new Date().toISOString(),targetSmartContract:th,onChainTxHash:Ce,zkProofId:Ee.proofId},zkVerification:Ee,blockchainStamp:Ve});try{await ne(Fn(se,"organizations",e.id),{verification:{zkVerified:!0,blockchainStamped:!0,verifiedAt:new Date().toISOString(),txHash:Ce}},{merge:!0})}catch(Xe){console.warn("Could not update organization verification status",Xe)}const{getDocs:nt,writeBatch:Qe}=await $l(async()=>{const{getDocs:Xe,writeBatch:Dt}=await Promise.resolve().then(()=>Xf);return{getDocs:Xe,writeBatch:Dt}},void 0),et=ku(Ao(se,"jobs"),Pu("companyId","==",e.id)),st=await nt(et);if(!st.empty){const Xe=Qe(se);st.docs.forEach(Dt=>{Xe.update(Dt.ref,{"company.verification":{status:"verified",verifiedAt:new Date().toISOString()}})}),await Xe.commit()}console.log("Company verified on blockchain and database updated!"),alert(`Verification Request Sent!

Doc Hash: ${W}
Tx Hash: ${Ce}`)}catch(W){console.error("Error verifying company on blockchain:",W),alert("Transaction failed! See console for details.")}},ie=async Q=>{if(!e?.id)return;const W=Yr(Rr);try{await uc(Fn(W,"organizations",e.id),Q,{merge:!0})}catch(se){throw console.error("Error updating organization:",se),se}},Y=async()=>{if(!e?.id)return;const Q=Yr(Rr),{deleteField:W}=await $l(async()=>{const{deleteField:se}=await Promise.resolve().then(()=>Xf);return{deleteField:se}},void 0);try{console.log("Resetting verification for user:",e.id),await oh(Fn(Q,"users",e.id),{verification:W(),zkVerification:W(),blockchainStamp:W()}),e.type==="company"&&await oh(Fn(Q,"organizations",e.id),{verification:W()}),alert("Verification Reset! You can now demonstrate the flow again.")}catch(se){console.error("Error resetting verification:",se),alert("Failed to reset verification.")}};return g.jsx(D4.Provider,{value:{user:e,login:R,register:j,logout:F,loading:r,jobPublicClient:T,jobWalletClient:k,contractAddress:th,companyJobs:a,allJobs:u,myApplication:h,companyApplications:b,uploadZKProof:D,updateApplicationStatus:z,verifyCompany:me,organization:w,updateOrganization:ie,connectWallet:P,walletAddress:B,verifiedCompanyIds:U,resetVerification:Y},children:t})}const lZ=({message:t="Loading..."})=>g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600",children:t})]})}),ei=()=>O.useContext(D4),cZ=({children:t,allowedType:e})=>{const[n,r]=O.useState(void 0);if(O.useEffect(()=>O4(l=>r(l)),[]),n===void 0)return null;if(!n)return g.jsx(Gv,{to:"/",replace:!0});const s=localStorage.getItem("role")??null;return s?e&&s!==e?g.jsx(Gv,{to:s==="candidate"?"/candidate":"/company",replace:!0}):g.jsx(g.Fragment,{children:t}):g.jsx(Gv,{to:"/option",replace:!0})},uZ=()=>{const t=om(),e=Vi(),{connectWallet:n,walletAddress:r}=ei(),s=e.pathname.split("/")[2],a=e.pathname.startsWith("/candidate")?"candidate":e.pathname.startsWith("/company")?"company":null;console.log("Active Tab:",s);const d=a==="candidate"?[{id:"overview",label:"Workspace",icon:Po},{id:"jobs",label:"Jobs",icon:nc},{id:"commondashboard",label:"Submissions",icon:uh},{id:"profile",label:"My Profile",icon:Po}]:[{id:"overview",label:"Console",icon:uh},{id:"jobs",label:"Jobs",icon:nc},{id:"commondashboard",label:"Review Queue",icon:uh},{id:"profile",label:"Organization",icon:Po}],h=()=>a==="candidate"?"/candidate":"/company",m=R=>{const j=h();t(R==="overview"?`${j}`:`${j}/${R}`)},b=async()=>{t("/")},v=a==="candidate"?"Student Workspace":a==="company"?"Recruiter Console":"Workspace",w=a==="candidate",A=a==="company",T=w?"bg-[#0F766E] border-[#115E59]":A?"bg-[#0B1F3A] border-[#1E293B]":"bg-white border-gray-200",N=w?"bg-white/10 text-white shadow-sm ring-1 ring-white/20":A?"bg-[#1E293B] text-white shadow-sm ring-1 ring-white/10":"bg-blue-50 text-blue-700 border border-blue-200",k=w||A?"text-white/70 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900",M=w||A?"text-white":"text-blue-700",B=w||A?"text-white/60":"text-gray-500",$=w?"bg-white/10 text-white":A?"bg-blue-600 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 text-white",U=w||A?"text-white":"text-gray-900",Z=w||A?"text-white/60":"text-gray-500",P=w||A?"text-white/70 hover:bg-white/10 hover:text-white":"text-gray-600 hover:bg-red-50 hover:text-red-600";return g.jsxs("div",{className:`w-64 border-r h-screen flex flex-col transition-colors duration-300 ${T}`,children:[g.jsx("div",{className:`p-6 border-b ${w?"border-white/10":A?"border-white/5":"border-gray-200"}`,children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm overflow-hidden ${$}`,children:g.jsx(jr,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h1",{className:`text-xl font-bold tracking-tight font-serif ${U}`,children:"VeriTrust"}),g.jsx("p",{className:`text-sm ${Z}`,children:v})]})]})}),g.jsx("nav",{className:"flex-1 p-4 space-y-1",children:d.map(R=>{const j=R.icon,F=s===void 0&&R.id==="overview"||s===R.id;return g.jsxs("button",{onClick:()=>m(R.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 ${F?N:k}`,children:[g.jsx(j,{className:`w-5 h-5 ${F?M:B}`}),g.jsx("span",{className:"font-medium font-sans",children:R.label})]},R.id)})}),g.jsxs("div",{className:`p-4 border-t ${w?"border-white/10":A?"border-white/5":"border-gray-200"}`,children:[g.jsxs("button",{onClick:n,className:`w-full flex items-center space-x-3 px-4 py-2.5 rounded-xl transition-colors mb-2 ${r?w||A?"bg-green-500/20 text-green-400":"bg-green-100 text-green-700":w||A?"bg-white/10 hover:bg-white/20 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:[g.jsx(AM,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm font-medium",children:r?`${r.slice(0,6)}...${r.slice(-4)}`:"Connect Wallet"})]}),g.jsxs("button",{onClick:b,className:`w-full flex items-center space-x-3 px-4 py-2.5 rounded-xl transition-colors ${P}`,children:[g.jsx(iM,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})};function fN(){return g.jsxs("div",{className:"flex h-screen bg-gray-50",children:[g.jsx(uZ,{}),g.jsx("div",{className:"flex-1 overflow-auto p-10",children:g.jsx(XD,{})})]})}const sr=[];for(let t=0;t<256;++t)sr.push((t+256).toString(16).slice(1));function dZ(t,e=0){return(sr[t[e+0]]+sr[t[e+1]]+sr[t[e+2]]+sr[t[e+3]]+"-"+sr[t[e+4]]+sr[t[e+5]]+"-"+sr[t[e+6]]+sr[t[e+7]]+"-"+sr[t[e+8]]+sr[t[e+9]]+"-"+sr[t[e+10]]+sr[t[e+11]]+sr[t[e+12]]+sr[t[e+13]]+sr[t[e+14]]+sr[t[e+15]]).toLowerCase()}let k1;const fZ=new Uint8Array(16);function hZ(){if(!k1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");k1=crypto.getRandomValues.bind(crypto)}return k1(fZ)}const mZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hN={randomUUID:mZ};function pZ(t,e,n){t=t||{};const r=t.random??t.rng?.()??hZ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dZ(r)}function u8(t,e,n){return hN.randomUUID&&!t?hN.randomUUID():pZ(t)}const gZ=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,a]=O.useState("all"),[l,u]=O.useState(!1),{user:d,allJobs:h,myApplication:m,verifiedCompanyIds:b}=ei(),v=(m||[]).map(T=>T.jobId),w=(h||[]).filter(T=>{const N=T.title.toLowerCase().includes(t.toLowerCase())||T.description.toLowerCase().includes(t.toLowerCase())||(T.company?.companyName||"").toLowerCase().includes(t.toLowerCase()),k=!n||T.location.toLowerCase().includes(n.toLowerCase()),M=s==="all"?!0:s==="remote"?T.location.toLowerCase().includes("remote"):T.type===s;return N&&k&&M}),A=async T=>{if(!d){alert("Please sign in to apply.");return}if(d.type!=="candidate"){alert("Only candidates can apply to jobs.");return}const N=Yr(Rr);try{const k=u8(),M=T.company?.id;if(console.log("JobSearch: APPLICATION WRITE companyId:",M,"source: job.company.id"),!M){console.error("Critical Data Error: Job is missing denormalized 'company' object or ID.",T),alert("Cannot apply: The job posting data is incomplete (missing Employer ID). Please contact support.");return}await R4(Ao(N,"applications"),{id:k,jobId:T.id,candidateId:d.id,companyId:M,status:"pending",appliedAt:new Date().toISOString(),job:T,candidate:{candidateId:d.id,name:d.name,email:d.email}}),console.log("Applied to job:",T.id)}catch(k){console.error("Error applying to job:",k),alert("Failed to apply. Please try again.")}};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-teal-100 shadow-md bg-gradient-to-r from-teal-50/80 to-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-100/30 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),g.jsx("h1",{className:"text-4xl font-serif font-bold text-teal-950 relative z-10",children:"Find Opportunities"}),g.jsx("p",{className:"text-teal-800/80 mt-2 font-medium text-lg relative z-10",children:"Browse verified openings and submit your student profile"})]}),g.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-200",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1 relative group",children:[g.jsx(ax,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5 group-focus-within:text-teal-600 transition-colors"}),g.jsx("input",{type:"text",value:t,onChange:T=>e(T.target.value),className:"w-full pl-12 pr-4 py-3.5 border border-slate-200 rounded-xl focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 focus:outline-none transition-all placeholder:text-slate-400 font-medium",placeholder:"Search jobs, organizations, or skills..."})]}),g.jsxs("div",{className:"relative md:w-72 group",children:[g.jsx(rc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5 group-focus-within:text-teal-600 transition-colors"}),g.jsx("input",{type:"text",value:n,onChange:T=>r(T.target.value),className:"w-full pl-12 pr-4 py-3.5 border border-slate-200 rounded-xl focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 focus:outline-none transition-all placeholder:text-slate-400 font-medium",placeholder:"Location..."})]}),g.jsxs("button",{onClick:()=>u(!l),className:`px-6 py-3.5 border rounded-xl flex items-center justify-center space-x-2 font-semibold transition-all ${l?"bg-teal-50 border-teal-200 text-teal-700":"border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300"}`,children:[g.jsx(tM,{className:"w-5 h-5"}),g.jsx("span",{children:"Filters"})]})]}),l&&g.jsx("div",{className:"flex space-x-4 pt-4 border-t border-slate-100 animate-in fade-in slide-in-from-top-2",children:g.jsxs("select",{value:s,onChange:T=>a(T.target.value),className:"px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none bg-slate-50 text-slate-700 font-medium",children:[g.jsx("option",{value:"all",children:"All Job Types"}),g.jsx("option",{value:"full-time",children:"Full-time"}),g.jsx("option",{value:"part-time",children:"Part-time"}),g.jsx("option",{value:"contract",children:"Contract"}),g.jsx("option",{value:"remote",children:"Remote"})]})})]})}),g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsxs("p",{className:"text-slate-600 font-medium badge bg-white px-3 py-1 rounded-full border border-slate-200 shadow-sm text-sm",children:[g.jsx("span",{className:"font-bold text-slate-900",children:w.length})," jobs found"]}),g.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[g.jsx("span",{className:"font-medium mr-2",children:"Sort by:"}),g.jsx("button",{className:"text-teal-700 font-bold hover:underline bg-teal-50 px-3 py-1 rounded-full",children:"Relevance"}),g.jsx("button",{className:"text-slate-600 font-medium hover:text-teal-600 hover:bg-slate-100 px-3 py-1 rounded-full transition-colors",children:"Date"}),g.jsx("button",{className:"text-slate-600 font-medium hover:text-teal-600 hover:bg-slate-100 px-3 py-1 rounded-full transition-colors",children:"Salary"})]})]}),g.jsxs("div",{className:"space-y-6",children:[w.map(T=>{const N=v.includes(T.id);return g.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 hover:border-teal-200 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-6",children:[g.jsx("div",{className:"flex-1 w-full",children:g.jsxs("div",{className:"flex items-start space-x-5",children:[g.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl border border-slate-100 shadow-sm flex items-center justify-center group-hover:border-teal-100 group-hover:shadow-md transition-all",children:g.jsx(uh,{className:"w-8 h-8 text-slate-400 group-hover:text-teal-500 transition-colors"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[g.jsx("h3",{className:"text-xl font-bold font-serif text-slate-900 group-hover:text-teal-800 transition-colors",children:T.title}),T.location.toLowerCase().includes("remote")&&g.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide bg-indigo-50 text-indigo-600 border border-indigo-100",children:"Remote"})]}),g.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[g.jsxs("h4",{className:"text-base font-bold text-slate-700 flex items-center gap-2",children:[T.company?.companyName||"Company",T.company?.verification?.status==="verified"||b?.includes(T.companyId)?g.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-full border border-emerald-200 text-[10px] font-bold text-emerald-800 uppercase tracking-wide shadow-sm",children:[g.jsx(jr,{className:"w-3.5 h-3.5"})," Verified"]}):g.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-rose-50 rounded-full border border-rose-200 text-[10px] font-bold text-rose-700 uppercase tracking-wide shadow-sm animate-pulse",children:[g.jsx(jr,{className:"w-3.5 h-3.5"})," Scam Risk"]})]}),g.jsx("span",{className:"text-slate-300",children:""}),g.jsx("span",{className:"text-slate-500 text-sm font-medium",children:T.company?.industry||"Technology"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-slate-500 mb-6",children:[g.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-100",children:[g.jsx(rc,{className:"w-4 h-4 text-slate-400"}),g.jsx("span",{className:"font-medium text-slate-700",children:T.location})]}),g.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-100",children:[g.jsx(Kw,{className:"w-4 h-4 text-slate-400"}),g.jsxs("span",{className:"font-medium text-slate-700",children:["$",T.salary.min.toLocaleString()," - $",T.salary.max.toLocaleString()]})]}),g.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-100",children:[g.jsx(nc,{className:"w-4 h-4 text-slate-400"}),g.jsx("span",{className:"capitalize font-medium text-slate-700",children:T.type.replace("-"," ")})]}),g.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[g.jsx(Yw,{className:"w-4 h-4 text-slate-400"}),g.jsxs("span",{children:["Posted ",new Date(T.postedAt).toLocaleDateString()]})]})]}),g.jsx("p",{className:"text-slate-600 mb-6 line-clamp-2 leading-relaxed text-sm",children:T.description}),g.jsx("div",{className:"flex flex-wrap gap-2",children:(T.skills||[]).map(k=>g.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-lg border border-slate-200 bg-white text-slate-600 shadow-sm",children:k},k))})]})]})}),g.jsxs("div",{className:"flex md:flex-col items-center gap-3 w-full md:w-auto md:min-w-[160px] pt-4 md:pt-0 border-t md:border-t-0 border-slate-100 md:pl-6 md:border-l",children:[N?g.jsxs("div",{className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-emerald-50 text-emerald-700 rounded-xl border border-emerald-200 cursor-default shadow-sm",children:[g.jsx(Ti,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:"Submitted"})]}):g.jsx("button",{onClick:()=>A(T),className:"w-full px-6 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all font-bold text-sm tracking-wide",children:"Submit Profile"}),g.jsxs("div",{className:"flex gap-2 w-full",children:[g.jsx("button",{className:"flex-1 px-4 py-2.5 border border-slate-200 text-slate-600 rounded-xl hover:bg-slate-50 hover:border-slate-300 transition-colors text-sm font-medium",children:"Save"}),g.jsx("button",{className:"flex-1 px-4 py-2.5 border border-slate-200 text-slate-600 rounded-xl hover:bg-slate-50 hover:border-slate-300 transition-colors text-sm font-medium",children:"Details"})]})]})]})},T.id)}),w.length===0&&g.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border-2 border-dashed border-slate-200",children:[g.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6",children:g.jsx(ax,{className:"w-10 h-10 text-slate-300"})}),g.jsx("h3",{className:"text-xl font-serif font-bold text-slate-900 mb-2",children:"No jobs available right now"}),g.jsx("p",{className:"text-slate-500 mb-8 max-w-sm mx-auto",children:"Try adjusting your search criteria or location filters to find more opportunities."}),g.jsx("button",{onClick:()=>{e(""),r(""),a("all")},className:"px-6 py-2.5 bg-teal-50 text-teal-700 hover:bg-teal-100 hover:text-teal-800 rounded-lg font-bold transition-colors",children:"Clear all filters"})]})]})]})};var Bm=t=>t.type==="checkbox",Kl=t=>t instanceof Date,_r=t=>t==null;const d8=t=>typeof t=="object";var Mn=t=>!_r(t)&&!Array.isArray(t)&&d8(t)&&!Kl(t),f8=t=>Mn(t)&&t.target?Bm(t.target)?t.target.checked:t.target.value:t,yZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,h8=(t,e)=>t.has(yZ(e)),bZ=t=>{const e=t.constructor&&t.constructor.prototype;return Mn(e)&&e.hasOwnProperty("isPrototypeOf")},VE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(VE&&(t instanceof Blob||r))&&(n||Mn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!bZ(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=nn(t[s]));else return t;return e}var Ry=t=>/^\w*$/.test(t),rn=t=>t===void 0,Iy=t=>Array.isArray(t)?t.filter(Boolean):[],LE=t=>Iy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(t,e,n)=>{if(!e||!Mn(t))return n;const r=(Ry(e)?[e]:LE(e)).reduce((s,a)=>_r(s)?s:s[a],t);return rn(r)||r===t?rn(t[e])?n:t[e]:r},Kr=t=>typeof t=="boolean",Vt=(t,e,n)=>{let r=-1;const s=Ry(e)?[e]:LE(e),a=s.length,l=a-1;for(;++r<a;){const u=s[r];let d=n;if(r!==l){const h=t[u];d=Mn(h)||Array.isArray(h)?h:isNaN(+s[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}};const vg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ws={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ca={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},m8=$e.createContext(null);m8.displayName="HookFormContext";const ky=()=>$e.useContext(m8);var p8=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const l=a;return e._proxyFormState[l]!==ws.all&&(e._proxyFormState[l]=!r||ws.all),n&&(n[l]=!0),t[l]}});return s};const Py=typeof window<"u"?$e.useLayoutEffect:$e.useEffect;function vZ(t){const e=ky(),{control:n=e.control,disabled:r,name:s,exact:a}=t||{},[l,u]=$e.useState(n._formState),d=$e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Py(()=>n._subscribe({name:s,formState:d.current,exact:a,callback:h=>{!r&&u({...n._formState,...h})}}),[s,r,a]),$e.useEffect(()=>{d.current.isValid&&n._setValid(!0)},[n]),$e.useMemo(()=>p8(l,n,d.current,!1),[l,n])}var Jr=t=>typeof t=="string",g8=(t,e,n,r,s)=>Jr(t)?(r&&e.watch.add(t),Pe(n,t,s)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Pe(n,a))):(r&&(e.watchAll=!0),n),pw=t=>_r(t)||!d8(t);function pa(t,e,n=new WeakSet){if(pw(t)||pw(e))return t===e;if(Kl(t)&&Kl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const l=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const u=e[a];if(Kl(l)&&Kl(u)||Mn(l)&&Mn(u)||Array.isArray(l)&&Array.isArray(u)?!pa(l,u,n):l!==u)return!1}}return!0}function xZ(t){const e=ky(),{control:n=e.control,name:r,defaultValue:s,disabled:a,exact:l,compute:u}=t||{},d=$e.useRef(s),h=$e.useRef(u),m=$e.useRef(void 0);h.current=u;const b=$e.useMemo(()=>n._getWatch(r,d.current),[n,r]),[v,w]=$e.useState(h.current?h.current(b):b);return Py(()=>n._subscribe({name:r,formState:{values:!0},exact:l,callback:A=>{if(!a){const T=g8(r,n._names,A.values||n._formValues,!1,d.current);if(h.current){const N=h.current(T);pa(N,m.current)||(w(N),m.current=N)}else w(T)}}}),[n,a,r,l]),$e.useEffect(()=>n._removeUnmounted()),v}function wZ(t){const e=ky(),{name:n,disabled:r,control:s=e.control,shouldUnregister:a,defaultValue:l}=t,u=h8(s._names.array,n),d=$e.useMemo(()=>Pe(s._formValues,n,Pe(s._defaultValues,n,l)),[s,n,l]),h=xZ({control:s,name:n,defaultValue:d,exact:!0}),m=vZ({control:s,name:n,exact:!0}),b=$e.useRef(t),v=$e.useRef(void 0),w=$e.useRef(s.register(n,{...t.rules,value:h,...Kr(t.disabled)?{disabled:t.disabled}:{}}));b.current=t;const A=$e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!Pe(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Pe(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Pe(m.validatingFields,n)},error:{enumerable:!0,get:()=>Pe(m.errors,n)}}),[m,n]),T=$e.useCallback(B=>w.current.onChange({target:{value:f8(B),name:n},type:vg.CHANGE}),[n]),N=$e.useCallback(()=>w.current.onBlur({target:{value:Pe(s._formValues,n),name:n},type:vg.BLUR}),[n,s._formValues]),k=$e.useCallback(B=>{const $=Pe(s._fields,n);$&&B&&($._f.ref={focus:()=>B.focus&&B.focus(),select:()=>B.select&&B.select(),setCustomValidity:U=>B.setCustomValidity(U),reportValidity:()=>B.reportValidity()})},[s._fields,n]),M=$e.useMemo(()=>({name:n,value:h,...Kr(r)||m.disabled?{disabled:m.disabled||r}:{},onChange:T,onBlur:N,ref:k}),[n,r,m.disabled,T,N,k,h]);return $e.useEffect(()=>{const B=s._options.shouldUnregister||a,$=v.current;$&&$!==n&&!u&&s.unregister($),s.register(n,{...b.current.rules,...Kr(b.current.disabled)?{disabled:b.current.disabled}:{}});const U=(Z,P)=>{const R=Pe(s._fields,Z);R&&R._f&&(R._f.mount=P)};if(U(n,!0),B){const Z=nn(Pe(s._options.defaultValues,n));Vt(s._defaultValues,n,Z),rn(Pe(s._formValues,n))&&Vt(s._formValues,n,Z)}return!u&&s.register(n),v.current=n,()=>{(u?B&&!s._state.action:B)?s.unregister(n):U(n,!1)}},[n,s,u,a]),$e.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),$e.useMemo(()=>({field:M,formState:m,fieldState:A}),[M,m,A])}const _Z=t=>t.render(wZ(t));var BE=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Or=t=>Array.isArray(t)?t:[t],mN=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}};function y8(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],a=e[r];if(s&&Mn(s)&&a){const l=y8(s,a);Mn(l)&&(n[r]=l)}else t[r]&&(n[r]=a)}return n}var wr=t=>Mn(t)&&!Object.keys(t).length,UE=t=>t.type==="file",Ms=t=>typeof t=="function",xg=t=>{if(!VE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},b8=t=>t.type==="select-multiple",FE=t=>t.type==="radio",EZ=t=>FE(t)||Bm(t),P1=t=>xg(t)&&t.isConnected;function TZ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=rn(t)?r++:t[e[r++]];return t}function AZ(t){for(const e in t)if(t.hasOwnProperty(e)&&!rn(t[e]))return!1;return!0}function Tn(t,e){const n=Array.isArray(e)?e:Ry(e)?[e]:LE(e),r=n.length===1?t:TZ(t,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(Mn(r)&&wr(r)||Array.isArray(r)&&AZ(r))&&Tn(t,n.slice(0,-1)),t}var SZ=t=>{for(const e in t)if(Ms(t[e]))return!0;return!1};function v8(t){return Array.isArray(t)||Mn(t)&&!SZ(t)}function gw(t,e={}){for(const n in t)v8(t[n])?(e[n]=Array.isArray(t[n])?[]:{},gw(t[n],e[n])):_r(t[n])||(e[n]=!0);return e}function Du(t,e,n){n||(n=gw(e));for(const r in t)v8(t[r])?rn(e)||pw(n[r])?n[r]=gw(t[r],Array.isArray(t[r])?[]:{}):Du(t[r],_r(e)?{}:e[r],n[r]):n[r]=!pa(t[r],e[r]);return n}const pN={value:!1,isValid:!1},gN={value:!0,isValid:!0};var x8=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!rn(t[0].attributes.value)?rn(t[0].value)||t[0].value===""?gN:{value:t[0].value,isValid:!0}:gN:pN}return pN},w8=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>rn(t)?t:e?t===""?NaN:t&&+t:n&&Jr(t)?new Date(t):r?r(t):t;const yN={isValid:!1,value:null};var _8=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,yN):yN;function bN(t){const e=t.ref;return UE(e)?e.files:FE(e)?_8(t.refs).value:b8(e)?[...e.selectedOptions].map(({value:n})=>n):Bm(e)?x8(t.refs).value:w8(rn(e.value)?t.ref.value:e.value,t)}var NZ=(t,e,n,r)=>{const s={};for(const a of t){const l=Pe(e,a);l&&Vt(s,a,l._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},wg=t=>t instanceof RegExp,nh=t=>rn(t)?t:wg(t)?t.source:Mn(t)?wg(t.value)?t.value.source:t.value:t,Uu=t=>({isOnSubmit:!t||t===ws.onSubmit,isOnBlur:t===ws.onBlur,isOnChange:t===ws.onChange,isOnAll:t===ws.all,isOnTouch:t===ws.onTouched});const vN="AsyncFunction";var CZ=t=>!!t&&!!t.validate&&!!(Ms(t.validate)&&t.validate.constructor.name===vN||Mn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vN)),RZ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),yw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Zu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const a=Pe(t,s);if(a){const{_f:l,...u}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(Zu(u,e))break}else if(Mn(u)&&Zu(u,e))break}}};function xN(t,e,n){const r=Pe(t,n);if(r||Ry(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),l=Pe(e,a),u=Pe(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};if(u&&u.root&&u.root.type)return{name:`${a}.root`,error:u.root};s.pop()}return{name:n}}var IZ=(t,e,n,r)=>{n(t);const{name:s,...a}=t;return wr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!r||ws.all))},kZ=(t,e,n)=>!t||!e||t===e||Or(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),PZ=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,OZ=(t,e)=>!Iy(Pe(t,e)).length&&Tn(t,e),E8=(t,e,n)=>{const r=Or(Pe(t,n));return Vt(r,"root",e[n]),Vt(t,n,r),t};function wN(t,e,n="validate"){if(Jr(t)||Array.isArray(t)&&t.every(Jr)||Kr(t)&&!t)return{type:n,message:Jr(t)?t:"",ref:e}}var wu=t=>Mn(t)&&!wg(t)?t:{value:t,message:""},bw=async(t,e,n,r,s,a)=>{const{ref:l,refs:u,required:d,maxLength:h,minLength:m,min:b,max:v,pattern:w,validate:A,name:T,valueAsNumber:N,mount:k}=t._f,M=Pe(n,T);if(!k||e.has(T))return{};const B=u?u[0]:l,$=q=>{s&&B.reportValidity&&(B.setCustomValidity(Kr(q)?"":q||""),B.reportValidity())},U={},Z=FE(l),P=Bm(l),R=Z||P,j=(N||UE(l))&&rn(l.value)&&rn(M)||xg(l)&&l.value===""||M===""||Array.isArray(M)&&!M.length,F=BE.bind(null,T,r,U),z=(q,D,me,ie=ca.maxLength,Y=ca.minLength)=>{const Q=q?D:me;U[T]={type:q?ie:Y,message:Q,ref:l,...F(q?ie:Y,Q)}};if(a?!Array.isArray(M)||!M.length:d&&(!R&&(j||_r(M))||Kr(M)&&!M||P&&!x8(u).isValid||Z&&!_8(u).isValid)){const{value:q,message:D}=Jr(d)?{value:!!d,message:d}:wu(d);if(q&&(U[T]={type:ca.required,message:D,ref:B,...F(ca.required,D)},!r))return $(D),U}if(!j&&(!_r(b)||!_r(v))){let q,D;const me=wu(v),ie=wu(b);if(!_r(M)&&!isNaN(M)){const Y=l.valueAsNumber||M&&+M;_r(me.value)||(q=Y>me.value),_r(ie.value)||(D=Y<ie.value)}else{const Y=l.valueAsDate||new Date(M),Q=G=>new Date(new Date().toDateString()+" "+G),W=l.type=="time",se=l.type=="week";Jr(me.value)&&M&&(q=W?Q(M)>Q(me.value):se?M>me.value:Y>new Date(me.value)),Jr(ie.value)&&M&&(D=W?Q(M)<Q(ie.value):se?M<ie.value:Y<new Date(ie.value))}if((q||D)&&(z(!!q,me.message,ie.message,ca.max,ca.min),!r))return $(U[T].message),U}if((h||m)&&!j&&(Jr(M)||a&&Array.isArray(M))){const q=wu(h),D=wu(m),me=!_r(q.value)&&M.length>+q.value,ie=!_r(D.value)&&M.length<+D.value;if((me||ie)&&(z(me,q.message,D.message),!r))return $(U[T].message),U}if(w&&!j&&Jr(M)){const{value:q,message:D}=wu(w);if(wg(q)&&!M.match(q)&&(U[T]={type:ca.pattern,message:D,ref:l,...F(ca.pattern,D)},!r))return $(D),U}if(A){if(Ms(A)){const q=await A(M,n),D=wN(q,B);if(D&&(U[T]={...D,...F(ca.validate,D.message)},!r))return $(D.message),U}else if(Mn(A)){let q={};for(const D in A){if(!wr(q)&&!r)break;const me=wN(await A[D](M,n),B,D);me&&(q={...me,...F(D,me.message)},$(me.message),r&&(U[T]=q))}if(!wr(q)&&(U[T]={ref:B,...q},!r))return U}}return $(!0),U};const DZ={mode:ws.onSubmit,reValidateMode:ws.onChange,shouldFocusError:!0};function jZ(t={}){let e={...DZ,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ms(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Mn(e.defaultValues)||Mn(e.values)?nn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:nn(s),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...m};const v={array:mN(),state:mN()},w=e.criteriaMode===ws.all,A=J=>le=>{clearTimeout(h),h=setTimeout(J,le)},T=async J=>{if(!e.disabled&&(m.isValid||b.isValid||J)){const le=e.resolver?wr((await P()).errors):await j(r,!0);le!==n.isValid&&v.state.next({isValid:le})}},N=(J,le)=>{!e.disabled&&(m.isValidating||m.validatingFields||b.isValidating||b.validatingFields)&&((J||Array.from(u.mount)).forEach(be=>{be&&(le?Vt(n.validatingFields,be,le):Tn(n.validatingFields,be))}),v.state.next({validatingFields:n.validatingFields,isValidating:!wr(n.validatingFields)}))},k=(J,le=[],be,De,Ie=!0,Ne=!0)=>{if(De&&be&&!e.disabled){if(l.action=!0,Ne&&Array.isArray(Pe(r,J))){const Be=be(Pe(r,J),De.argA,De.argB);Ie&&Vt(r,J,Be)}if(Ne&&Array.isArray(Pe(n.errors,J))){const Be=be(Pe(n.errors,J),De.argA,De.argB);Ie&&Vt(n.errors,J,Be),OZ(n.errors,J)}if((m.touchedFields||b.touchedFields)&&Ne&&Array.isArray(Pe(n.touchedFields,J))){const Be=be(Pe(n.touchedFields,J),De.argA,De.argB);Ie&&Vt(n.touchedFields,J,Be)}(m.dirtyFields||b.dirtyFields)&&(n.dirtyFields=Du(s,a)),v.state.next({name:J,isDirty:z(J,le),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Vt(a,J,le)},M=(J,le)=>{Vt(n.errors,J,le),v.state.next({errors:n.errors})},B=J=>{n.errors=J,v.state.next({errors:n.errors,isValid:!1})},$=(J,le,be,De)=>{const Ie=Pe(r,J);if(Ie){const Ne=Pe(a,J,rn(be)?Pe(s,J):be);rn(Ne)||De&&De.defaultChecked||le?Vt(a,J,le?Ne:bN(Ie._f)):me(J,Ne),l.mount&&T()}},U=(J,le,be,De,Ie)=>{let Ne=!1,Be=!1;const it={name:J};if(!e.disabled){if(!be||De){(m.isDirty||b.isDirty)&&(Be=n.isDirty,n.isDirty=it.isDirty=z(),Ne=Be!==it.isDirty);const at=pa(Pe(s,J),le);Be=!!Pe(n.dirtyFields,J),at?Tn(n.dirtyFields,J):Vt(n.dirtyFields,J,!0),it.dirtyFields=n.dirtyFields,Ne=Ne||(m.dirtyFields||b.dirtyFields)&&Be!==!at}if(be){const at=Pe(n.touchedFields,J);at||(Vt(n.touchedFields,J,be),it.touchedFields=n.touchedFields,Ne=Ne||(m.touchedFields||b.touchedFields)&&at!==be)}Ne&&Ie&&v.state.next(it)}return Ne?it:{}},Z=(J,le,be,De)=>{const Ie=Pe(n.errors,J),Ne=(m.isValid||b.isValid)&&Kr(le)&&n.isValid!==le;if(e.delayError&&be?(d=A(()=>M(J,be)),d(e.delayError)):(clearTimeout(h),d=null,be?Vt(n.errors,J,be):Tn(n.errors,J)),(be?!pa(Ie,be):Ie)||!wr(De)||Ne){const Be={...De,...Ne&&Kr(le)?{isValid:le}:{},errors:n.errors,name:J};n={...n,...Be},v.state.next(Be)}},P=async J=>{N(J,!0);const le=await e.resolver(a,e.context,NZ(J||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return N(J),le},R=async J=>{const{errors:le}=await P(J);if(J)for(const be of J){const De=Pe(le,be);De?Vt(n.errors,be,De):Tn(n.errors,be)}else n.errors=le;return le},j=async(J,le,be={valid:!0})=>{for(const De in J){const Ie=J[De];if(Ie){const{_f:Ne,...Be}=Ie;if(Ne){const it=u.array.has(Ne.name),at=Ie._f&&CZ(Ie._f);at&&m.validatingFields&&N([Ne.name],!0);const Lt=await bw(Ie,u.disabled,a,w,e.shouldUseNativeValidation&&!le,it);if(at&&m.validatingFields&&N([Ne.name]),Lt[Ne.name]&&(be.valid=!1,le))break;!le&&(Pe(Lt,Ne.name)?it?E8(n.errors,Lt,Ne.name):Vt(n.errors,Ne.name,Lt[Ne.name]):Tn(n.errors,Ne.name))}!wr(Be)&&await j(Be,le,be)}}return be.valid},F=()=>{for(const J of u.unMount){const le=Pe(r,J);le&&(le._f.refs?le._f.refs.every(be=>!P1(be)):!P1(le._f.ref))&&Ee(J)}u.unMount=new Set},z=(J,le)=>!e.disabled&&(J&&le&&Vt(a,J,le),!pa(G(),s)),q=(J,le,be)=>g8(J,u,{...l.mount?a:rn(le)?s:Jr(J)?{[J]:le}:le},be,le),D=J=>Iy(Pe(l.mount?a:s,J,e.shouldUnregister?Pe(s,J,[]):[])),me=(J,le,be={})=>{const De=Pe(r,J);let Ie=le;if(De){const Ne=De._f;Ne&&(!Ne.disabled&&Vt(a,J,w8(le,Ne)),Ie=xg(Ne.ref)&&_r(le)?"":le,b8(Ne.ref)?[...Ne.ref.options].forEach(Be=>Be.selected=Ie.includes(Be.value)):Ne.refs?Bm(Ne.ref)?Ne.refs.forEach(Be=>{(!Be.defaultChecked||!Be.disabled)&&(Array.isArray(Ie)?Be.checked=!!Ie.find(it=>it===Be.value):Be.checked=Ie===Be.value||!!Ie)}):Ne.refs.forEach(Be=>Be.checked=Be.value===Ie):UE(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Ie,Ne.ref.type||v.state.next({name:J,values:nn(a)})))}(be.shouldDirty||be.shouldTouch)&&U(J,Ie,be.shouldTouch,be.shouldDirty,!0),be.shouldValidate&&se(J)},ie=(J,le,be)=>{for(const De in le){if(!le.hasOwnProperty(De))return;const Ie=le[De],Ne=J+"."+De,Be=Pe(r,Ne);(u.array.has(J)||Mn(Ie)||Be&&!Be._f)&&!Kl(Ie)?ie(Ne,Ie,be):me(Ne,Ie,be)}},Y=(J,le,be={})=>{const De=Pe(r,J),Ie=u.array.has(J),Ne=nn(le);Vt(a,J,Ne),Ie?(v.array.next({name:J,values:nn(a)}),(m.isDirty||m.dirtyFields||b.isDirty||b.dirtyFields)&&be.shouldDirty&&v.state.next({name:J,dirtyFields:Du(s,a),isDirty:z(J,Ne)})):De&&!De._f&&!_r(Ne)?ie(J,Ne,be):me(J,Ne,be),yw(J,u)&&v.state.next({...n,name:J}),v.state.next({name:l.mount?J:void 0,values:nn(a)})},Q=async J=>{l.mount=!0;const le=J.target;let be=le.name,De=!0;const Ie=Pe(r,be),Ne=at=>{De=Number.isNaN(at)||Kl(at)&&isNaN(at.getTime())||pa(at,Pe(a,be,at))},Be=Uu(e.mode),it=Uu(e.reValidateMode);if(Ie){let at,Lt;const V=le.type?bN(Ie._f):f8(J),E=J.type===vg.BLUR||J.type===vg.FOCUS_OUT,S=!RZ(Ie._f)&&!e.resolver&&!Pe(n.errors,be)&&!Ie._f.deps||PZ(E,Pe(n.touchedFields,be),n.isSubmitted,it,Be),K=yw(be,u,E);Vt(a,be,V),E?(!le||!le.readOnly)&&(Ie._f.onBlur&&Ie._f.onBlur(J),d&&d(0)):Ie._f.onChange&&Ie._f.onChange(J);const te=U(be,V,E),ue=!wr(te)||K;if(!E&&v.state.next({name:be,type:J.type,values:nn(a)}),S)return(m.isValid||b.isValid)&&(e.mode==="onBlur"?E&&T():E||T()),ue&&v.state.next({name:be,...K?{}:te});if(!E&&K&&v.state.next({...n}),e.resolver){const{errors:ve}=await P([be]);if(Ne(V),De){const ot=xN(n.errors,r,be),kt=xN(ve,r,ot.name||be);at=kt.error,be=kt.name,Lt=wr(ve)}}else N([be],!0),at=(await bw(Ie,u.disabled,a,w,e.shouldUseNativeValidation))[be],N([be]),Ne(V),De&&(at?Lt=!1:(m.isValid||b.isValid)&&(Lt=await j(r,!0)));De&&(Ie._f.deps&&(!Array.isArray(Ie._f.deps)||Ie._f.deps.length>0)&&se(Ie._f.deps),Z(be,Lt,at,te))}},W=(J,le)=>{if(Pe(n.errors,le)&&J.focus)return J.focus(),1},se=async(J,le={})=>{let be,De;const Ie=Or(J);if(e.resolver){const Ne=await R(rn(J)?J:Ie);be=wr(Ne),De=J?!Ie.some(Be=>Pe(Ne,Be)):be}else J?(De=(await Promise.all(Ie.map(async Ne=>{const Be=Pe(r,Ne);return await j(Be&&Be._f?{[Ne]:Be}:Be)}))).every(Boolean),!(!De&&!n.isValid)&&T()):De=be=await j(r);return v.state.next({...!Jr(J)||(m.isValid||b.isValid)&&be!==n.isValid?{}:{name:J},...e.resolver||!J?{isValid:be}:{},errors:n.errors}),le.shouldFocus&&!De&&Zu(r,W,J?Ie:u.mount),De},G=(J,le)=>{let be={...l.mount?a:s};return le&&(be=y8(le.dirtyFields?n.dirtyFields:n.touchedFields,be)),rn(J)?be:Jr(J)?Pe(be,J):J.map(De=>Pe(be,De))},ne=(J,le)=>({invalid:!!Pe((le||n).errors,J),isDirty:!!Pe((le||n).dirtyFields,J),error:Pe((le||n).errors,J),isValidating:!!Pe(n.validatingFields,J),isTouched:!!Pe((le||n).touchedFields,J)}),fe=J=>{J&&Or(J).forEach(le=>Tn(n.errors,le)),v.state.next({errors:J?n.errors:{}})},ye=(J,le,be)=>{const De=(Pe(r,J,{_f:{}})._f||{}).ref,Ie=Pe(n.errors,J)||{},{ref:Ne,message:Be,type:it,...at}=Ie;Vt(n.errors,J,{...at,...le,ref:De}),v.state.next({name:J,errors:n.errors,isValid:!1}),be&&be.shouldFocus&&De&&De.focus&&De.focus()},ge=(J,le)=>Ms(J)?v.state.subscribe({next:be=>"values"in be&&J(q(void 0,le),be)}):q(J,le,!0),Ce=J=>v.state.subscribe({next:le=>{kZ(J.name,le.name,J.exact)&&IZ(le,J.formState||m,Kt,J.reRenderRoot)&&J.callback({values:{...a},...n,...le,defaultValues:s})}}).unsubscribe,Oe=J=>(l.mount=!0,b={...b,...J.formState},Ce({...J,formState:b})),Ee=(J,le={})=>{for(const be of J?Or(J):u.mount)u.mount.delete(be),u.array.delete(be),le.keepValue||(Tn(r,be),Tn(a,be)),!le.keepError&&Tn(n.errors,be),!le.keepDirty&&Tn(n.dirtyFields,be),!le.keepTouched&&Tn(n.touchedFields,be),!le.keepIsValidating&&Tn(n.validatingFields,be),!e.shouldUnregister&&!le.keepDefaultValue&&Tn(s,be);v.state.next({values:nn(a)}),v.state.next({...n,...le.keepDirty?{isDirty:z()}:{}}),!le.keepIsValid&&T()},Ve=({disabled:J,name:le})=>{(Kr(J)&&l.mount||J||u.disabled.has(le))&&(J?u.disabled.add(le):u.disabled.delete(le))},nt=(J,le={})=>{let be=Pe(r,J);const De=Kr(le.disabled)||Kr(e.disabled);return Vt(r,J,{...be||{},_f:{...be&&be._f?be._f:{ref:{name:J}},name:J,mount:!0,...le}}),u.mount.add(J),be?Ve({disabled:Kr(le.disabled)?le.disabled:e.disabled,name:J}):$(J,!0,le.value),{...De?{disabled:le.disabled||e.disabled}:{},...e.progressive?{required:!!le.required,min:nh(le.min),max:nh(le.max),minLength:nh(le.minLength),maxLength:nh(le.maxLength),pattern:nh(le.pattern)}:{},name:J,onChange:Q,onBlur:Q,ref:Ie=>{if(Ie){nt(J,le),be=Pe(r,J);const Ne=rn(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,Be=EZ(Ne),it=be._f.refs||[];if(Be?it.find(at=>at===Ne):Ne===be._f.ref)return;Vt(r,J,{_f:{...be._f,...Be?{refs:[...it.filter(P1),Ne,...Array.isArray(Pe(s,J))?[{}]:[]],ref:{type:Ne.type,name:J}}:{ref:Ne}}}),$(J,!1,void 0,Ne)}else be=Pe(r,J,{}),be._f&&(be._f.mount=!1),(e.shouldUnregister||le.shouldUnregister)&&!(h8(u.array,J)&&l.action)&&u.unMount.add(J)}}},Qe=()=>e.shouldFocusError&&Zu(r,W,u.mount),et=J=>{Kr(J)&&(v.state.next({disabled:J}),Zu(r,(le,be)=>{const De=Pe(r,be);De&&(le.disabled=De._f.disabled||J,Array.isArray(De._f.refs)&&De._f.refs.forEach(Ie=>{Ie.disabled=De._f.disabled||J}))},0,!1))},st=(J,le)=>async be=>{let De;be&&(be.preventDefault&&be.preventDefault(),be.persist&&be.persist());let Ie=nn(a);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:Ne,values:Be}=await P();n.errors=Ne,Ie=nn(Be)}else await j(r);if(u.disabled.size)for(const Ne of u.disabled)Tn(Ie,Ne);if(Tn(n.errors,"root"),wr(n.errors)){v.state.next({errors:{}});try{await J(Ie,be)}catch(Ne){De=Ne}}else le&&await le({...n.errors},be),Qe(),setTimeout(Qe);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wr(n.errors)&&!De,submitCount:n.submitCount+1,errors:n.errors}),De)throw De},Xe=(J,le={})=>{Pe(r,J)&&(rn(le.defaultValue)?Y(J,nn(Pe(s,J))):(Y(J,le.defaultValue),Vt(s,J,nn(le.defaultValue))),le.keepTouched||Tn(n.touchedFields,J),le.keepDirty||(Tn(n.dirtyFields,J),n.isDirty=le.defaultValue?z(J,nn(Pe(s,J))):z()),le.keepError||(Tn(n.errors,J),m.isValid&&T()),v.state.next({...n}))},Dt=(J,le={})=>{const be=J?nn(J):s,De=nn(be),Ie=wr(J),Ne=Ie?s:De;if(le.keepDefaultValues||(s=be),!le.keepValues){if(le.keepDirtyValues){const Be=new Set([...u.mount,...Object.keys(Du(s,a))]);for(const it of Array.from(Be))Pe(n.dirtyFields,it)?Vt(Ne,it,Pe(a,it)):Y(it,Pe(Ne,it))}else{if(VE&&rn(J))for(const Be of u.mount){const it=Pe(r,Be);if(it&&it._f){const at=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(xg(at)){const Lt=at.closest("form");if(Lt){Lt.reset();break}}}}if(le.keepFieldsRef)for(const Be of u.mount)Y(Be,Pe(Ne,Be));else r={}}a=e.shouldUnregister?le.keepDefaultValues?nn(s):{}:nn(Ne),v.array.next({values:{...Ne}}),v.state.next({values:{...Ne}})}u={mount:le.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!le.keepIsValid||!!le.keepDirtyValues,l.watch=!!e.shouldUnregister,v.state.next({submitCount:le.keepSubmitCount?n.submitCount:0,isDirty:Ie?!1:le.keepDirty?n.isDirty:!!(le.keepDefaultValues&&!pa(J,s)),isSubmitted:le.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ie?{}:le.keepDirtyValues?le.keepDefaultValues&&a?Du(s,a):n.dirtyFields:le.keepDefaultValues&&J?Du(s,J):le.keepDirty?n.dirtyFields:{},touchedFields:le.keepTouched?n.touchedFields:{},errors:le.keepErrors?n.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Rn=(J,le)=>Dt(Ms(J)?J(a):J,le),yn=(J,le={})=>{const be=Pe(r,J),De=be&&be._f;if(De){const Ie=De.refs?De.refs[0]:De.ref;Ie.focus&&(Ie.focus(),le.shouldSelect&&Ms(Ie.select)&&Ie.select())}},Kt=J=>{n={...n,...J}},an={control:{register:nt,unregister:Ee,getFieldState:ne,handleSubmit:st,setError:ye,_subscribe:Ce,_runSchema:P,_focusError:Qe,_getWatch:q,_getDirty:z,_setValid:T,_setFieldArray:k,_setDisabledField:Ve,_setErrors:B,_getFieldArray:D,_reset:Dt,_resetDefaultValues:()=>Ms(e.defaultValues)&&e.defaultValues().then(J=>{Rn(J,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:et,_subjects:v,_proxyFormState:m,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(J){l=J},get _defaultValues(){return s},get _names(){return u},set _names(J){u=J},get _formState(){return n},get _options(){return e},set _options(J){e={...e,...J}}},subscribe:Oe,trigger:se,register:nt,handleSubmit:st,watch:ge,setValue:Y,getValues:G,reset:Rn,resetField:Xe,clearErrors:fe,unregister:Ee,setError:ye,setFocus:yn,getFieldState:ne};return{...an,formControl:an}}var _o=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},O1=(t,e,n={})=>n.shouldFocus||rn(n.shouldFocus)?n.focusName||`${t}.${rn(n.focusIndex)?e:n.focusIndex}.`:"",D1=(t,e)=>[...t,...Or(e)],j1=t=>Array.isArray(t)?t.map(()=>{}):void 0;function M1(t,e,n){return[...t.slice(0,e),...Or(n),...t.slice(e)]}var V1=(t,e,n)=>Array.isArray(t)?(rn(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],L1=(t,e)=>[...Or(e),...Or(t)];function MZ(t,e){let n=0;const r=[...t];for(const s of e)r.splice(s-n,1),n++;return Iy(r).length?r:[]}var B1=(t,e)=>rn(e)?[]:MZ(t,Or(e).sort((n,r)=>n-r)),U1=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},_N=(t,e,n)=>(t[e]=n,t);function VZ(t){const e=ky(),{control:n=e.control,name:r,keyName:s="id",shouldUnregister:a,rules:l}=t,[u,d]=$e.useState(n._getFieldArray(r)),h=$e.useRef(n._getFieldArray(r).map(_o)),m=$e.useRef(u),b=$e.useRef(!1);m.current=u,n._names.array.add(r),$e.useMemo(()=>l&&n.register(r,l),[n,l,r]),Py(()=>n._subjects.array.subscribe({next:({values:U,name:Z})=>{if(Z===r||!Z){const P=Pe(U,r);Array.isArray(P)&&(d(P),h.current=P.map(_o))}}}).unsubscribe,[n,r]);const v=$e.useCallback(U=>{b.current=!0,n._setFieldArray(r,U)},[n,r]),w=(U,Z)=>{const P=Or(nn(U)),R=D1(n._getFieldArray(r),P);n._names.focus=O1(r,R.length-1,Z),h.current=D1(h.current,P.map(_o)),v(R),d(R),n._setFieldArray(r,R,D1,{argA:j1(U)})},A=(U,Z)=>{const P=Or(nn(U)),R=L1(n._getFieldArray(r),P);n._names.focus=O1(r,0,Z),h.current=L1(h.current,P.map(_o)),v(R),d(R),n._setFieldArray(r,R,L1,{argA:j1(U)})},T=U=>{const Z=B1(n._getFieldArray(r),U);h.current=B1(h.current,U),v(Z),d(Z),!Array.isArray(Pe(n._fields,r))&&Vt(n._fields,r,void 0),n._setFieldArray(r,Z,B1,{argA:U})},N=(U,Z,P)=>{const R=Or(nn(Z)),j=M1(n._getFieldArray(r),U,R);n._names.focus=O1(r,U,P),h.current=M1(h.current,U,R.map(_o)),v(j),d(j),n._setFieldArray(r,j,M1,{argA:U,argB:j1(Z)})},k=(U,Z)=>{const P=n._getFieldArray(r);U1(P,U,Z),U1(h.current,U,Z),v(P),d(P),n._setFieldArray(r,P,U1,{argA:U,argB:Z},!1)},M=(U,Z)=>{const P=n._getFieldArray(r);V1(P,U,Z),V1(h.current,U,Z),v(P),d(P),n._setFieldArray(r,P,V1,{argA:U,argB:Z},!1)},B=(U,Z)=>{const P=nn(Z),R=_N(n._getFieldArray(r),U,P);h.current=[...R].map((j,F)=>!j||F===U?_o():h.current[F]),v(R),d([...R]),n._setFieldArray(r,R,_N,{argA:U,argB:P},!0,!1)},$=U=>{const Z=Or(nn(U));h.current=Z.map(_o),v([...Z]),d([...Z]),n._setFieldArray(r,[...Z],P=>P,{},!0,!1)};return $e.useEffect(()=>{if(n._state.action=!1,yw(r,n._names)&&n._subjects.state.next({...n._formState}),b.current&&(!Uu(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Uu(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(U=>{const Z=Pe(U.errors,r),P=Pe(n._formState.errors,r);(P?!Z&&P.type||Z&&(P.type!==Z.type||P.message!==Z.message):Z&&Z.type)&&(Z?Vt(n._formState.errors,r,Z):Tn(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const U=Pe(n._fields,r);U&&U._f&&!(Uu(n._options.reValidateMode).isOnSubmit&&Uu(n._options.mode).isOnSubmit)&&bw(U,n._names.disabled,n._formValues,n._options.criteriaMode===ws.all,n._options.shouldUseNativeValidation,!0).then(Z=>!wr(Z)&&n._subjects.state.next({errors:E8(n._formState.errors,Z,r)}))}n._subjects.state.next({name:r,values:nn(n._formValues)}),n._names.focus&&Zu(n._fields,(U,Z)=>{if(n._names.focus&&Z.startsWith(n._names.focus)&&U.focus)return U.focus(),1}),n._names.focus="",n._setValid(),b.current=!1},[u,r,n]),$e.useEffect(()=>(!Pe(n._formValues,r)&&n._setFieldArray(r),()=>{const U=(Z,P)=>{const R=Pe(n._fields,Z);R&&R._f&&(R._f.mount=P)};n._options.shouldUnregister||a?n.unregister(r):U(r,!1)}),[r,n,s,a]),{swap:$e.useCallback(k,[v,r,n]),move:$e.useCallback(M,[v,r,n]),prepend:$e.useCallback(A,[v,r,n]),append:$e.useCallback(w,[v,r,n]),remove:$e.useCallback(T,[v,r,n]),insert:$e.useCallback(N,[v,r,n]),update:$e.useCallback(B,[v,r,n]),replace:$e.useCallback($,[v,r,n]),fields:$e.useMemo(()=>u.map((U,Z)=>({...U,[s]:h.current[Z]||_o()})),[u,s])}}function zE(t={}){const e=$e.useRef(void 0),n=$e.useRef(void 0),[r,s]=$e.useState({isDirty:!1,isValidating:!1,isLoading:Ms(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ms(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ms(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...u}=jZ(t);e.current={...u,formState:r}}const a=e.current.control;return a._options=t,Py(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),a._formState.isReady=!0,l},[a]),$e.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),$e.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),$e.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),$e.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),$e.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),$e.useEffect(()=>{t.values&&!pa(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=t.values,s(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),$e.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=p8(r,a),e.current}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ="type.googleapis.com/google.protobuf.Int64Value",BZ="type.googleapis.com/google.protobuf.UInt64Value";function T8(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function _g(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>_g(e));if(typeof t=="function"||typeof t=="object")return T8(t,e=>_g(e));throw new Error("Data cannot be encoded in JSON: "+t)}function pd(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case LZ:case BZ:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>pd(e)):typeof t=="function"||typeof t=="object"?T8(t,e=>pd(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dr extends Li{constructor(e,n,r){super(`${$E}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Dr.prototype)}}function UZ(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Eg(t,e){let n=UZ(t),r=n,s;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!EN[l])return new Dr("internal","internal");n=EN[l],r=l}const u=a.message;typeof u=="string"&&(r=u),s=a.details,s!==void 0&&(s=pd(s))}}catch{}return n==="ok"?null:new Dr(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,xs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="us-central1",zZ=/^data: (.*?)(?:\n|$)/;function $Z(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Dr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class qZ{constructor(e,n,r,s,a=vw,l=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new FZ(e,n,r,s),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(a);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=vw}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function HZ(t,e,n){const r=Jo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Qw(t.emulatorOrigin+"/backends"),Xw("Functions",!0))}function GZ(t,e,n){const r=s=>YZ(t,e,s,{});return r.stream=(s,a)=>ZZ(t,e,s,a),r}function A8(t){return t.emulatorOrigin&&Jo(t.emulatorOrigin)?"include":void 0}async function WZ(t,e,n,r,s){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:A8(s)})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function S8(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function YZ(t,e,n,r){const s=t._url(e);return KZ(t,s,n,r)}async function KZ(t,e,n,r){n=_g(n);const s={data:n},a=await S8(t,r),l=r.timeout||7e4,u=$Z(l),d=await Promise.race([WZ(e,s,a,t.fetchImpl,t),u.promise,t.cancelAllRequests]);if(u.cancel(),!d)throw new Dr("cancelled","Firebase Functions instance was deleted.");const h=Eg(d.status,d.json);if(h)throw h;if(!d.json)throw new Dr("internal","Response is not valid JSON object.");let m=d.json.data;if(typeof m>"u"&&(m=d.json.result),typeof m>"u")throw new Dr("internal","Response is missing data field.");return{data:pd(m)}}function ZZ(t,e,n,r){const s=t._url(e);return QZ(t,s,n,r||{})}async function QZ(t,e,n,r){n=_g(n);const s={data:n},a=await S8(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let l;try{l=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:a,signal:r?.signal,credentials:A8(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const A=new Dr("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const w=Eg(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let u,d;const h=new Promise((v,w)=>{u=v,d=w});r?.signal?.addEventListener("abort",()=>{const v=new Dr("cancelled","Request was cancelled.");d(v)});const m=l.body.getReader(),b=XZ(m,u,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const v=b.getReader();return{async next(){const{value:w,done:A}=await v.read();return{value:w,done:A}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:h}}function XZ(t,e,n,r){const s=(l,u)=>{const d=l.match(zZ);if(!d)return;const h=d[1];try{const m=JSON.parse(h);if("result"in m){e(pd(m.result));return}if("message"in m){u.enqueue(pd(m.message));return}if("error"in m){const b=Eg(0,m);u.error(b),n(b);return}}catch(m){if(m instanceof Dr){u.error(m),n(m);return}}},a=new TextDecoder;return new ReadableStream({start(l){let u="";return d();async function d(){if(r?.aborted){const h=new Dr("cancelled","Request was cancelled");return l.error(h),n(h),Promise.resolve()}try{const{value:h,done:m}=await t.read();if(m){u.trim()&&s(u.trim(),l),l.close();return}if(r?.aborted){const v=new Dr("cancelled","Request was cancelled");l.error(v),n(v),await t.cancel();return}u+=a.decode(h,{stream:!0});const b=u.split(`
`);u=b.pop()||"";for(const v of b)v.trim()&&s(v.trim(),l);return d()}catch(h){const m=h instanceof Dr?h:Eg(0,null);l.error(m),n(m)}}},cancel(){return t.cancel()}})}const TN="@firebase/functions",AN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ="auth-internal",eQ="app-check-internal",tQ="messaging-internal";function nQ(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),a=n.getProvider(JZ),l=n.getProvider(tQ),u=n.getProvider(eQ);return new qZ(s,a,l,u,r)};ic(new Fo($E,e,"PUBLIC").setMultipleInstances(!0)),Ai(TN,AN,t),Ai(TN,AN,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(t=Bg(),e=vw){const r=Lg(fn(t),$E).getImmediate({identifier:e}),s=oR("functions");return s&&sQ(r,...s),r}function sQ(t,e,n){HZ(fn(t),e,n)}function iQ(t,e,n){return GZ(fn(t),e)}nQ();const F1={id:"",email:"",name:"",type:"candidate",createdAt:"",title:"",experience:0,skills:[],location:"",bio:"",education:"",phone:""},aQ=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(!1),{user:s,uploadZKProof:a,resetVerification:l}=ei(),[u,d]=O.useState(!1),[h,m]=O.useState(null),[b,v]=O.useState(null),[w,A]=O.useState(F1);O.useEffect(()=>{if(!s?.id){A(F1);return}const D=Yr(Rr),me=Fn(D,"users",s.id),ie=da(me,Y=>{if(Y.exists()){const Q=Y.data();if(A({...F1,...Q}),Q.aiProfileFeedback){const W=Q.aiProfileFeedback,se=Array.isArray(W.strengths)?W.strengths.filter(fe=>typeof fe=="string"):[],G=Array.isArray(W.suggestions)?W.suggestions.filter(fe=>typeof fe=="string"):[],ne=typeof W.exampleRewrite=="string"?W.exampleRewrite:"";v({strengths:se,suggestions:G,exampleRewrite:ne})}}},Y=>{console.error("Profile listener error:",Y)});return()=>ie()},[s?.id]);const{register:T,control:N,handleSubmit:k,reset:M,getValues:B,formState:{errors:$,isSubmitting:U}}=zE({defaultValues:{name:"",title:w.title??"",bio:w.bio??"",location:w.location??"",experience:w.experience??0,education:"",phone:w.phone||"",skills:[]}}),{fields:Z,append:P,remove:R}=VZ({control:N,name:"skills"});O.useEffect(()=>{!t&&w.name&&M({name:w.name??"",title:w.title??"",bio:w.bio??"",location:w.location??"",experience:w.experience??0,education:typeof w.education=="string"?w.education:(Array.isArray(w.education)?w.education[0]:"")??"",phone:w.phone||"",skills:(w.skills??[]).map(D=>({value:D}))})},[w,t,M]);const j=async D=>{try{const me=_s.currentUser?.uid;if(!me){console.error("User not authenticated");return}const ie=Yr(Rr),Y=Fn(ie,"users",me),Q={name:D.name,title:D.title,bio:D.bio,location:D.location,experience:Number(D.experience),education:D.education,phone:D.phone,skills:(D.skills??[]).map(W=>W.value).filter(W=>W.trim()!==""),updatedAt:new Date().toISOString()};await uc(Y,Q,{merge:!0}),console.log("Profile updated successfully"),e(!1)}catch(me){console.error("Error saving profile:",me)}},F=()=>{M(),e(!1)},z=()=>{P({value:""})},q=async()=>{m(null),v(null),d(!0);try{if(!_s.currentUser?.uid){m("Please sign in to use AI profile feedback.");return}const me=B(),ie=(me.skills??[]).map(G=>G.value).filter(G=>typeof G=="string"&&G.trim()!=="").join(", "),Y=[me.title?`Title: ${me.title}`:"",`Experience: ${me.experience??0} years`,me.education?`Education: ${me.education}`:"",ie?`Skills: ${ie}`:"",me.bio?`Bio: ${me.bio}`:""].filter(Boolean).join(`
`),Q=rQ(Rr),se=await iQ(Q,"generateProfileFeedback")({profileText:Y});v(se.data)}catch{m("AI service is temporarily unavailable. Please try again later.")}finally{d(!1)}};return g.jsxs("form",{onSubmit:k(j),className:"max-w-5xl mx-auto space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-serif font-bold text-teal-900",children:"Verified Profile"}),g.jsx("p",{className:"text-teal-700/80 mt-1 font-medium",children:"Manage your verified academic identity and skills"})]}),t?g.jsxs("div",{className:"flex space-x-3",children:[g.jsxs("button",{type:"submit",disabled:U,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all font-semibold flex items-center space-x-2 disabled:opacity-50 disabled:hover:translate-y-0",children:[g.jsx(eR,{className:"w-4 h-4"}),g.jsx("span",{children:U?"Saving...":"Save Changes"})]}),g.jsxs("button",{type:"button",onClick:F,disabled:U,className:"px-6 py-2.5 border border-slate-200 text-slate-700 bg-white rounded-xl hover:bg-slate-50 transition-all font-semibold flex items-center space-x-2 shadow-sm disabled:opacity-50",children:[g.jsx(wh,{className:"w-4 h-4"}),g.jsx("span",{children:"Cancel"})]})]}):g.jsxs("button",{onClick:()=>e(!0),className:"px-6 py-2.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all font-semibold flex items-center space-x-2",children:[g.jsx(Zw,{className:"w-4 h-4"}),g.jsx("span",{children:"Edit Profile"})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-teal-100 overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[g.jsx("div",{className:"h-32 bg-gradient-to-r from-teal-600 to-emerald-500"}),g.jsxs("div",{className:"px-8 pb-8",children:[g.jsxs("div",{className:"relative flex justify-between items-end -mt-12 mb-6",children:[g.jsxs("div",{className:"flex items-end space-x-6",children:[g.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-1.5 shadow-lg",children:g.jsx("div",{className:"w-full h-full bg-gradient-to-br from-teal-100 to-emerald-100 rounded-full flex items-center justify-center text-teal-700 border border-teal-200",children:g.jsx("span",{className:"text-4xl font-serif font-bold",children:(w.name??"").split(" ").filter(Boolean).map(D=>D.charAt(0)).join("")||g.jsx(Po,{className:"w-12 h-12"})})})}),g.jsx("div",{className:"pb-2",children:t?g.jsxs("div",{className:"flex flex-col space-y-3 mb-2",children:[g.jsx("input",{type:"text",...T("name",{required:"Name is required"}),className:"text-3xl font-serif font-bold text-slate-900 bg-transparent border-b-2 border-slate-300 focus:border-teal-500 outline-none w-full placeholder:text-slate-300",placeholder:"Full Name"}),$.name&&g.jsx("p",{className:"text-rose-500 text-sm",children:$.name.message}),g.jsx("input",{type:"text",...T("title",{required:"Title is required"}),className:"text-lg font-medium text-slate-600 bg-transparent border-b border-slate-300 focus:border-teal-500 outline-none w-full placeholder:text-slate-300",placeholder:"Professional Title"}),$.title&&g.jsx("p",{className:"text-rose-500 text-sm",children:$.title.message})]}):g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900",children:w.name||"Student Name"}),g.jsx("p",{className:"text-lg font-medium text-teal-700/90 mt-1",children:w.title||"Student Title"})]})})]}),w.zkVerification?.isVerified&&g.jsxs("div",{className:"hidden md:flex flex-col items-end mb-3",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-emerald-50 border border-emerald-200 rounded-full shadow-sm text-emerald-800 font-bold text-sm tracking-wide",children:[g.jsx(jr,{className:"w-5 h-5"}),g.jsx("span",{children:"OFFICIAL VERIFIED STUDENT"})]}),g.jsx("p",{className:"text-xs text-emerald-600/80 mt-1 font-medium mr-2",children:"Via zkPDF Protocol"})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-6 pt-2 border-t border-slate-100",children:[g.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[g.jsx(ix,{className:"w-4 h-4 text-slate-400"}),g.jsx("span",{className:"text-sm font-medium",children:w.email||"No email"})]}),w.phone&&g.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[g.jsx(cM,{className:"w-4 h-4 text-slate-400"}),g.jsx("span",{className:"text-sm font-medium",children:w.phone})]}),g.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[g.jsx(rc,{className:"w-4 h-4 text-slate-400"}),t?g.jsx("input",{type:"text",...T("location"),className:"bg-slate-50 border border-slate-200 rounded px-2 py-0.5 text-sm outline-none focus:border-teal-500",placeholder:"City, Country"}):g.jsx("span",{className:"text-sm font-medium",children:w.location||"Location not set"})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md border border-slate-200 hover:shadow-xl transition-all duration-300",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-100 pb-4",children:[g.jsx("div",{className:"p-2 bg-teal-50 rounded-lg",children:g.jsx(Po,{className:"w-6 h-6 text-teal-600"})}),g.jsx("h3",{className:"text-xl font-serif font-bold text-slate-900",children:"About Me"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Biography"}),t?g.jsx("textarea",{...T("bio"),rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none transition-shadow",placeholder:"Tell us about your academic journey..."}):g.jsx("p",{className:"text-slate-600 leading-relaxed text-sm",children:w.bio||"No biography provided yet."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Experience"}),t?g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",...T("experience",{required:"Required",min:0}),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none"}),g.jsx(nc,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"})]}):g.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[g.jsx(nc,{className:"w-5 h-5 text-teal-600/70"}),g.jsxs("span",{children:[w.experience??0," Years Experience"]})]}),$.experience&&g.jsx("p",{className:"text-rose-500 text-xs mt-1",children:$.experience.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Education"}),t?g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",...T("education",{required:"Required"}),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"University..."}),g.jsx(LT,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"})]}):g.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[g.jsx(LT,{className:"w-5 h-5 text-teal-600/70"}),g.jsx("span",{className:"truncate",children:typeof w.education=="string"?w.education:(Array.isArray(w.education)?w.education[0]:"")??"Not specified"})]}),$.education&&g.jsx("p",{className:"text-rose-500 text-xs mt-1",children:$.education.message})]})]}),t&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Contact Phone"}),g.jsx("input",{type:"tel",...T("phone"),className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"+1 (555) 000-0000"})]})]})]}),g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md border border-slate-200 hover:shadow-xl transition-all duration-300",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:g.jsx(jr,{className:"w-6 h-6 text-emerald-600"})}),g.jsx("h3",{className:"text-xl font-serif font-bold text-slate-900",children:"Identity Verification"})]}),w.zkVerification?.isVerified?g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsxs("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full font-bold text-xs border border-emerald-200 tracking-wide flex items-center gap-1 shadow-sm",children:[g.jsx(jr,{className:"w-3.5 h-3.5"}),"VERIFIED"]}),g.jsx("span",{className:"text-[10px] text-slate-500 mt-1 font-mono",children:w.zkVerification.verifiedAt?new Date(w.zkVerification.verifiedAt).toLocaleDateString():""}),g.jsx("button",{type:"button",onClick:async()=>{window.confirm("Reset verification status for DEMO purposes?")&&l&&await l()},className:"text-[10px] text-red-400 hover:text-red-600 underline mt-1 cursor-pointer",children:"Reset (Demo)"})]}):g.jsxs("label",{className:`cursor-pointer px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-all font-semibold text-sm flex items-center gap-2 shadow-sm hover:translate-y-[-1px] ${n?"opacity-75 cursor-not-allowed":""}`,children:[g.jsx("input",{type:"file",className:"hidden",accept:".pdf",disabled:n,onChange:async D=>{const me=D.target.files?.[0];if(me)try{r(!0),await a("resume_verification","resume",me,"candidate","Candidate Resume")}catch(ie){console.error(ie),alert("Verification failed. Please try again.")}finally{r(!1),D.target.value=""}}}),g.jsx("div",{className:"flex items-center gap-2",children:n?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),g.jsx("span",{children:"Verifying..."})]}):g.jsxs(g.Fragment,{children:[g.jsx(nR,{className:"w-4 h-4"}),g.jsx("span",{children:"Upload Resume / Certificate"})]})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[g.jsxs("div",{className:"p-4 border border-slate-200 rounded-xl flex items-center justify-between hover:border-teal-200 hover:bg-teal-50/30 transition-colors cursor-default",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-rose-50 rounded-lg flex items-center justify-center text-rose-500 font-bold text-xs border border-rose-100",children:"PDF"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-slate-900 text-sm",children:"Official Transcript"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Verified on-chain"})]})]}),g.jsx("button",{className:"text-teal-700 text-sm font-semibold hover:underline",children:"View"})]}),g.jsxs("div",{className:"p-4 border border-slate-200 rounded-xl flex items-center justify-between hover:border-teal-200 hover:bg-teal-50/30 transition-colors cursor-default",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-500 font-bold text-xs border border-blue-100",children:"PDF"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-slate-900 text-sm",children:"Resume / CV"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Last updated: 2d ago"})]})]}),g.jsx("button",{className:"text-teal-700 text-sm font-semibold hover:underline",children:"Update"})]})]})]})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md border border-slate-200 hover:shadow-xl transition-all duration-300",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-slate-100 pb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:g.jsx(tR,{className:"w-6 h-6 text-purple-600"})}),g.jsx("h3",{className:"text-xl font-serif font-bold text-slate-900",children:"Skills & Expertise"})]}),t&&g.jsxs("button",{onClick:z,className:"px-3 py-1.5 bg-slate-900 text-white rounded-lg hover:bg-slate-700 transition-colors text-xs font-bold uppercase tracking-wider flex items-center gap-1",children:[g.jsx(JC,{className:"w-3 h-3"}),"Add Skill"]})]}),g.jsx("div",{className:"min-h-[100px]",children:t?g.jsxs("div",{className:"space-y-3",children:[Z.map((D,me)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",...T(`skills.${me}.value`,{required:"Required"}),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none text-sm",placeholder:"Skill (e.g. React Native)"}),g.jsx("button",{type:"button",onClick:()=>R(me),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",children:g.jsx(wh,{className:"w-4 h-4"})})]},D.id)),Z.length===0&&g.jsx("p",{className:"text-slate-400 text-sm italic text-center py-4",children:"Add skills to showcase your expertise"})]}):g.jsx("div",{className:"flex flex-wrap gap-2",children:(w.skills??[]).length>0?(w.skills??[]).map(D=>g.jsx("span",{className:"px-3 py-1.5 bg-slate-50 text-slate-700 border border-slate-200 text-sm font-semibold rounded-lg shadow-sm",children:D},D)):g.jsx("p",{className:"text-slate-400 text-sm italic",children:"No skills added yet."})})})]}),g.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-white p-8 rounded-2xl shadow-md border border-indigo-100 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-100/50 rounded-full blur-3xl -mr-10 -mt-10 pointer-events-none"}),g.jsx("div",{className:"flex items-start justify-between mb-6 relative z-10",children:g.jsxs("div",{children:[g.jsxs("h3",{className:"text-lg font-serif font-bold text-indigo-900 flex items-center gap-2",children:[g.jsx("span",{className:"text-2xl",children:""})," AI Profile Assistant"]}),g.jsx("p",{className:"text-sm text-indigo-700/80 mt-1 max-w-xs font-medium",children:"Powered by Google Gemini to refine your professional story."})]})}),g.jsx("div",{className:"relative z-10",children:b?g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[h&&g.jsx("div",{className:"p-3 bg-rose-50 text-rose-700 text-sm rounded-lg border border-rose-100",children:h}),g.jsxs("div",{className:"bg-white/80 rounded-xl p-4 border border-indigo-100 shadow-sm",children:[g.jsx("h4",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"Key Strengths"}),g.jsx("ul",{className:"space-y-2",children:b.strengths.slice(0,3).map((D,me)=>g.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[g.jsx("span",{className:"text-emerald-500 mt-0.5",children:""})," ",D]},me))})]}),g.jsxs("div",{className:"bg-white/80 rounded-xl p-4 border border-indigo-100 shadow-sm",children:[g.jsx("h4",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"Suggestions"}),g.jsx("ul",{className:"space-y-2",children:b.suggestions.slice(0,3).map((D,me)=>g.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[g.jsx("span",{className:"text-amber-500 mt-0.5",children:""})," ",D]},me))})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"button",onClick:q,className:"w-full py-2 text-indigo-600 text-sm font-semibold hover:bg-indigo-50 rounded-lg transition-colors",children:"Refresh AI Analysis"})})]}):g.jsxs("div",{className:"text-center py-6",children:[g.jsx("button",{type:"button",onClick:q,disabled:u,className:"w-full py-3 bg-white text-indigo-600 border border-indigo-200 rounded-xl hover:bg-indigo-50 hover:border-indigo-300 transition-all font-bold shadow-sm hover:shadow-md disabled:opacity-70",children:u?g.jsxs("span",{className:"flex items-center justify-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),"Analyzing Profile..."]}):"Generate AI Feedback"}),g.jsx("p",{className:"text-xs text-indigo-400 mt-3",children:"Suggestions are private and advisory only."})]})})]})]})]})]})},Ze={APPLIED:"pending",UNDER_REVIEW:"reviewed",ACCEPTED:"accepted",REJECTED:"rejected",EXAM_INVITED:"exam_invited"},oQ=()=>{const t={[Ze.APPLIED]:{icon:Ql,color:"bg-amber-50 text-amber-800 border-amber-200",label:"Pending Review",description:"Your profile submission has been received and is awaiting review."},[Ze.UNDER_REVIEW]:{icon:Ti,color:"bg-teal-50 text-teal-800 border-teal-200",label:"Under Review",description:"Your profile is currently being reviewed by the hiring team."},[Ze.ACCEPTED]:{icon:xa,color:"bg-emerald-50 text-emerald-800 border-emerald-200",label:"Accepted",description:"Congratulations! Your application has been accepted. The recruiter will contact you."},[Ze.REJECTED]:{icon:Ql,color:"bg-rose-50 text-rose-800 border-rose-200",label:"Needs Attention",description:"Your application requires attention or was not selected for this role."},[Ze.EXAM_INVITED]:{icon:xa,color:"bg-purple-50 text-purple-800 border-purple-200",label:"Exam Invited",description:"You have been invited to take an exam."}},e=s=>{const a=[Ze.APPLIED,Ze.UNDER_REVIEW,Ze.ACCEPTED];if(s===Ze.REJECTED)return[Ze.APPLIED,Ze.REJECTED];if(s===Ze.EXAM_INVITED)return[Ze.APPLIED,Ze.UNDER_REVIEW,Ze.EXAM_INVITED];const l=a.indexOf(s);return l===-1?a:a.slice(0,l+1)},{myApplication:n}=ei(),r=(n||[]).filter(s=>s.job);return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-teal-100 shadow-md bg-gradient-to-r from-teal-50/80 to-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-100/30 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),g.jsx("h1",{className:"text-4xl font-serif font-bold text-teal-950 relative z-10",children:"My Applications"}),g.jsx("p",{className:"text-teal-800/80 mt-2 font-medium text-lg relative z-10",children:"Track the real-time status of your verified profile submissions"})]}),r.length===0?g.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border-2 border-dashed border-teal-100 group hover:border-teal-200 transition-colors",children:[g.jsx("div",{className:"w-20 h-20 bg-teal-50 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:g.jsx(xa,{className:"w-10 h-10 text-teal-600"})}),g.jsx("h3",{className:"text-xl font-serif font-bold text-teal-900 mb-2",children:"No profile submissions yet"}),g.jsx("p",{className:"text-slate-600 mb-8 max-w-sm mx-auto",children:"Browse verified jobs and submit your student profile to positions that match your skills."}),g.jsx("button",{className:"bg-teal-600 text-white px-8 py-3.5 rounded-xl hover:bg-teal-700 transition-all font-bold shadow-md hover:shadow-lg hover:-translate-y-0.5",children:"Find Opportunities"})]}):g.jsx("div",{className:"space-y-8",children:r.map(s=>{const a=t[s.status]?s.status:Ze.APPLIED,l=t[a],u=l.icon,d=a===Ze.REJECTED?[Ze.APPLIED,Ze.REJECTED]:[Ze.APPLIED,Ze.UNDER_REVIEW,Ze.ACCEPTED],h=e(a);return g.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-slate-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group",children:[g.jsx("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-slate-50/50 via-white to-slate-50/50",children:g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6",children:[g.jsxs("div",{className:"flex items-start space-x-6",children:[g.jsx("div",{className:"w-16 h-16 bg-white border border-slate-100 rounded-2xl flex items-center justify-center shadow-sm group-hover:border-teal-100 group-hover:shadow-md transition-all",children:g.jsx(uh,{className:"w-8 h-8 text-slate-400 group-hover:text-teal-500 transition-colors"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-serif font-bold text-slate-900 mb-1 group-hover:text-teal-900 transition-colors",children:s.job?.title||"Unknown Position"}),g.jsxs("p",{className:"text-slate-600 mb-4 font-bold text-base flex items-center gap-2",children:[s.job?.company?.companyName||"Unknown Company",g.jsx(Ti,{className:"w-4 h-4 text-emerald-500"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-slate-500 font-medium",children:[g.jsxs("div",{className:"flex items-center space-x-1.5 bg-slate-50 px-3 py-1 rounded-lg border border-slate-100",children:[g.jsx(rc,{className:"w-4 h-4 text-slate-400"}),g.jsx("span",{children:s.job?.location||"Remote"})]}),s.job?.salary&&g.jsxs("div",{className:"flex items-center space-x-1.5 bg-slate-50 px-3 py-1 rounded-lg border border-slate-100",children:[g.jsx(Kw,{className:"w-4 h-4 text-slate-400"}),g.jsxs("span",{children:["$",s.job.salary.min.toLocaleString()," - $",s.job.salary.max.toLocaleString()]})]}),g.jsxs("div",{className:"flex items-center space-x-1.5",children:[g.jsx(Ql,{className:"w-4 h-4 text-slate-400"}),g.jsxs("span",{children:["Submitted"," ",new Date(s.appliedAt).toLocaleDateString()]})]})]})]})]}),g.jsx("div",{className:"flex items-center",children:g.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-xl text-sm font-bold border uppercase tracking-wide shadow-sm ${l.color}`,children:[g.jsx(u,{className:"w-5 h-5 mr-2"}),l.label]})})]})}),g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-10",children:[g.jsx("h4",{className:"text-xl font-serif font-bold text-slate-900",children:"Application Status"}),g.jsx("button",{className:"text-teal-600 hover:text-teal-700 text-sm font-bold flex items-center space-x-1 hover:underline bg-teal-50 px-4 py-2 rounded-lg transition-colors",children:g.jsx("span",{children:"View Submission Details"})})]}),g.jsxs("div",{className:"relative px-6 pb-4",children:[g.jsx("div",{className:"flex justify-between relative z-10",children:d.map(m=>{const b=h.includes(m),v=a===m,w=t[m],A=w.icon;return g.jsxs("div",{className:"flex flex-col items-center relative group",children:[g.jsx("div",{className:`w-14 h-14 rounded-2xl border-2 flex items-center justify-center transition-all duration-300 transform ${b?"bg-teal-600 border-teal-600 text-white shadow-lg scale-110":v?"bg-white border-teal-600 text-teal-600 shadow-lg ring-4 ring-teal-50 scale-110":"bg-white border-slate-200 text-slate-300"}`,children:g.jsx(A,{className:"w-6 h-6"})}),g.jsx("span",{className:`text-sm mt-4 text-center font-bold tracking-tight ${b||v?"text-teal-900":"text-slate-400"}`,children:w.label.replace(" ",`
`)})]},m)})}),g.jsx("div",{className:"absolute top-7 left-0 w-full h-1.5 bg-slate-100 -z-0 rounded-full mx-6"}),g.jsx("div",{className:"absolute top-7 left-0 h-1.5 bg-gradient-to-r from-teal-400 to-emerald-500 -z-0 rounded-full mx-6 transition-all duration-700 ease-out",style:{width:a===Ze.ACCEPTED?"100%":a===Ze.UNDER_REVIEW?"50%":"0%"}})]}),g.jsxs("div",{className:"mt-12 p-6 bg-teal-50/50 rounded-2xl border border-teal-100 flex items-start gap-5",children:[g.jsx("div",{className:"p-3 bg-white rounded-xl border border-teal-100 shadow-sm shrink-0",children:g.jsx(u,{className:"w-6 h-6 text-teal-600"})}),g.jsxs("div",{children:[g.jsx("h5",{className:"font-bold text-teal-900 text-base mb-1",children:l.label}),g.jsx("p",{className:"text-teal-800/80 leading-relaxed font-medium",children:l.description})]})]})]})]},s.id)})})]})},lQ=()=>{const{user:t,myApplication:e,allJobs:n}=ei(),r=t?.type==="candidate"?t:null,s=e||[],a=s.filter(m=>m.status==="pending"),l=s.filter(m=>m.status!=="pending"&&m.status!=="rejected"),u=[{label:"Profile Submissions",value:s.length,icon:xa,color:"bg-blue-500",trend:"+0 this week"},{label:"Under Review",value:a.length,icon:Ql,color:"bg-yellow-500",trend:"Updates pending"},{label:"Verified",value:l.length,icon:Ti,color:"bg-green-500",trend:"Credentials verified"}],d=(n||[]).slice(0,4),h=m=>{switch(m){case"pending":case"reviewed":return"Under Review";case"accepted":return"Verified";case"rejected":return"Needs Attention";default:return m}};return r?g.jsxs("div",{className:"space-y-8",children:[g.jsx("div",{className:"bg-white rounded-2xl border border-teal-100 shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:g.jsxs("div",{className:"px-8 py-10 bg-gradient-to-r from-teal-50 via-white to-emerald-50 relative",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-100/50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),g.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[g.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-sm",children:g.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-teal-500 to-emerald-600 flex items-center justify-center text-white font-serif text-2xl shadow-inner border-2 border-white",children:(r.name||"S").charAt(0)})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-4xl font-serif font-bold text-teal-950 tracking-tight",children:["Welcome back, ",r.name]}),g.jsxs("p",{className:"text-teal-800/80 mt-2 font-medium flex items-center gap-2",children:[g.jsx("span",{className:"px-2 py-0.5 bg-teal-100/50 rounded-md text-sm border border-teal-200/50",children:"Student Console"}),g.jsx("span",{className:"text-teal-300",children:""}),g.jsx("span",{children:new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(m=>{const b=m.icon,v=m.label==="Verified"?"bg-emerald-100 text-emerald-700 ring-4 ring-emerald-50":m.label==="Under Review"?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":"bg-teal-100 text-teal-700 ring-4 ring-teal-50";return g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"p-2 rounded-xl bg-slate-50 group-hover:bg-white transition-colors",children:g.jsx("div",{className:`w-10 h-10 ${v} rounded-lg flex items-center justify-center`,children:g.jsx(b,{className:"w-5 h-5"})})}),m.trend&&g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider py-1 px-2 bg-slate-50 text-slate-500 rounded-full border border-slate-100 group-hover:border-teal-100 group-hover:text-teal-600 transition-colors",children:"Trend"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider font-sans mb-1",children:m.label}),g.jsx("p",{className:"text-4xl font-serif font-bold text-slate-900 group-hover:text-teal-700 transition-colors",children:m.value})]}),g.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-50 flex items-center text-sm",children:[g.jsx(BT,{className:"w-4 h-4 text-emerald-500 mr-1.5"}),g.jsx("span",{className:"text-emerald-700 font-semibold truncate text-xs",children:m.trend})]})]},m.label)})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md border border-slate-200 hover:shadow-lg transition-shadow duration-300",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-slate-100",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-serif font-bold text-slate-900",children:"Recent Submissions"}),g.jsx("p",{className:"text-sm text-slate-500 mt-1 font-medium",children:"Track your application status"})]}),g.jsx("div",{className:"p-2 bg-teal-50 rounded-xl",children:g.jsx(xh,{className:"w-6 h-6 text-teal-600"})})]}),g.jsx("div",{className:"space-y-4",children:s.length===0?g.jsxs("div",{className:"text-center py-16 bg-slate-50/50 rounded-2xl border-2 border-dashed border-slate-200 group hover:border-teal-200 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-sm flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:g.jsx(xa,{className:"w-8 h-8 text-slate-300 group-hover:text-teal-400 transition-colors"})}),g.jsx("p",{className:"text-slate-900 font-semibold text-lg",children:"No submissions yet"}),g.jsx("p",{className:"text-sm text-slate-500 mt-1 max-w-xs mx-auto",children:"Start applying to verified jobs to see your tracking history here."})]}):s.slice(0,3).map(m=>g.jsx("div",{className:"flex items-center justify-between p-5 bg-white border border-slate-100 rounded-xl hover:border-teal-200 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 group cursor-pointer",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h4",{className:"font-bold text-slate-900 text-lg group-hover:text-teal-800 transition-colors font-serif",children:m.job.title}),g.jsx("span",{className:`px-3 py-1 text-[10px] font-bold rounded-full border uppercase tracking-wider ${m.status==="pending"?"bg-amber-50 text-amber-700 border-amber-200":m.status==="reviewed"?"bg-blue-50 text-blue-700 border-blue-200":m.status==="accepted"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-rose-50 text-rose-700 border-rose-200"}`,children:h(m.status)})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("p",{className:"text-sm text-slate-600 font-medium",children:m.job.company?.companyName??""}),m.job.company?.verification?.status==="verified"&&g.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-50 rounded text-[10px] font-bold text-emerald-700 uppercase tracking-wide border border-emerald-100",children:[g.jsx(Ti,{className:"w-3 h-3"})," Industries Verified"]})]})]})},m.id))})]}),g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md border border-slate-200 hover:shadow-lg transition-shadow duration-300",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-slate-100",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-serif font-bold text-slate-900",children:"Recommended Jobs"}),g.jsx("p",{className:"text-sm text-slate-500 mt-1 font-medium",children:"Curated based on your profile"})]}),g.jsx("div",{className:"p-2 bg-indigo-50 rounded-xl",children:g.jsx(BT,{className:"w-6 h-6 text-indigo-600"})})]}),g.jsx("div",{className:"space-y-4",children:d.map(m=>g.jsxs("div",{className:"p-5 bg-white border border-slate-100 rounded-xl hover:border-indigo-200 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 group cursor-pointer relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-900 font-serif text-lg group-hover:text-indigo-700 transition-colors",children:m.title}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.jsx("p",{className:"text-sm text-slate-600 font-medium",children:m.company?.companyName??""}),m.company?.verification?.status==="verified"&&g.jsx("span",{className:"text-emerald-500",children:g.jsx(Ti,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("span",{className:"text-xs font-bold text-slate-400 bg-slate-50 px-2 py-1 rounded border border-slate-100 uppercase",children:m.type})})]}),g.jsxs("div",{className:"flex items-center gap-3 mt-4 text-xs font-medium text-slate-500",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),m.location]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),"Posted recently"]})]})]},m.id))})]})]})]}):g.jsx("div",{className:"p-6",children:"Please log in as a candidate."})},cQ=()=>{const[t,e]=O.useState("all"),[n,r]=O.useState(null),{companyApplications:s,updateApplicationStatus:a}=ei(),l={[Ze.APPLIED]:{icon:Ql,color:"bg-slate-100 text-slate-700 border border-slate-200",label:"Pending Review"},[Ze.UNDER_REVIEW]:{icon:Ti,color:"bg-blue-50 text-blue-800 border border-blue-200",label:"Under Review"},[Ze.ACCEPTED]:{icon:tR,color:"bg-emerald-50 text-emerald-800 border border-emerald-200",label:"Accepted"},[Ze.REJECTED]:{icon:Po,color:"bg-rose-50 text-rose-800 border border-rose-200",label:"Rejected"},[Ze.EXAM_INVITED]:{icon:ix,color:"bg-purple-50 text-purple-800 border border-purple-200",label:"Exam Invited"}},u=async(d,h)=>{a&&(await a(d,h),n&&n.id===d&&r({...n,status:h}))};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-serif font-bold text-slate-900",children:"Review Queue"}),g.jsx("p",{className:"text-slate-600 mt-1",children:"Review and update student profile submissions"})]})}),g.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsxs("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${t==="all"?"bg-[#0B1F3A] text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:["All (",(s||[]).length,")"]}),Object.entries(l).map(([d,h])=>{const m=(s||[]).filter(v=>v.status===d).length,b=t===d;return g.jsxs("button",{onClick:()=>e(d),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${b?"bg-[#0B1F3A] text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:[h.label," (",m,")"]},d)})]})}),g.jsx("div",{className:"space-y-4",children:s&&s.length===0?g.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-slate-200",children:[g.jsx(Po,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-serif font-semibold text-slate-900 mb-2",children:"No submissions found"}),g.jsx("p",{className:"text-slate-600 max-w-sm mx-auto",children:"Submissions will appear here when students submit profiles for your jobs."})]}):s&&s.filter(d=>t==="all"||d.status===t).map(d=>{const h=l[d.status]?d.status:Ze.APPLIED,m=l[h]?.icon||Po,b=l[h]?.color||"bg-slate-100 text-slate-800",v=d.candidate.verification?.status==="verified";return g.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:border-[#0B1F3A]/30 transition-colors",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[g.jsxs("div",{className:"w-12 h-12 bg-[#0B1F3A] rounded-lg flex items-center justify-center shadow-sm relative",children:[g.jsx("span",{className:"text-white font-serif font-semibold text-lg",children:(d.candidate.name??"?").charAt(0)}),v&&g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm",children:g.jsx(jr,{className:"w-4 h-4 text-emerald-500 fill-emerald-50"})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("h3",{className:"text-xl font-serif font-bold text-slate-900",children:d.candidate.name}),v?g.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-emerald-50 text-emerald-700 border border-emerald-100 uppercase tracking-wide",children:[g.jsx(jr,{className:"w-3 h-3 mr-1"})," Verified"]}):g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-slate-50 text-slate-500 border border-slate-200 uppercase tracking-wide",children:"Unverified"})]}),g.jsxs("p",{className:"text-sm text-slate-500 font-mono mt-0.5",children:["ID: ",d.id.slice(0,8)]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8 mb-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Submitted for"}),g.jsx("p",{className:"text-slate-900 font-medium",children:d.job?.title||"Unknown Job"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Location"}),g.jsxs("p",{className:"text-slate-900 flex items-center",children:[g.jsx(rc,{className:"w-4 h-4 mr-1 text-slate-400"}),d.candidate.contacts?.[2]||"Location not specified"]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Submission Date"}),g.jsx("p",{className:"text-slate-900 font-mono text-sm",children:new Date(d.appliedAt).toLocaleDateString()})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Skills"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:(d.candidate.skills??[]).map(w=>g.jsx("span",{className:"px-2.5 py-1 bg-slate-50 border border-slate-200 text-slate-700 text-xs font-medium rounded",children:w},w))}),g.jsx("div",{className:"flex space-y-6 flex-col mt-5",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Description"}),g.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:d.candidate.description?.[0]||"No description available"})]})})]})]}),g.jsxs("div",{className:"ml-8 flex flex-col items-end space-y-3 min-w-[180px]",children:[g.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded text-xs font-bold uppercase tracking-wide ${b}`,children:[g.jsx(m,{className:"w-3.5 h-3.5 mr-1.5"}),l[h]?.label||d.status]}),g.jsxs("div",{className:"flex flex-col space-y-2 w-full pt-2",children:[d.status===Ze.APPLIED&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>u(d.id,Ze.UNDER_REVIEW),className:"w-full px-4 py-2 bg-[#0B1F3A] text-white rounded-lg hover:bg-[#1E293B] transition-colors text-sm font-medium shadow-sm",children:"Mark Under Review"}),g.jsx("button",{onClick:()=>u(d.id,Ze.REJECTED),className:"w-full px-4 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors text-sm font-medium",children:"Request Info"})]}),(d.status===Ze.UNDER_REVIEW||d.status===Ze.APPLIED)&&g.jsxs(g.Fragment,{children:[d.status===Ze.UNDER_REVIEW&&g.jsx("button",{onClick:()=>u(d.id,Ze.ACCEPTED),className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-medium shadow-sm",children:"Accept Application"}),d.status===Ze.UNDER_REVIEW&&g.jsx("button",{onClick:()=>u(d.id,Ze.REJECTED),className:"w-full px-4 py-2 bg-white border border-rose-200 text-rose-700 rounded-lg hover:bg-rose-50 transition-colors text-sm font-medium",children:"Reject"})]})]}),g.jsx("button",{onClick:()=>r(d),className:"text-slate-500 hover:text-[#0B1F3A] text-sm font-medium hover:underline pt-2",children:"View Full Profile"})]})]})},d.id)})}),n&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-0 w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[g.jsx("h2",{className:"text-xl font-serif font-bold text-slate-900",children:"Submission Details"}),g.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-slate-700 transition-colors","aria-label":"Close modal",children:g.jsx("span",{className:"text-2xl",children:""})})]}),g.jsxs("div",{className:"p-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center space-x-5 mb-8",children:[g.jsx("div",{className:"w-20 h-20 bg-[#0B1F3A] rounded-xl flex items-center justify-center shadow-md",children:g.jsx("span",{className:"text-white font-serif font-bold text-3xl",children:(n.candidate.name??"?").charAt(0)})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-serif font-bold text-slate-900",children:n.candidate.name}),n.candidate.verification?.status==="verified"&&g.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold bg-emerald-50 text-emerald-700 border border-emerald-100 uppercase tracking-wide mt-1",children:[g.jsx(jr,{className:"w-3.5 h-3.5 mr-1"})," Verified Candidate (ZK Proof)"]}),g.jsx("p",{className:"text-slate-600 mt-1",children:n.job?.title||"Applicant"}),g.jsx("p",{className:"text-sm font-mono text-slate-500 mt-1",children:n.candidate.email||n.candidate.contacts?.[0]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[g.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Education"}),g.jsx("p",{className:"text-slate-900 font-medium",children:n.candidate.education?.[0]||"Not specified"})]}),g.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Location"}),g.jsx("p",{className:"text-slate-900 font-medium",children:n.candidate.contacts?.[2]||"Not specified"})]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"About Candidate"}),g.jsx("div",{className:"prose prose-sm text-slate-600 max-w-none",children:g.jsx("p",{children:n.candidate.description?.[0]||"No description available"})})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Skills"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:(n.candidate.skills??[]).map(d=>g.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 border border-slate-200 text-sm font-medium rounded-full",children:d},d))})]})]}),g.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end space-x-3",children:[g.jsx("button",{onClick:()=>r(null),className:"px-5 py-2.5 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors font-medium",children:"Close View"}),g.jsxs("button",{className:"px-5 py-2.5 bg-[#0B1F3A] text-white rounded-lg hover:bg-[#1E293B] transition-colors flex items-center space-x-2 font-medium shadow-sm",children:[g.jsx(ix,{className:"w-4 h-4"}),g.jsx("span",{children:"Contact Student"})]})]})]})})]})};function N8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=N8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function C8(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=N8(t))&&(r&&(r+=" "),r+=e);return r}const qE="-",uQ=t=>{const e=fQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(qE);return u[0]===""&&u.length!==1&&u.shift(),R8(u,e)||dQ(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},R8=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?R8(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(qE);return e.validators.find(({validator:l})=>l(a))?.classGroupId},SN=/^\[(.+)\]$/,dQ=t=>{if(SN.test(t)){const e=SN.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},fQ=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)xw(n[s],r,s,e);return r},xw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:NN(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(hQ(s)){xw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{xw(l,NN(e,a),n,r)})})},NN=(t,e)=>{let n=t;return e.split(qE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hQ=t=>t.isThemeGetter,mQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},ww="!",_w=":",pQ=_w.length,gQ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let l=0,u=0,d=0,h;for(let A=0;A<s.length;A++){let T=s[A];if(l===0&&u===0){if(T===_w){a.push(s.slice(d,A)),d=A+pQ;continue}if(T==="/"){h=A;continue}}T==="["?l++:T==="]"?l--:T==="("?u++:T===")"&&u--}const m=a.length===0?s:s.substring(d),b=yQ(m),v=b!==m,w=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:w}};if(e){const s=e+_w,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},yQ=t=>t.endsWith(ww)?t.substring(0,t.length-1):t.startsWith(ww)?t.substring(1):t,bQ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},vQ=t=>({cache:mQ(t.cacheSize),parseClassName:gQ(t),sortModifiers:bQ(t),...uQ(t)}),xQ=/\s+/,wQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],u=t.trim().split(xQ);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:b,modifiers:v,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:T}=n(m);if(b){d=m+(d.length>0?" "+d:d);continue}let N=!!T,k=r(N?A.substring(0,T):A);if(!k){if(!N){d=m+(d.length>0?" "+d:d);continue}if(k=r(A),!k){d=m+(d.length>0?" "+d:d);continue}N=!1}const M=a(v).join(":"),B=w?M+ww:M,$=B+k;if(l.includes($))continue;l.push($);const U=s(k,N);for(let Z=0;Z<U.length;++Z){const P=U[Z];l.push(B+P)}d=m+(d.length>0?" "+d:d)}return d};function _Q(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=I8(e))&&(r&&(r+=" "),r+=n);return r}const I8=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=I8(t[r]))&&(n&&(n+=" "),n+=e);return n};function EQ(t,...e){let n,r,s,a=l;function l(d){const h=e.reduce((m,b)=>b(m),t());return n=vQ(h),r=n.cache.get,s=n.cache.set,a=u,u(d)}function u(d){const h=r(d);if(h)return h;const m=wQ(d,n);return s(d,m),m}return function(){return a(_Q.apply(null,arguments))}}const Un=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},k8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,P8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TQ=/^\d+\/\d+$/,AQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_u=t=>TQ.test(t),yt=t=>!!t&&!Number.isNaN(Number(t)),Eo=t=>!!t&&Number.isInteger(Number(t)),z1=t=>t.endsWith("%")&&yt(t.slice(0,-1)),ua=t=>AQ.test(t),IQ=()=>!0,kQ=t=>SQ.test(t)&&!NQ.test(t),O8=()=>!1,PQ=t=>CQ.test(t),OQ=t=>RQ.test(t),DQ=t=>!Fe(t)&&!ze(t),jQ=t=>Ud(t,M8,O8),Fe=t=>k8.test(t),Fl=t=>Ud(t,V8,kQ),$1=t=>Ud(t,UQ,yt),CN=t=>Ud(t,D8,O8),MQ=t=>Ud(t,j8,OQ),g0=t=>Ud(t,L8,PQ),ze=t=>P8.test(t),rh=t=>Fd(t,V8),VQ=t=>Fd(t,FQ),RN=t=>Fd(t,D8),LQ=t=>Fd(t,M8),BQ=t=>Fd(t,j8),y0=t=>Fd(t,L8,!0),Ud=(t,e,n)=>{const r=k8.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Fd=(t,e,n=!1)=>{const r=P8.exec(t);return r?r[1]?e(r[1]):n:!1},D8=t=>t==="position"||t==="percentage",j8=t=>t==="image"||t==="url",M8=t=>t==="length"||t==="size"||t==="bg-size",V8=t=>t==="length",UQ=t=>t==="number",FQ=t=>t==="family-name",L8=t=>t==="shadow",zQ=()=>{const t=Un("color"),e=Un("font"),n=Un("text"),r=Un("font-weight"),s=Un("tracking"),a=Un("leading"),l=Un("breakpoint"),u=Un("container"),d=Un("spacing"),h=Un("radius"),m=Un("shadow"),b=Un("inset-shadow"),v=Un("text-shadow"),w=Un("drop-shadow"),A=Un("blur"),T=Un("perspective"),N=Un("aspect"),k=Un("ease"),M=Un("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...$(),ze,Fe],Z=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],R=()=>[ze,Fe,d],j=()=>[_u,"full","auto",...R()],F=()=>[Eo,"none","subgrid",ze,Fe],z=()=>["auto",{span:["full",Eo,ze,Fe]},Eo,ze,Fe],q=()=>[Eo,"auto",ze,Fe],D=()=>["auto","min","max","fr",ze,Fe],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...R()],Q=()=>[_u,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],W=()=>[t,ze,Fe],se=()=>[...$(),RN,CN,{position:[ze,Fe]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",LQ,jQ,{size:[ze,Fe]}],fe=()=>[z1,rh,Fl],ye=()=>["","none","full",h,ze,Fe],ge=()=>["",yt,rh,Fl],Ce=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[yt,z1,RN,CN],Ve=()=>["","none",A,ze,Fe],nt=()=>["none",yt,ze,Fe],Qe=()=>["none",yt,ze,Fe],et=()=>[yt,ze,Fe],st=()=>[_u,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ua],breakpoint:[ua],color:[IQ],container:[ua],"drop-shadow":[ua],ease:["in","out","in-out"],font:[DQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ua],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ua],shadow:[ua],spacing:["px",yt],text:[ua],"text-shadow":[ua],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_u,Fe,ze,N]}],container:["container"],columns:[{columns:[yt,Fe,ze,u]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Eo,"auto",ze,Fe]}],basis:[{basis:[_u,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[yt,_u,"auto","initial","none",Fe]}],grow:[{grow:["",yt,ze,Fe]}],shrink:[{shrink:["",yt,ze,Fe]}],order:[{order:[Eo,"first","last","none",ze,Fe]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[u,"screen",...Q()]}],"min-w":[{"min-w":[u,"screen","none",...Q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,rh,Fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ze,$1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",z1,Fe]}],"font-family":[{font:[VQ,Fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ze,Fe]}],"line-clamp":[{"line-clamp":[yt,"none",ze,$1]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",ze,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ze,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[yt,"from-font","auto",ze,Fl]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[yt,"auto",ze,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Eo,ze,Fe],radial:["",ze,Fe],conic:[Eo,ze,Fe]},BQ,MQ]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[yt,ze,Fe]}],"outline-w":[{outline:["",yt,rh,Fl]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",m,y0,g0]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",b,y0,g0]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[yt,Fl]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,y0,g0]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[yt,ze,Fe]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[ze,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ze,Fe]}],filter:[{filter:["","none",ze,Fe]}],blur:[{blur:Ve()}],brightness:[{brightness:[yt,ze,Fe]}],contrast:[{contrast:[yt,ze,Fe]}],"drop-shadow":[{"drop-shadow":["","none",w,y0,g0]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",yt,ze,Fe]}],"hue-rotate":[{"hue-rotate":[yt,ze,Fe]}],invert:[{invert:["",yt,ze,Fe]}],saturate:[{saturate:[yt,ze,Fe]}],sepia:[{sepia:["",yt,ze,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",ze,Fe]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[yt,ze,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[yt,ze,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",yt,ze,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yt,ze,Fe]}],"backdrop-invert":[{"backdrop-invert":["",yt,ze,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[yt,ze,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[yt,ze,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",yt,ze,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ze,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[yt,"initial",ze,Fe]}],ease:[{ease:["linear","initial",k,ze,Fe]}],delay:[{delay:[yt,ze,Fe]}],animate:[{animate:["none",M,ze,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ze,Fe]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[ze,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze,Fe]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[yt,rh,Fl,$1]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$Q=EQ(zQ);function Jn(...t){return $Q(C8(t))}function IN({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:Jn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function kN({className:t,...e}){return g.jsx("div",{"data-slot":"card-header",className:Jn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function PN({className:t,...e}){return g.jsx("div",{"data-slot":"card-title",className:Jn("leading-none font-semibold",t),...e})}function ON({className:t,...e}){return g.jsx("div",{"data-slot":"card-content",className:Jn("px-6",t),...e})}function DN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function B8(...t){return e=>{let n=!1;const r=t.map(s=>{const a=DN(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():DN(t[s],null)}}}}function Nn(...t){return O.useCallback(B8(...t),t)}function gd(t){const e=HQ(t),n=O.forwardRef((r,s)=>{const{children:a,...l}=r,u=O.Children.toArray(a),d=u.find(WQ);if(d){const h=d.props.children,m=u.map(b=>b===d?O.Children.count(h)>1?O.Children.only(null):O.isValidElement(h)?h.props.children:null:b);return g.jsx(e,{...l,ref:s,children:O.isValidElement(h)?O.cloneElement(h,void 0,m):null})}return g.jsx(e,{...l,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var qQ=gd("Slot");function HQ(t){const e=O.forwardRef((n,r)=>{const{children:s,...a}=n;if(O.isValidElement(s)){const l=KQ(s),u=YQ(a,s.props);return s.type!==O.Fragment&&(u.ref=r?B8(r,l):l),O.cloneElement(s,u)}return O.Children.count(s)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var GQ=Symbol("radix.slottable");function WQ(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GQ}function YQ(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...u)=>{const d=a(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function KQ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const jN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,MN=C8,ZQ=(t,e)=>n=>{var r;if(e?.variants==null)return MN(t,n?.class,n?.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(h=>{const m=n?.[h],b=a?.[h];if(m===null)return null;const v=jN(m)||jN(b);return s[h][v]}),u=n&&Object.entries(n).reduce((h,m)=>{let[b,v]=m;return v===void 0||(h[b]=v),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:b,className:v,...w}=m;return Object.entries(w).every(A=>{let[T,N]=A;return Array.isArray(N)?N.includes({...a,...u}[T]):{...a,...u}[T]===N})?[...h,b,v]:h},[]);return MN(t,l,d,n?.class,n?.className)},QQ=ZQ("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function b0({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?qQ:"button";return g.jsx(a,{"data-slot":"button",className:Jn(QQ({variant:e,size:n,className:t})),...s})}const XQ=()=>{const{verifyCompany:t,user:e,organization:n,updateOrganization:r,resetVerification:s}=ei(),[a,l]=O.useState(!1),[u,d]=O.useState({}),[h,m]=O.useState(!1);$e.useEffect(()=>{n?d(n):e?.type==="company"&&d({companyName:e.name||"",description:"",domain:"",verification:{zkVerified:!1,blockchainStamped:!1}})},[n,e]);const b=N=>{const{name:k,value:M}=N.target;d(B=>({...B,[k]:M}))},v=async()=>{try{r&&(await r(u),l(!1))}catch(N){console.error("Failed to save organization info",N)}},w=async N=>{if(N.target.files&&N.target.files[0]){m(!0);try{t&&await t(N.target.files[0])}catch(k){console.error("Verification failed",k),alert("Verification failed. Please check console.")}finally{m(!1),N.target.value=""}}},A=n?.verification?.zkVerified,T=n?.verification;return g.jsxs("div",{className:"space-y-6",children:[g.jsxs(IN,{className:`overflow-hidden transition-all ${A?"border-slate-200 bg-white":"border-amber-200 bg-amber-50/10"}`,children:[g.jsx(kN,{className:"bg-slate-50/50 border-b border-slate-100 pb-4",children:g.jsxs(PN,{className:"flex items-center gap-3 font-serif",children:[g.jsx("div",{className:`p-2 rounded-lg ${A?"bg-emerald-100/50 text-emerald-700":"bg-amber-100/50 text-amber-700"}`,children:g.jsx(jr,{className:"size-6"})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-slate-900 text-lg",children:"Corporate Verification"}),g.jsx("p",{className:"text-sm text-slate-500 font-sans font-normal mt-0.5",children:A?"Entity verified on simulated network":"Verification required for listing jobs"})]}),A&&g.jsxs("span",{className:"ml-auto inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-800 border border-emerald-200 tracking-wide",children:[g.jsx(Ti,{className:"w-3.5 h-3.5 mr-1.5"}),"OFFICIAL VERIFIED ENTITY"]}),A&&g.jsx("button",{type:"button",onClick:async()=>{window.confirm("Reset verification status for DEMO purposes?")&&s&&await s()},className:"text-xs text-red-400 hover:text-red-600 underline ml-3 cursor-pointer",children:"Reset (Demo)"})]})}),g.jsx(ON,{className:"pt-6",children:A?g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-200",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("div",{className:"bg-white p-2.5 rounded-lg shadow-sm border border-slate-100",children:g.jsx(xa,{className:"w-5 h-5 text-indigo-600"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-slate-900 font-serif",children:"Credential Proof"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Zero-Knowledge Verification"})]})]}),g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200/60",children:[g.jsx("span",{className:"text-slate-500 font-medium",children:"Validation Status"}),g.jsx("span",{className:"text-emerald-700 font-bold bg-emerald-50 px-2 py-0.5 rounded textxs",children:"VALID"})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200/60",children:[g.jsx("span",{className:"text-slate-500 font-medium",children:"Proof Hash"}),g.jsxs("span",{className:"font-mono text-xs text-slate-600 bg-slate-100 px-1.5 py-0.5 rounded",children:["zkp_",n?.id?.substr(0,8)||"simulated"]})]}),g.jsxs("div",{className:"flex justify-between py-2",children:[g.jsx("span",{className:"text-slate-500 font-medium",children:"Timestamp"}),g.jsx("span",{className:"text-slate-700 text-xs font-mono",children:new Date(T?.verifiedAt||Date.now()).toISOString().split("T")[0]})]})]})]}),g.jsxs("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-200",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("div",{className:"bg-white p-2.5 rounded-lg shadow-sm border border-slate-100",children:g.jsx(VT,{className:"w-5 h-5 text-blue-900"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-slate-900 font-serif",children:"Registry Stamp"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Immutable Ledger Record"})]})]}),g.jsxs("div",{className:"space-y-3 text-sm",children:[g.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200/60",children:[g.jsx("span",{className:"text-slate-500 font-medium",children:"Network"}),g.jsx("span",{className:"text-slate-900 font-semibold",children:"Simulated Ethereum"})]}),g.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200/60",children:[g.jsx("span",{className:"text-slate-500 font-medium",children:"Transaction"}),g.jsx("div",{className:"flex items-center gap-1",children:g.jsxs("span",{className:"font-mono text-xs text-blue-700 bg-blue-50 px-1.5 py-0.5 rounded truncate max-w-[120px]",children:["0x",n?.id]})})]}),g.jsxs("div",{className:"flex justify-between py-2",children:[g.jsx("span",{className:"text-slate-500 font-medium",children:"Block Height"}),g.jsx("span",{className:"font-mono text-slate-700 text-xs",children:"#12345678"})]})]})]})]}):g.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border-2 border-dashed border-amber-200 rounded-xl bg-white/80",children:[g.jsx("div",{className:"w-16 h-16 bg-amber-50 rounded-full flex items-center justify-center mb-4 ring-1 ring-amber-100 ring-offset-4 ring-offset-white",children:g.jsx(Xj,{className:"w-8 h-8 text-amber-600"})}),g.jsx("h3",{className:"text-xl font-serif font-semibold text-slate-900 mb-2",children:"Initialize Verification Protocol"}),g.jsx("p",{className:"text-slate-500 text-center text-sm mb-6 max-w-md leading-relaxed",children:"Upload official business registration or tax credentials. System simulates zero-knowledge proof generation and blockchain stamping."}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"file",onChange:w,disabled:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",accept:".pdf,.jpg,.png"}),g.jsx(b0,{disabled:h,className:"bg-[#0B1F3A] hover:bg-[#1E293B] text-white px-8 h-12 rounded-lg font-medium shadow-sm transition-all relative z-0",children:h?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," Verifying Credentials..."]}):g.jsxs(g.Fragment,{children:[g.jsx(nR,{className:"mr-2 h-4 w-4"})," Upload Business Credentials"]})})]}),g.jsx("p",{className:"text-[10px] text-slate-400 mt-4 font-mono uppercase tracking-wider",children:"Simulated zk-PDF  No Server Storage"})]})})]}),g.jsxs(IN,{children:[g.jsxs(kN,{className:"flex flex-row items-center justify-between",children:[g.jsx(PN,{className:"font-serif",children:"Organization Profile"}),a?g.jsxs("div",{className:"flex gap-2",children:[g.jsx(b0,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:"Cancel"}),g.jsxs(b0,{size:"sm",onClick:v,children:[g.jsx(eR,{className:"w-4 h-4 mr-2"})," Save"]})]}):g.jsxs(b0,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[g.jsx(Zw,{className:"w-4 h-4 mr-2"})," Edit Details"]})]}),g.jsx(ON,{children:g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Company Name"}),a?g.jsx("input",{name:"companyName",value:u.companyName||"",onChange:b,className:"w-full px-3 py-2 border rounded-md"}):g.jsx("p",{className:"text-slate-700 font-semibold text-lg",children:u.companyName||"Not set"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Description"}),a?g.jsx("textarea",{name:"description",value:u.description||"",onChange:b,rows:3,className:"w-full px-3 py-2 border rounded-md"}):g.jsx("p",{className:"text-slate-600",children:u.description||"No description provided."})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Domain / Website"}),a?g.jsx("input",{name:"domain",value:u.domain||"",onChange:b,className:"w-full px-3 py-2 border rounded-md",placeholder:"example.com"}):g.jsx("div",{className:"flex items-center gap-2",children:u.domain?g.jsxs(g.Fragment,{children:[g.jsx(VT,{className:"w-4 h-4 text-slate-400"}),g.jsx("a",{href:`https://${u.domain}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:u.domain})]}):g.jsx("span",{className:"text-slate-400 italic",children:"Not set"})})]})]})})]})]})},JQ=()=>{const{user:t,companyJobs:e,companyApplications:n,verifyCompany:r,organization:s}=ei(),[a,l]=O.useState(!1),u=e||[],d=n||[],h=async()=>{l(!0),await r(),l(!1)},m=A=>A==="accepted"?"Verified":A==="rejected"?"Needs Attention":"Under Review",b=d.filter(A=>A.status==="pending"),v=d.filter(A=>A.status==="accepted"),w=[{label:"Active Jobs",value:u.filter(A=>A.status==="active").length,icon:nc,color:"bg-blue-500",trend:"--"},{label:"Total Submissions",value:d.length,icon:ox,color:"bg-green-500",trend:"--"},{label:"Under Review",value:b.length,icon:Ql,color:"bg-yellow-500",trend:"--"},{label:"Verified",value:v.length,icon:wM,color:"bg-purple-500",trend:"--"}];return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:g.jsxs("div",{className:"px-6 py-6 bg-gradient-to-r from-blue-50 via-white to-amber-50 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl sm:text-3xl font-semibold text-slate-900 tracking-tight flex items-center gap-2",children:["Welcome back, ",s?.companyName||t?.name||"Company",s?.verification?.zkVerified&&g.jsx(jr,{className:"w-6 h-6 text-blue-600","aria-label":"Verified Company"})]}),g.jsx("p",{className:"text-slate-600 mt-1",children:"Here's what's happening in your review queue today."})]}),g.jsx("div",{children:s?.verification?.zkVerified?g.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-medium",children:[g.jsx(jr,{className:"w-5 h-5"}),g.jsx("span",{children:"Verified Company"})]}):g.jsx("button",{onClick:h,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-amber-100 text-amber-800 rounded-lg hover:bg-amber-200 transition-colors font-medium disabled:opacity-50",children:a?g.jsx("span",{children:"Verifying..."}):g.jsxs(g.Fragment,{children:[g.jsx(bM,{className:"w-5 h-5"}),g.jsx("span",{children:"Verify Company"})]})})})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(A=>{const T=A.icon;return g.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:A.label}),g.jsx("p",{className:"text-3xl font-semibold text-slate-900 mt-2",children:A.value})]}),g.jsx("div",{className:`w-12 h-12 ${A.color} rounded-2xl flex items-center justify-center shadow-sm`,children:g.jsx(T,{className:"w-6 h-6 text-white"})})]}),g.jsx("div",{className:"flex items-center mt-4 text-sm",children:g.jsx("span",{className:"text-slate-500",children:"Real-time stats"})})]},A.label)})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Jobs"}),g.jsx(xh,{className:"w-5 h-5 text-gray-400"})]}),g.jsxs("div",{className:"space-y-3",children:[u.slice(0,3).map(A=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 border border-slate-100 rounded-xl",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900",children:A.title}),g.jsxs("p",{className:"text-sm text-gray-500",children:[A.location,"  ",A.type]})]}),g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.status})]},A.id)),u.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No active jobs found."})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Submissions"}),g.jsx(ox,{className:"w-5 h-5 text-gray-400"})]}),g.jsxs("div",{className:"space-y-3",children:[d.slice(0,3).map(A=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 border border-slate-100 rounded-xl",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900",children:A.candidate.name}),g.jsx("p",{className:"text-sm text-gray-500",children:A.job.title})]}),g.jsx("div",{className:"text-right",children:g.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full border ${A.status==="pending"?"bg-amber-50 text-amber-800 border-amber-200":A.status==="reviewed"?"bg-blue-50 text-blue-800 border-blue-200":A.status==="accepted"?"bg-emerald-50 text-emerald-800 border-emerald-200":"bg-red-50 text-red-800 border-red-200"}`,children:m(A.status)})})]},A.id)),d.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No submissions yet."})]})]})]})]})},VN=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Pe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Ew=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?VN(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>VN(s,n,t))}},LN=(t,e)=>{e.shouldUseNativeValidation&&Ew(t,e);const n={};for(const r in t){const s=Pe(e.fields,r),a=Object.assign(t[r]||{},{ref:s&&s.ref});if(eX(e.names||Object.keys(t),r)){const l=Object.assign({},Pe(n,r));Vt(l,"root",a),Vt(n,r,l)}else Vt(n,r,a)}return n},eX=(t,e)=>{const n=BN(e);return t.some(r=>BN(r).match(`^${n}\\.\\d+`))};function BN(t){return t.replace(/\]|\[/g,"")}function U8(t,e,n){function r(u,d){var h;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(h=u._zod).traits??(h.traits=new Set),u._zod.traits.add(t),e(u,d);for(const m in l.prototype)m in u||Object.defineProperty(u,m,{value:l.prototype[m].bind(u)});u._zod.constr=l,u._zod.def=d}const s=n?.Parent??Object;class a extends s{}Object.defineProperty(a,"name",{value:t});function l(u){var d;const h=n?.Parent?new a:this;r(h,u),(d=h._zod).deferred??(d.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class tX extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const nX={};function F8(t){return nX}function rX(t,e){return typeof e=="bigint"?e.toString():e}const z8=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function v0(t){return typeof t=="string"?t:t?.message}function $8(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const s=v0(t.inst?._zod.def?.error?.(t))??v0(e?.error?.(t))??v0(n.customError?.(t))??v0(n.localeError?.(t))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}const q8=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,rX,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},sX=U8("$ZodError",q8),H8=U8("$ZodError",q8,{Parent:Error}),iX=t=>(e,n,r,s)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new tX;if(l.issues.length){const u=new(s?.Err??t)(l.issues.map(d=>$8(d,a,F8())));throw z8(u,s?.callee),u}return l.value},aX=iX(H8),oX=t=>async(e,n,r,s)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??t)(l.issues.map(d=>$8(d,a,F8())));throw z8(u,s?.callee),u}return l.value},lX=oX(H8);function UN(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function cX(t,e){for(var n={};t.length;){var r=t[0],s=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var u=r.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(m){return m.errors.forEach(function(b){return t.push(b)})}),e){var d=n[l].types,h=d&&d[r.code];n[l]=BE(l,e,n,s,h?[].concat(h,r.message):r.message)}t.shift()}return n}function uX(t,e){for(var n={};t.length;){var r=t[0],s=r.code,a=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"&&r.errors.length>0){var u=r.errors[0][0];n[l]={message:u.message,type:u.code}}else n[l]={message:a,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(m){return m.forEach(function(b){return t.push(b)})}),e){var d=n[l].types,h=d&&d[r.code];n[l]=BE(l,e,n,s,h?[].concat(h,r.message):r.message)}t.shift()}return n}function G8(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,a){try{return Promise.resolve(UN(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return a.shouldUseNativeValidation&&Ew({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(u){return Array.isArray(u?.issues)}(l))return{values:{},errors:LN(cX(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,a){try{return Promise.resolve(UN(function(){return Promise.resolve((n.mode==="sync"?aX:lX)(t,r,e)).then(function(l){return a.shouldUseNativeValidation&&Ew({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(u){return u instanceof sX}(l))return{values:{},errors:LN(uX(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}var Ot;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of a)l[u]=s[u];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},t.find=(s,a)=>{for(const l of s)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Ot||(Ot={}));var FN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(FN||(FN={}));const qe=Ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),So=t=>{switch(typeof t){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return Number.isNaN(t)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(t)?qe.array:t===null?qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qe.promise:typeof Map<"u"&&t instanceof Map?qe.map:typeof Set<"u"&&t instanceof Set?qe.set:typeof Date<"u"&&t instanceof Date?qe.date:qe.object;default:return qe.unknown}},Re=Ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Da extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(n(l))):u[h]=u[h]||{_errors:[]},u=u[h],d++}}};return s(this),r}static assert(e){if(!(e instanceof Da))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Da.create=t=>new Da(t);const Tw=(t,e)=>{let n;switch(t.code){case Re.invalid_type:t.received===qe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ot.jsonStringifyReplacer)}`;break;case Re.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ot.joinValues(t.keys,", ")}`;break;case Re.invalid_union:n="Invalid input";break;case Re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ot.joinValues(t.options)}`;break;case Re.invalid_enum_value:n=`Invalid enum value. Expected ${Ot.joinValues(t.options)}, received '${t.received}'`;break;case Re.invalid_arguments:n="Invalid function arguments";break;case Re.invalid_return_type:n="Invalid function return type";break;case Re.invalid_date:n="Invalid date";break;case Re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ot.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Re.custom:n="Invalid input";break;case Re.invalid_intersection_types:n="Intersection results could not be merged";break;case Re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Re.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ot.assertNever(t)}return{message:n}};let dX=Tw;function fX(){return dX}const hX=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let u="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)u=h(l,{data:e,defaultError:u}).message;return{...s,path:a,message:u}};function Me(t,e){const n=fX(),r=hX({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Tw?void 0:Tw].filter(s=>!!s)});t.common.issues.push(r)}class ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ft;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const a=await s.key,l=await s.value;r.push({key:a,value:l})}return ss.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return ft;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const ft=Object.freeze({status:"aborted"}),lh=t=>({status:"dirty",value:t}),As=t=>({status:"valid",value:t}),zN=t=>t.status==="aborted",$N=t=>t.status==="dirty",yd=t=>t.status==="valid",Tg=t=>typeof Promise<"u"&&t instanceof Promise;var He;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(He||(He={}));class Ko{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qN=(t,e)=>{if(yd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Da(t.common.issues);return this._error=n,this._error}}};function vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{const{message:d}=t;return l.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??r??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:s}}class It{get description(){return this._def.description}_getType(e){return So(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:So(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ss,ctx:{common:e.parent.common,data:e.data,parsedType:So(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Tg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:So(e)},s=this._parseSync({data:e,path:r.path,parent:r});return qN(r,s)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:So(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return yd(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>yd(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:So(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(Tg(s)?s:Promise.resolve(s));return qN(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const l=e(s),u=()=>a.addIssue({code:Re.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new vd({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Uo.create(this,this._def)}nullable(){return xd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ii.create(this)}promise(){return Cg.create(this,this._def)}or(e){return Sg.create([this,e],this._def)}and(e){return Ng.create(this,e,this._def)}transform(e){return new vd({...vt(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Sw({...vt(this._def),innerType:this,defaultValue:n,typeName:ht.ZodDefault})}brand(){return new MX({typeName:ht.ZodBranded,type:this,...vt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Nw({...vt(this._def),innerType:this,catchValue:n,typeName:ht.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return HE.create(this,e)}readonly(){return Cw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mX=/^c[^\s-]{8,}$/i,pX=/^[0-9a-z]+$/,gX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bX=/^[a-z0-9_-]{21}$/i,vX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_X="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let q1;const EX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,AX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,W8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",RX=new RegExp(`^${W8}$`);function Y8(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function IX(t){return new RegExp(`^${Y8(t)}$`)}function kX(t){let e=`${W8}T${Y8(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function PX(t,e){return!!((e==="v4"||!e)&&EX.test(t)||(e==="v6"||!e)&&AX.test(t))}function OX(t,e){if(!vX.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function DX(t,e){return!!((e==="v4"||!e)&&TX.test(t)||(e==="v6"||!e)&&SX.test(t))}class ko extends It{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qe.string){const a=this._getOrReturnCtx(e);return Me(a,{code:Re.invalid_type,expected:qe.string,received:a.parsedType}),ft}const r=new ss;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?Me(s,{code:Re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&Me(s,{code:Re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")wX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"email",code:Re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")q1||(q1=new RegExp(_X,"u")),q1.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"emoji",code:Re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")yX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"uuid",code:Re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")bX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"nanoid",code:Re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")mX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cuid",code:Re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")pX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cuid2",code:Re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")gX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"ulid",code:Re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Me(s,{validation:"url",code:Re.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"regex",code:Re.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?kX(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?RX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?IX(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?xX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"duration",code:Re.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?PX(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"ip",code:Re.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?OX(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"jwt",code:Re.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?DX(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cidr",code:Re.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?NX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"base64",code:Re.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?CX.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"base64url",code:Re.invalid_string,message:a.message}),r.dirty()):Ot.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Re.invalid_string,...He.errToObj(r)})}_addCheck(e){return new ko({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...He.errToObj(e)})}url(e){return this._addCheck({kind:"url",...He.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...He.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...He.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...He.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...He.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...He.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...He.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...He.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...He.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...He.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...He.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...He.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...He.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...He.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...He.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...He.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...He.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...He.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...He.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...He.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...He.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...He.errToObj(n)})}nonempty(e){return this.min(1,He.errToObj(e))}trim(){return new ko({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ko({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ko({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ko.create=t=>new ko({checks:[],typeName:ht.ZodString,coerce:t?.coerce??!1,...vt(t)});function jX(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(t.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return a%l/10**s}class tm extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qe.number){const a=this._getOrReturnCtx(e);return Me(a,{code:Re.invalid_type,expected:qe.number,received:a.parsedType}),ft}let r;const s=new ss;for(const a of this._def.checks)a.kind==="int"?Ot.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?jX(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.not_finite,message:a.message}),s.dirty()):Ot.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,He.toString(n))}gt(e,n){return this.setLimit("min",e,!1,He.toString(n))}lte(e,n){return this.setLimit("max",e,!0,He.toString(n))}lt(e,n){return this.setLimit("max",e,!1,He.toString(n))}setLimit(e,n,r,s){return new tm({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:He.toString(s)}]})}_addCheck(e){return new tm({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:He.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:He.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:He.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:He.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:He.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ot.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}tm.create=t=>new tm({checks:[],typeName:ht.ZodNumber,coerce:t?.coerce||!1,...vt(t)});class nm extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==qe.bigint)return this._getInvalidInput(e);let r;const s=new ss;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Re.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Ot.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Me(n,{code:Re.invalid_type,expected:qe.bigint,received:n.parsedType}),ft}gte(e,n){return this.setLimit("min",e,!0,He.toString(n))}gt(e,n){return this.setLimit("min",e,!1,He.toString(n))}lte(e,n){return this.setLimit("max",e,!0,He.toString(n))}lt(e,n){return this.setLimit("max",e,!1,He.toString(n))}setLimit(e,n,r,s){return new nm({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:He.toString(s)}]})}_addCheck(e){return new nm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:He.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}nm.create=t=>new nm({checks:[],typeName:ht.ZodBigInt,coerce:t?.coerce??!1,...vt(t)});class HN extends It{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qe.boolean){const r=this._getOrReturnCtx(e);return Me(r,{code:Re.invalid_type,expected:qe.boolean,received:r.parsedType}),ft}return As(e.data)}}HN.create=t=>new HN({typeName:ht.ZodBoolean,coerce:t?.coerce||!1,...vt(t)});class Ag extends It{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qe.date){const a=this._getOrReturnCtx(e);return Me(a,{code:Re.invalid_type,expected:qe.date,received:a.parsedType}),ft}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Me(a,{code:Re.invalid_date}),ft}const r=new ss;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Re.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ot.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ag({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:He.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:He.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ag.create=t=>new Ag({checks:[],coerce:t?.coerce||!1,typeName:ht.ZodDate,...vt(t)});class GN extends It{_parse(e){if(this._getType(e)!==qe.symbol){const r=this._getOrReturnCtx(e);return Me(r,{code:Re.invalid_type,expected:qe.symbol,received:r.parsedType}),ft}return As(e.data)}}GN.create=t=>new GN({typeName:ht.ZodSymbol,...vt(t)});class WN extends It{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:Re.invalid_type,expected:qe.undefined,received:r.parsedType}),ft}return As(e.data)}}WN.create=t=>new WN({typeName:ht.ZodUndefined,...vt(t)});class YN extends It{_parse(e){if(this._getType(e)!==qe.null){const r=this._getOrReturnCtx(e);return Me(r,{code:Re.invalid_type,expected:qe.null,received:r.parsedType}),ft}return As(e.data)}}YN.create=t=>new YN({typeName:ht.ZodNull,...vt(t)});class KN extends It{constructor(){super(...arguments),this._any=!0}_parse(e){return As(e.data)}}KN.create=t=>new KN({typeName:ht.ZodAny,...vt(t)});class ZN extends It{constructor(){super(...arguments),this._unknown=!0}_parse(e){return As(e.data)}}ZN.create=t=>new ZN({typeName:ht.ZodUnknown,...vt(t)});class Zo extends It{_parse(e){const n=this._getOrReturnCtx(e);return Me(n,{code:Re.invalid_type,expected:qe.never,received:n.parsedType}),ft}}Zo.create=t=>new Zo({typeName:ht.ZodNever,...vt(t)});class QN extends It{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:Re.invalid_type,expected:qe.void,received:r.parsedType}),ft}return As(e.data)}}QN.create=t=>new QN({typeName:ht.ZodVoid,...vt(t)});class Ii extends It{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==qe.array)return Me(n,{code:Re.invalid_type,expected:qe.array,received:n.parsedType}),ft;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(l||u)&&(Me(n,{code:l?Re.too_big:Re.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Me(n,{code:Re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Me(n,{code:Re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>s.type._parseAsync(new Ko(n,l,n.path,u)))).then(l=>ss.mergeArray(r,l));const a=[...n.data].map((l,u)=>s.type._parseSync(new Ko(n,l,n.path,u)));return ss.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Ii({...this._def,minLength:{value:e,message:He.toString(n)}})}max(e,n){return new Ii({...this._def,maxLength:{value:e,message:He.toString(n)}})}length(e,n){return new Ii({...this._def,exactLength:{value:e,message:He.toString(n)}})}nonempty(e){return this.min(1,e)}}Ii.create=(t,e)=>new Ii({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,...vt(e)});function ju(t){if(t instanceof On){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Uo.create(ju(r))}return new On({...t._def,shape:()=>e})}else return t instanceof Ii?new Ii({...t._def,type:ju(t.element)}):t instanceof Uo?Uo.create(ju(t.unwrap())):t instanceof xd?xd.create(ju(t.unwrap())):t instanceof bc?bc.create(t.items.map(e=>ju(e))):t}class On extends It{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ot.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==qe.object){const h=this._getOrReturnCtx(e);return Me(h,{code:Re.invalid_type,expected:qe.object,received:h.parsedType}),ft}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Zo&&this._def.unknownKeys==="strip"))for(const h in s.data)l.includes(h)||u.push(h);const d=[];for(const h of l){const m=a[h],b=s.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new Ko(s,b,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Zo){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(h==="strict")u.length>0&&(Me(s,{code:Re.unrecognized_keys,keys:u}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of u){const b=s.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new Ko(s,b,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const b=await m.key,v=await m.value;h.push({key:b,value:v,alwaysSet:m.alwaysSet})}return h}).then(h=>ss.mergeObjectSync(r,h)):ss.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return He.errToObj,new On({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:He.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new On({...this._def,unknownKeys:"strip"})}passthrough(){return new On({...this._def,unknownKeys:"passthrough"})}extend(e){return new On({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new On({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ht.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new On({...this._def,catchall:e})}pick(e){const n={};for(const r of Ot.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new On({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ot.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new On({...this._def,shape:()=>n})}deepPartial(){return ju(this)}partial(e){const n={};for(const r of Ot.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new On({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ot.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Uo;)a=a._def.innerType;n[r]=a}return new On({...this._def,shape:()=>n})}keyof(){return K8(Ot.objectKeys(this.shape))}}On.create=(t,e)=>new On({shape:()=>t,unknownKeys:"strip",catchall:Zo.create(),typeName:ht.ZodObject,...vt(e)});On.strictCreate=(t,e)=>new On({shape:()=>t,unknownKeys:"strict",catchall:Zo.create(),typeName:ht.ZodObject,...vt(e)});On.lazycreate=(t,e)=>new On({shape:t,unknownKeys:"strip",catchall:Zo.create(),typeName:ht.ZodObject,...vt(e)});class Sg extends It{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new Da(u.ctx.common.issues));return Me(n,{code:Re.invalid_union,unionErrors:l}),ft}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(d=>new Da(d));return Me(n,{code:Re.invalid_union,unionErrors:u}),ft}}get options(){return this._def.options}}Sg.create=(t,e)=>new Sg({options:t,typeName:ht.ZodUnion,...vt(e)});function Aw(t,e){const n=So(t),r=So(e);if(t===e)return{valid:!0,data:t};if(n===qe.object&&r===qe.object){const s=Ot.objectKeys(e),a=Ot.objectKeys(t).filter(u=>s.indexOf(u)!==-1),l={...t,...e};for(const u of a){const d=Aw(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(n===qe.array&&r===qe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],d=Aw(l,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===qe.date&&r===qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ng extends It{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,l)=>{if(zN(a)||zN(l))return ft;const u=Aw(a.value,l.value);return u.valid?(($N(a)||$N(l))&&n.dirty(),{status:n.value,value:u.data}):(Me(r,{code:Re.invalid_intersection_types}),ft)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ng.create=(t,e,n)=>new Ng({left:t,right:e,typeName:ht.ZodIntersection,...vt(n)});class bc extends It{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.array)return Me(r,{code:Re.invalid_type,expected:qe.array,received:r.parsedType}),ft;if(r.data.length<this._def.items.length)return Me(r,{code:Re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ft;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:Re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Ko(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>ss.mergeArray(n,l)):ss.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new bc({...this._def,rest:e})}}bc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bc({items:t,typeName:ht.ZodTuple,rest:null,...vt(e)})};class XN extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.map)return Me(r,{code:Re.invalid_type,expected:qe.map,received:r.parsedType}),ft;const s=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([u,d],h)=>({key:s._parse(new Ko(r,u,r.path,[h,"key"])),value:a._parse(new Ko(r,d,r.path,[h,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return ft;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(h.value,m.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of l){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return ft;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(h.value,m.value)}return{status:n.value,value:u}}}}XN.create=(t,e,n)=>new XN({valueType:e,keyType:t,typeName:ht.ZodMap,...vt(n)});class rm extends It{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.set)return Me(r,{code:Re.invalid_type,expected:qe.set,received:r.parsedType}),ft;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Me(r,{code:Re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Me(r,{code:Re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function l(d){const h=new Set;for(const m of d){if(m.status==="aborted")return ft;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const u=[...r.data.values()].map((d,h)=>a._parse(new Ko(r,d,r.path,h)));return r.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,n){return new rm({...this._def,minSize:{value:e,message:He.toString(n)}})}max(e,n){return new rm({...this._def,maxSize:{value:e,message:He.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}rm.create=(t,e)=>new rm({valueType:t,minSize:null,maxSize:null,typeName:ht.ZodSet,...vt(e)});class JN extends It{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}JN.create=(t,e)=>new JN({getter:t,typeName:ht.ZodLazy,...vt(e)});class eC extends It{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Me(n,{received:n.data,code:Re.invalid_literal,expected:this._def.value}),ft}return{status:"valid",value:e.data}}get value(){return this._def.value}}eC.create=(t,e)=>new eC({value:t,typeName:ht.ZodLiteral,...vt(e)});function K8(t,e){return new bd({values:t,typeName:ht.ZodEnum,...vt(e)})}class bd extends It{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{expected:Ot.joinValues(r),received:n.parsedType,code:Re.invalid_type}),ft}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{received:n.data,code:Re.invalid_enum_value,options:r}),ft}return As(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return bd.create(e,{...this._def,...n})}exclude(e,n=this._def){return bd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}bd.create=K8;class tC extends It{_parse(e){const n=Ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==qe.string&&r.parsedType!==qe.number){const s=Ot.objectValues(n);return Me(r,{expected:Ot.joinValues(s),received:r.parsedType,code:Re.invalid_type}),ft}if(this._cache||(this._cache=new Set(Ot.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ot.objectValues(n);return Me(r,{received:r.data,code:Re.invalid_enum_value,options:s}),ft}return As(e.data)}get enum(){return this._def.values}}tC.create=(t,e)=>new tC({values:t,typeName:ht.ZodNativeEnum,...vt(e)});class Cg extends It{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.promise&&n.common.async===!1)return Me(n,{code:Re.invalid_type,expected:qe.promise,received:n.parsedType}),ft;const r=n.parsedType===qe.promise?n.data:Promise.resolve(n.data);return As(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Cg.create=(t,e)=>new Cg({type:t,typeName:ht.ZodPromise,...vt(e)});class vd extends It{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:l=>{Me(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return ft;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?ft:d.status==="dirty"||n.value==="dirty"?lh(d.value):d});{if(n.value==="aborted")return ft;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?ft:u.status==="dirty"||n.value==="dirty"?lh(u.value):u}}if(s.type==="refinement"){const l=u=>{const d=s.refinement(u,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?ft:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?ft:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!yd(l))return ft;const u=s.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>yd(l)?Promise.resolve(s.transform(l.value,a)).then(u=>({status:n.value,value:u})):ft);Ot.assertNever(s)}}vd.create=(t,e,n)=>new vd({schema:t,typeName:ht.ZodEffects,effect:e,...vt(n)});vd.createWithPreprocess=(t,e,n)=>new vd({schema:e,effect:{type:"preprocess",transform:t},typeName:ht.ZodEffects,...vt(n)});class Uo extends It{_parse(e){return this._getType(e)===qe.undefined?As(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uo.create=(t,e)=>new Uo({innerType:t,typeName:ht.ZodOptional,...vt(e)});class xd extends It{_parse(e){return this._getType(e)===qe.null?As(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xd.create=(t,e)=>new xd({innerType:t,typeName:ht.ZodNullable,...vt(e)});class Sw extends It{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===qe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Sw.create=(t,e)=>new Sw({innerType:t,typeName:ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});class Nw extends It{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Tg(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Da(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Da(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Nw.create=(t,e)=>new Nw({innerType:t,typeName:ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});class nC extends It{_parse(e){if(this._getType(e)!==qe.nan){const r=this._getOrReturnCtx(e);return Me(r,{code:Re.invalid_type,expected:qe.nan,received:r.parsedType}),ft}return{status:"valid",value:e.data}}}nC.create=t=>new nC({typeName:ht.ZodNaN,...vt(t)});class MX extends It{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class HE extends It{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ft:a.status==="dirty"?(n.dirty(),lh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ft:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new HE({in:e,out:n,typeName:ht.ZodPipeline})}}class Cw extends It{_parse(e){const n=this._def.innerType._parse(e),r=s=>(yd(s)&&(s.value=Object.freeze(s.value)),s);return Tg(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Cw.create=(t,e)=>new Cw({innerType:t,typeName:ht.ZodReadonly,...vt(e)});var ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ht||(ht={}));const Eu=ko.create;Zo.create;Ii.create;const Z8=On.create;Sg.create;Ng.create;bc.create;const F0=bd.create;Cg.create;Uo.create;xd.create;function sn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function VX(t,e){const n=O.createContext(e),r=a=>{const{children:l,...u}=a,d=O.useMemo(()=>u,Object.values(u));return g.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function s(a){const l=O.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,s]}function Oy(t,e=[]){let n=[];function r(a,l){const u=O.createContext(l),d=n.length;n=[...n,l];const h=b=>{const{scope:v,children:w,...A}=b,T=v?.[t]?.[d]||u,N=O.useMemo(()=>A,Object.values(A));return g.jsx(T.Provider,{value:N,children:w})};h.displayName=a+"Provider";function m(b,v){const w=v?.[t]?.[d]||u,A=O.useContext(w);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${b}\` must be used within \`${a}\``)}return[h,m]}const s=()=>{const a=n.map(l=>O.createContext(l));return function(u){const d=u?.[t]||a;return O.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return s.scopeName=t,[r,LX(s,...e)]}function LX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const b=d(a)[`__scope${h}`];return{...u,...b}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var gr=globalThis?.document?O.useLayoutEffect:()=>{},BX=OC[" useId ".trim().toString()]||(()=>{}),UX=0;function Qu(t){const[e,n]=O.useState(BX());return gr(()=>{n(r=>r??String(UX++))},[t]),t||(e?`radix-${e}`:"")}var FX=OC[" useInsertionEffect ".trim().toString()]||gr;function Rw({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,l]=zX({defaultProp:e,onChange:n}),u=t!==void 0,d=u?t:s;{const m=O.useRef(t!==void 0);O.useEffect(()=>{const b=m.current;b!==u&&console.warn(`${r} is changing from ${b?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const h=O.useCallback(m=>{if(u){const b=$X(m)?m(t):m;b!==t&&l.current?.(b)}else a(m)},[u,t,a,l]);return[d,h]}function zX({defaultProp:t,onChange:e}){const[n,r]=O.useState(t),s=O.useRef(n),a=O.useRef(e);return FX(()=>{a.current=e},[e]),O.useEffect(()=>{s.current!==n&&(a.current?.(n),s.current=n)},[n,s]),[n,r,a]}function $X(t){return typeof t=="function"}var qX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],en=qX.reduce((t,e)=>{const n=gd(`Primitive.${e}`),r=O.forwardRef((s,a)=>{const{asChild:l,...u}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(d,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function HX(t,e){t&&cm.flushSync(()=>t.dispatchEvent(e))}function vc(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...n)=>e.current?.(...n),[])}function GX(t,e=globalThis?.document){const n=vc(t);O.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var WX="DismissableLayer",Iw="dismissableLayer.update",YX="dismissableLayer.pointerDownOutside",KX="dismissableLayer.focusOutside",rC,Q8=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GE=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=t,h=O.useContext(Q8),[m,b]=O.useState(null),v=m?.ownerDocument??globalThis?.document,[,w]=O.useState({}),A=Nn(e,P=>b(P)),T=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=T.indexOf(N),M=m?T.indexOf(m):-1,B=h.layersWithOutsidePointerEventsDisabled.size>0,$=M>=k,U=XX(P=>{const R=P.target,j=[...h.branches].some(F=>F.contains(R));!$||j||(s?.(P),l?.(P),P.defaultPrevented||u?.())},v),Z=JX(P=>{const R=P.target;[...h.branches].some(F=>F.contains(R))||(a?.(P),l?.(P),P.defaultPrevented||u?.())},v);return GX(P=>{M===h.layers.size-1&&(r?.(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},v),O.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(rC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),sC(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=rC)}},[m,v,n,h]),O.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),sC())},[m,h]),O.useEffect(()=>{const P=()=>w({});return document.addEventListener(Iw,P),()=>document.removeEventListener(Iw,P)},[]),g.jsx(en.div,{...d,ref:A,style:{pointerEvents:B?$?"auto":"none":void 0,...t.style},onFocusCapture:sn(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:sn(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:sn(t.onPointerDownCapture,U.onPointerDownCapture)})});GE.displayName=WX;var ZX="DismissableLayerBranch",QX=O.forwardRef((t,e)=>{const n=O.useContext(Q8),r=O.useRef(null),s=Nn(e,r);return O.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),g.jsx(en.div,{...t,ref:s})});QX.displayName=ZX;function XX(t,e=globalThis?.document){const n=vc(t),r=O.useRef(!1),s=O.useRef(()=>{});return O.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let d=function(){X8(YX,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JX(t,e=globalThis?.document){const n=vc(t),r=O.useRef(!1);return O.useEffect(()=>{const s=a=>{a.target&&!r.current&&X8(KX,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sC(){const t=new CustomEvent(Iw);document.dispatchEvent(t)}function X8(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HX(s,a):s.dispatchEvent(a)}var H1="focusScope.autoFocusOnMount",G1="focusScope.autoFocusOnUnmount",iC={bubbles:!1,cancelable:!0},eJ="FocusScope",WE=O.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=t,[u,d]=O.useState(null),h=vc(s),m=vc(a),b=O.useRef(null),v=Nn(e,T=>d(T)),w=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let T=function(B){if(w.paused||!u)return;const $=B.target;u.contains($)?b.current=$:To(b.current,{select:!0})},N=function(B){if(w.paused||!u)return;const $=B.relatedTarget;$!==null&&(u.contains($)||To(b.current,{select:!0}))},k=function(B){if(document.activeElement===document.body)for(const U of B)U.removedNodes.length>0&&To(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",N);const M=new MutationObserver(k);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",N),M.disconnect()}}},[r,u,w.paused]),O.useEffect(()=>{if(u){oC.add(w);const T=document.activeElement;if(!u.contains(T)){const k=new CustomEvent(H1,iC);u.addEventListener(H1,h),u.dispatchEvent(k),k.defaultPrevented||(tJ(aJ(J8(u)),{select:!0}),document.activeElement===T&&To(u))}return()=>{u.removeEventListener(H1,h),setTimeout(()=>{const k=new CustomEvent(G1,iC);u.addEventListener(G1,m),u.dispatchEvent(k),k.defaultPrevented||To(T??document.body,{select:!0}),u.removeEventListener(G1,m),oC.remove(w)},0)}}},[u,h,m,w]);const A=O.useCallback(T=>{if(!n&&!r||w.paused)return;const N=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,k=document.activeElement;if(N&&k){const M=T.currentTarget,[B,$]=nJ(M);B&&$?!T.shiftKey&&k===$?(T.preventDefault(),n&&To(B,{select:!0})):T.shiftKey&&k===B&&(T.preventDefault(),n&&To($,{select:!0})):k===M&&T.preventDefault()}},[n,r,w.paused]);return g.jsx(en.div,{tabIndex:-1,...l,ref:v,onKeyDown:A})});WE.displayName=eJ;function tJ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(To(r,{select:e}),document.activeElement!==n)return}function nJ(t){const e=J8(t),n=aC(e,t),r=aC(e.reverse(),t);return[n,r]}function J8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aC(t,e){for(const n of t)if(!rJ(n,{upTo:e}))return n}function rJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sJ(t){return t instanceof HTMLInputElement&&"select"in t}function To(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sJ(t)&&e&&t.select()}}var oC=iJ();function iJ(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=lC(t,e),t.unshift(e)},remove(e){t=lC(t,e),t[0]?.resume()}}}function lC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aJ(t){return t.filter(e=>e.tagName!=="A")}var oJ="Portal",YE=O.forwardRef((t,e)=>{const{container:n,...r}=t,[s,a]=O.useState(!1);gr(()=>a(!0),[]);const l=n||s&&globalThis?.document?.body;return l?Dj.createPortal(g.jsx(en.div,{...r,ref:e}),l):null});YE.displayName=oJ;function lJ(t,e){return O.useReducer((n,r)=>e[n][r]??n,t)}var Dy=t=>{const{present:e,children:n}=t,r=cJ(e),s=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),a=Nn(r.ref,uJ(s));return typeof n=="function"||r.isPresent?O.cloneElement(s,{ref:a}):null};Dy.displayName="Presence";function cJ(t){const[e,n]=O.useState(),r=O.useRef(null),s=O.useRef(t),a=O.useRef("none"),l=t?"mounted":"unmounted",[u,d]=lJ(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const h=x0(r.current);a.current=u==="mounted"?h:"none"},[u]),gr(()=>{const h=r.current,m=s.current;if(m!==t){const v=a.current,w=x0(h);t?d("MOUNT"):w==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),gr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,b=w=>{const T=x0(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&T&&(d("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},v=w=>{w.target===e&&(a.current=x0(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:O.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function x0(t){return t?.animationName||"none"}function uJ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var W1=0;function eP(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cC()),document.body.insertAdjacentElement("beforeend",t[1]??cC()),W1++,()=>{W1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),W1--}},[])}function cC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wi=function(){return wi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wi.apply(this,arguments)};function tP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function dJ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var z0="right-scroll-bar-position",$0="width-before-scroll-bar",fJ="with-scroll-bars-hidden",hJ="--removed-body-scroll-bar-size";function Y1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mJ(t,e){var n=O.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var pJ=typeof window<"u"?O.useLayoutEffect:O.useEffect,uC=new WeakMap;function gJ(t,e){var n=mJ(null,function(r){return t.forEach(function(s){return Y1(s,r)})});return pJ(function(){var r=uC.get(n);if(r){var s=new Set(r),a=new Set(t),l=n.current;s.forEach(function(u){a.has(u)||Y1(u,null)}),a.forEach(function(u){s.has(u)||Y1(u,l)})}uC.set(n,t)},[t]),n}function yJ(t){return t}function bJ(t,e){e===void 0&&(e=yJ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var d=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function vJ(t){t===void 0&&(t={});var e=bJ(null);return e.options=wi({async:!0,ssr:!1},t),e}var nP=function(t){var e=t.sideCar,n=tP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,wi({},n))};nP.isSideCarExport=!0;function xJ(t,e){return t.useMedium(e),nP}var rP=vJ(),K1=function(){},jy=O.forwardRef(function(t,e){var n=O.useRef(null),r=O.useState({onScrollCapture:K1,onWheelCapture:K1,onTouchMoveCapture:K1}),s=r[0],a=r[1],l=t.forwardProps,u=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,b=t.shards,v=t.sideCar,w=t.noRelative,A=t.noIsolation,T=t.inert,N=t.allowPinchZoom,k=t.as,M=k===void 0?"div":k,B=t.gapMode,$=tP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=v,Z=gJ([n,e]),P=wi(wi({},$),s);return O.createElement(O.Fragment,null,m&&O.createElement(U,{sideCar:rP,removeScrollBar:h,shards:b,noRelative:w,noIsolation:A,inert:T,setCallbacks:a,allowPinchZoom:!!N,lockRef:n,gapMode:B}),l?O.cloneElement(O.Children.only(u),wi(wi({},P),{ref:Z})):O.createElement(M,wi({},P,{className:d,ref:Z}),u))});jy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jy.classNames={fullWidth:$0,zeroRight:z0};var wJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _J(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wJ();return e&&t.setAttribute("nonce",e),t}function EJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_J())&&(EJ(e,n),TJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},SJ=function(){var t=AJ();return function(e,n){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sP=function(){var t=SJ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},NJ={left:0,top:0,right:0,gap:0},Z1=function(t){return parseInt(t||"",10)||0},CJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Z1(n),Z1(r),Z1(s)]},RJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NJ;var e=CJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IJ=sP(),Xu="data-scroll-locked",kJ=function(t,e,n,r){var s=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Xu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(z0,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat($0,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(z0," .").concat(z0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($0," .").concat($0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xu,`] {
    `).concat(hJ,": ").concat(u,`px;
  }
`)},dC=function(){var t=parseInt(document.body.getAttribute(Xu)||"0",10);return isFinite(t)?t:0},PJ=function(){O.useEffect(function(){return document.body.setAttribute(Xu,(dC()+1).toString()),function(){var t=dC()-1;t<=0?document.body.removeAttribute(Xu):document.body.setAttribute(Xu,t.toString())}},[])},OJ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;PJ();var a=O.useMemo(function(){return RJ(s)},[s]);return O.createElement(IJ,{styles:kJ(a,!e,s,n?"":"!important")})},kw=!1;if(typeof window<"u")try{var w0=Object.defineProperty({},"passive",{get:function(){return kw=!0,!0}});window.addEventListener("test",w0,w0),window.removeEventListener("test",w0,w0)}catch{kw=!1}var Tu=kw?{passive:!1}:!1,DJ=function(t){return t.tagName==="TEXTAREA"},iP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DJ(t)&&n[e]==="visible")},jJ=function(t){return iP(t,"overflowY")},MJ=function(t){return iP(t,"overflowX")},fC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=aP(t,r);if(s){var a=oP(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},VJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},LJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aP=function(t,e){return t==="v"?jJ(e):MJ(e)},oP=function(t,e){return t==="v"?VJ(e):LJ(e)},BJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},UJ=function(t,e,n,r,s){var a=BJ(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,d=e.contains(u),h=!1,m=l>0,b=0,v=0;do{if(!u)break;var w=oP(t,u),A=w[0],T=w[1],N=w[2],k=T-N-a*A;(A||k)&&aP(t,u)&&(b+=k,v+=A);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(m&&Math.abs(b)<1||!m&&Math.abs(v)<1)&&(h=!0),h},_0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hC=function(t){return[t.deltaX,t.deltaY]},mC=function(t){return t&&"current"in t?t.current:t},FJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$J=0,Au=[];function qJ(t){var e=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),s=O.useState($J++)[0],a=O.useState(sP)[0],l=O.useRef(t);O.useEffect(function(){l.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=dJ([t.lockRef.current],(t.shards||[]).map(mC),!0).filter(Boolean);return T.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=O.useCallback(function(T,N){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var k=_0(T),M=n.current,B="deltaX"in T?T.deltaX:M[0]-k[0],$="deltaY"in T?T.deltaY:M[1]-k[1],U,Z=T.target,P=Math.abs(B)>Math.abs($)?"h":"v";if("touches"in T&&P==="h"&&Z.type==="range")return!1;var R=fC(P,Z);if(!R)return!0;if(R?U=P:(U=P==="v"?"h":"v",R=fC(P,Z)),!R)return!1;if(!r.current&&"changedTouches"in T&&(B||$)&&(r.current=U),!U)return!0;var j=r.current||U;return UJ(j,N,T,j==="h"?B:$)},[]),d=O.useCallback(function(T){var N=T;if(!(!Au.length||Au[Au.length-1]!==a)){var k="deltaY"in N?hC(N):_0(N),M=e.current.filter(function(U){return U.name===N.type&&(U.target===N.target||N.target===U.shadowParent)&&FJ(U.delta,k)})[0];if(M&&M.should){N.cancelable&&N.preventDefault();return}if(!M){var B=(l.current.shards||[]).map(mC).filter(Boolean).filter(function(U){return U.contains(N.target)}),$=B.length>0?u(N,B[0]):!l.current.noIsolation;$&&N.cancelable&&N.preventDefault()}}},[]),h=O.useCallback(function(T,N,k,M){var B={name:T,delta:N,target:k,should:M,shadowParent:HJ(k)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function($){return $!==B})},1)},[]),m=O.useCallback(function(T){n.current=_0(T),r.current=void 0},[]),b=O.useCallback(function(T){h(T.type,hC(T),T.target,u(T,t.lockRef.current))},[]),v=O.useCallback(function(T){h(T.type,_0(T),T.target,u(T,t.lockRef.current))},[]);O.useEffect(function(){return Au.push(a),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Tu),document.addEventListener("touchmove",d,Tu),document.addEventListener("touchstart",m,Tu),function(){Au=Au.filter(function(T){return T!==a}),document.removeEventListener("wheel",d,Tu),document.removeEventListener("touchmove",d,Tu),document.removeEventListener("touchstart",m,Tu)}},[]);var w=t.removeScrollBar,A=t.inert;return O.createElement(O.Fragment,null,A?O.createElement(a,{styles:zJ(s)}):null,w?O.createElement(OJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function HJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const GJ=xJ(rP,qJ);var KE=O.forwardRef(function(t,e){return O.createElement(jy,wi({},t,{ref:e,sideCar:GJ}))});KE.classNames=jy.classNames;var WJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Su=new WeakMap,E0=new WeakMap,T0={},Q1=0,lP=function(t){return t&&(t.host||lP(t.parentNode))},YJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},KJ=function(t,e,n,r){var s=YJ(e,Array.isArray(t)?t:[t]);T0[n]||(T0[n]=new WeakMap);var a=T0[n],l=[],u=new Set,d=new Set(s),h=function(b){!b||u.has(b)||(u.add(b),h(b.parentNode))};s.forEach(h);var m=function(b){!b||d.has(b)||Array.prototype.forEach.call(b.children,function(v){if(u.has(v))m(v);else try{var w=v.getAttribute(r),A=w!==null&&w!=="false",T=(Su.get(v)||0)+1,N=(a.get(v)||0)+1;Su.set(v,T),a.set(v,N),l.push(v),T===1&&A&&E0.set(v,!0),N===1&&v.setAttribute(n,"true"),A||v.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",v,k)}})};return m(e),u.clear(),Q1++,function(){l.forEach(function(b){var v=Su.get(b)-1,w=a.get(b)-1;Su.set(b,v),a.set(b,w),v||(E0.has(b)||b.removeAttribute(r),E0.delete(b)),w||b.removeAttribute(n)}),Q1--,Q1||(Su=new WeakMap,Su=new WeakMap,E0=new WeakMap,T0={})}},cP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=WJ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),KJ(r,s,n,"aria-hidden")):function(){return null}},My="Dialog",[uP,lre]=Oy(My),[ZJ,ti]=uP(My),dP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,u=O.useRef(null),d=O.useRef(null),[h,m]=Rw({prop:r,defaultProp:s??!1,onChange:a,caller:My});return g.jsx(ZJ,{scope:e,triggerRef:u,contentRef:d,contentId:Qu(),titleId:Qu(),descriptionId:Qu(),open:h,onOpenChange:m,onOpenToggle:O.useCallback(()=>m(b=>!b),[m]),modal:l,children:n})};dP.displayName=My;var fP="DialogTrigger",QJ=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ti(fP,n),a=Nn(e,s.triggerRef);return g.jsx(en.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":XE(s.open),...r,ref:a,onClick:sn(t.onClick,s.onOpenToggle)})});QJ.displayName=fP;var ZE="DialogPortal",[XJ,hP]=uP(ZE,{forceMount:void 0}),mP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,a=ti(ZE,e);return g.jsx(XJ,{scope:e,forceMount:n,children:O.Children.map(r,l=>g.jsx(Dy,{present:n||a.open,children:g.jsx(YE,{asChild:!0,container:s,children:l})}))})};mP.displayName=ZE;var Rg="DialogOverlay",pP=O.forwardRef((t,e)=>{const n=hP(Rg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=ti(Rg,t.__scopeDialog);return a.modal?g.jsx(Dy,{present:r||a.open,children:g.jsx(eee,{...s,ref:e})}):null});pP.displayName=Rg;var JJ=gd("DialogOverlay.RemoveScroll"),eee=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ti(Rg,n);return g.jsx(KE,{as:JJ,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx(en.div,{"data-state":XE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xc="DialogContent",gP=O.forwardRef((t,e)=>{const n=hP(xc,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=ti(xc,t.__scopeDialog);return g.jsx(Dy,{present:r||a.open,children:a.modal?g.jsx(tee,{...s,ref:e}):g.jsx(nee,{...s,ref:e})})});gP.displayName=xc;var tee=O.forwardRef((t,e)=>{const n=ti(xc,t.__scopeDialog),r=O.useRef(null),s=Nn(e,n.contentRef,r);return O.useEffect(()=>{const a=r.current;if(a)return cP(a)},[]),g.jsx(yP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sn(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:sn(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:sn(t.onFocusOutside,a=>a.preventDefault())})}),nee=O.forwardRef((t,e)=>{const n=ti(xc,t.__scopeDialog),r=O.useRef(!1),s=O.useRef(!1);return g.jsx(yP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),yP=O.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=t,u=ti(xc,n),d=O.useRef(null),h=Nn(e,d);return eP(),g.jsxs(g.Fragment,{children:[g.jsx(WE,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:g.jsx(GE,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":XE(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(ree,{titleId:u.titleId}),g.jsx(iee,{contentRef:d,descriptionId:u.descriptionId})]})]})}),QE="DialogTitle",bP=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ti(QE,n);return g.jsx(en.h2,{id:s.titleId,...r,ref:e})});bP.displayName=QE;var vP="DialogDescription",xP=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ti(vP,n);return g.jsx(en.p,{id:s.descriptionId,...r,ref:e})});xP.displayName=vP;var wP="DialogClose",_P=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ti(wP,n);return g.jsx(en.button,{type:"button",...r,ref:e,onClick:sn(t.onClick,()=>s.onOpenChange(!1))})});_P.displayName=wP;function XE(t){return t?"open":"closed"}var EP="DialogTitleWarning",[cre,TP]=VX(EP,{contentName:xc,titleName:QE,docsSlug:"dialog"}),ree=({titleId:t})=>{const e=TP(EP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},see="DialogDescriptionWarning",iee=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TP(see).contentName}}.`;return O.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},aee=dP,oee=mP,lee=pP,cee=gP,uee=bP,dee=xP,fee=_P;function hee({...t}){return g.jsx(aee,{"data-slot":"dialog",...t})}function mee({...t}){return g.jsx(oee,{"data-slot":"dialog-portal",...t})}function pee({className:t,...e}){return g.jsx(lee,{"data-slot":"dialog-overlay",className:Jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function gee({className:t,children:e,showCloseButton:n=!0,...r}){return g.jsxs(mee,{"data-slot":"dialog-portal",children:[g.jsx(pee,{}),g.jsxs(cee,{"data-slot":"dialog-content",className:Jn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&g.jsxs(fee,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(wh,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function yee({className:t,...e}){return g.jsx("div",{"data-slot":"dialog-header",className:Jn("flex flex-col gap-2 text-center sm:text-left",t),...e})}function bee({className:t,...e}){return g.jsx("div",{"data-slot":"dialog-footer",className:Jn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function vee({className:t,...e}){return g.jsx(uee,{"data-slot":"dialog-title",className:Jn("text-lg leading-none font-semibold",t),...e})}function xee({className:t,...e}){return g.jsx(dee,{"data-slot":"dialog-description",className:Jn("text-muted-foreground text-sm",t),...e})}function pC(t,[e,n]){return Math.min(n,Math.max(e,t))}function wee(t){const e=t+"CollectionProvider",[n,r]=Oy(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:N,children:k}=T,M=$e.useRef(null),B=$e.useRef(new Map).current;return g.jsx(s,{scope:N,itemMap:B,collectionRef:M,children:k})};l.displayName=e;const u=t+"CollectionSlot",d=gd(u),h=$e.forwardRef((T,N)=>{const{scope:k,children:M}=T,B=a(u,k),$=Nn(N,B.collectionRef);return g.jsx(d,{ref:$,children:M})});h.displayName=u;const m=t+"CollectionItemSlot",b="data-radix-collection-item",v=gd(m),w=$e.forwardRef((T,N)=>{const{scope:k,children:M,...B}=T,$=$e.useRef(null),U=Nn(N,$),Z=a(m,k);return $e.useEffect(()=>(Z.itemMap.set($,{ref:$,...B}),()=>void Z.itemMap.delete($))),g.jsx(v,{[b]:"",ref:U,children:M})});w.displayName=m;function A(T){const N=a(t+"CollectionConsumer",T);return $e.useCallback(()=>{const M=N.collectionRef.current;if(!M)return[];const B=Array.from(M.querySelectorAll(`[${b}]`));return Array.from(N.itemMap.values()).sort((Z,P)=>B.indexOf(Z.ref.current)-B.indexOf(P.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},A,r]}var _ee=O.createContext(void 0);function Eee(t){const e=O.useContext(_ee);return t||e||"ltr"}const Tee=["top","right","bottom","left"],Qo=Math.min,Zr=Math.max,Ig=Math.round,A0=Math.floor,ki=t=>({x:t,y:t}),Aee={left:"right",right:"left",bottom:"top",top:"bottom"},See={start:"end",end:"start"};function Pw(t,e,n){return Zr(t,Qo(e,n))}function ja(t,e){return typeof t=="function"?t(e):t}function Ma(t){return t.split("-")[0]}function zd(t){return t.split("-")[1]}function JE(t){return t==="x"?"y":"x"}function e2(t){return t==="y"?"height":"width"}const Nee=new Set(["top","bottom"]);function Ei(t){return Nee.has(Ma(t))?"y":"x"}function t2(t){return JE(Ei(t))}function Cee(t,e,n){n===void 0&&(n=!1);const r=zd(t),s=t2(t),a=e2(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=kg(l)),[l,kg(l)]}function Ree(t){const e=kg(t);return[Ow(t),e,Ow(e)]}function Ow(t){return t.replace(/start|end/g,e=>See[e])}const gC=["left","right"],yC=["right","left"],Iee=["top","bottom"],kee=["bottom","top"];function Pee(t,e,n){switch(t){case"top":case"bottom":return n?e?yC:gC:e?gC:yC;case"left":case"right":return e?Iee:kee;default:return[]}}function Oee(t,e,n,r){const s=zd(t);let a=Pee(Ma(t),n==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Ow)))),a}function kg(t){return t.replace(/left|right|bottom|top/g,e=>Aee[e])}function Dee(t){return{top:0,right:0,bottom:0,left:0,...t}}function AP(t){return typeof t!="number"?Dee(t):{top:t,right:t,bottom:t,left:t}}function Pg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function bC(t,e,n){let{reference:r,floating:s}=t;const a=Ei(e),l=t2(e),u=e2(l),d=Ma(e),h=a==="y",m=r.x+r.width/2-s.width/2,b=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let w;switch(d){case"top":w={x:m,y:r.y-s.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:b};break;case"left":w={x:r.x-s.width,y:b};break;default:w={x:r.x,y:r.y}}switch(zd(e)){case"start":w[l]-=v*(n&&h?-1:1);break;case"end":w[l]+=v*(n&&h?-1:1);break}return w}const jee=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:b}=bC(h,r,d),v=r,w={},A=0;for(let T=0;T<u.length;T++){const{name:N,fn:k}=u[T],{x:M,y:B,data:$,reset:U}=await k({x:m,y:b,initialPlacement:r,placement:v,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:t,floating:e}});m=M??m,b=B??b,w={...w,[N]:{...w[N],...$}},U&&A<=50&&(A++,typeof U=="object"&&(U.placement&&(v=U.placement),U.rects&&(h=U.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):U.rects),{x:m,y:b}=bC(h,v,d)),T=-1)}return{x:m,y:b,placement:v,strategy:s,middlewareData:w}};async function sm(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:u,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:b="floating",altBoundary:v=!1,padding:w=0}=ja(e,t),A=AP(w),N=u[v?b==="floating"?"reference":"floating":b],k=Pg(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(N)))==null||n?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:d})),M=b==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),$=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},U=Pg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:B,strategy:d}):M);return{top:(k.top-U.top+A.top)/$.y,bottom:(U.bottom-k.bottom+A.bottom)/$.y,left:(k.left-U.left+A.left)/$.x,right:(U.right-k.right+A.right)/$.x}}const Mee=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:l,elements:u,middlewareData:d}=e,{element:h,padding:m=0}=ja(t,e)||{};if(h==null)return{};const b=AP(m),v={x:n,y:r},w=t2(s),A=e2(w),T=await l.getDimensions(h),N=w==="y",k=N?"top":"left",M=N?"bottom":"right",B=N?"clientHeight":"clientWidth",$=a.reference[A]+a.reference[w]-v[w]-a.floating[A],U=v[w]-a.reference[w],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let P=Z?Z[B]:0;(!P||!await(l.isElement==null?void 0:l.isElement(Z)))&&(P=u.floating[B]||a.floating[A]);const R=$/2-U/2,j=P/2-T[A]/2-1,F=Qo(b[k],j),z=Qo(b[M],j),q=F,D=P-T[A]-z,me=P/2-T[A]/2+R,ie=Pw(q,me,D),Y=!d.arrow&&zd(s)!=null&&me!==ie&&a.reference[A]/2-(me<q?F:z)-T[A]/2<0,Q=Y?me<q?me-q:me-D:0;return{[w]:v[w]+Q,data:{[w]:ie,centerOffset:me-ie-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),Vee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:T=!0,...N}=ja(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=Ma(s),M=Ei(u),B=Ma(u)===u,$=await(d.isRTL==null?void 0:d.isRTL(h.floating)),U=v||(B||!T?[kg(u)]:Ree(u)),Z=A!=="none";!v&&Z&&U.push(...Oee(u,T,A,$));const P=[u,...U],R=await sm(e,N),j=[];let F=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&j.push(R[k]),b){const me=Cee(s,l,$);j.push(R[me[0]],R[me[1]])}if(F=[...F,{placement:s,overflows:j}],!j.every(me=>me<=0)){var z,q;const me=(((z=a.flip)==null?void 0:z.index)||0)+1,ie=P[me];if(ie&&(!(b==="alignment"?M!==Ei(ie):!1)||F.every(W=>Ei(W.placement)===M?W.overflows[0]>0:!0)))return{data:{index:me,overflows:F},reset:{placement:ie}};let Y=(q=F.filter(Q=>Q.overflows[0]<=0).sort((Q,W)=>Q.overflows[1]-W.overflows[1])[0])==null?void 0:q.placement;if(!Y)switch(w){case"bestFit":{var D;const Q=(D=F.filter(W=>{if(Z){const se=Ei(W.placement);return se===M||se==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(se=>se>0).reduce((se,G)=>se+G,0)]).sort((W,se)=>W[1]-se[1])[0])==null?void 0:D[0];Q&&(Y=Q);break}case"initialPlacement":Y=u;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function vC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xC(t){return Tee.some(e=>t[e]>=0)}const Lee=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ja(t,e);switch(r){case"referenceHidden":{const a=await sm(e,{...s,elementContext:"reference"}),l=vC(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:xC(l)}}}case"escaped":{const a=await sm(e,{...s,altBoundary:!0}),l=vC(a,n.floating);return{data:{escapedOffsets:l,escaped:xC(l)}}}default:return{}}}}},SP=new Set(["left","top"]);async function Bee(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ma(n),u=zd(n),d=Ei(n)==="y",h=SP.has(l)?-1:1,m=a&&d?-1:1,b=ja(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:A}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return u&&typeof A=="number"&&(w=u==="end"?A*-1:A),d?{x:w*m,y:v*h}:{x:v*h,y:w*m}}const Uee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:l,middlewareData:u}=e,d=await Bee(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},Fee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:N=>{let{x:k,y:M}=N;return{x:k,y:M}}},...d}=ja(t,e),h={x:n,y:r},m=await sm(e,d),b=Ei(Ma(s)),v=JE(b);let w=h[v],A=h[b];if(a){const N=v==="y"?"top":"left",k=v==="y"?"bottom":"right",M=w+m[N],B=w-m[k];w=Pw(M,w,B)}if(l){const N=b==="y"?"top":"left",k=b==="y"?"bottom":"right",M=A+m[N],B=A-m[k];A=Pw(M,A,B)}const T=u.fn({...e,[v]:w,[b]:A});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:a,[b]:l}}}}}},zee=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=ja(t,e),m={x:n,y:r},b=Ei(s),v=JE(b);let w=m[v],A=m[b];const T=ja(u,e),N=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(d){const B=v==="y"?"height":"width",$=a.reference[v]-a.floating[B]+N.mainAxis,U=a.reference[v]+a.reference[B]-N.mainAxis;w<$?w=$:w>U&&(w=U)}if(h){var k,M;const B=v==="y"?"width":"height",$=SP.has(Ma(s)),U=a.reference[b]-a.floating[B]+($&&((k=l.offset)==null?void 0:k[b])||0)+($?0:N.crossAxis),Z=a.reference[b]+a.reference[B]+($?0:((M=l.offset)==null?void 0:M[b])||0)-($?N.crossAxis:0);A<U?A=U:A>Z&&(A=Z)}return{[v]:w,[b]:A}}}},$ee=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:l,elements:u}=e,{apply:d=()=>{},...h}=ja(t,e),m=await sm(e,h),b=Ma(s),v=zd(s),w=Ei(s)==="y",{width:A,height:T}=a.floating;let N,k;b==="top"||b==="bottom"?(N=b,k=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(k=b,N=v==="end"?"top":"bottom");const M=T-m.top-m.bottom,B=A-m.left-m.right,$=Qo(T-m[N],M),U=Qo(A-m[k],B),Z=!e.middlewareData.shift;let P=$,R=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=M),Z&&!v){const F=Zr(m.left,0),z=Zr(m.right,0),q=Zr(m.top,0),D=Zr(m.bottom,0);w?R=A-2*(F!==0||z!==0?F+z:Zr(m.left,m.right)):P=T-2*(q!==0||D!==0?q+D:Zr(m.top,m.bottom))}await d({...e,availableWidth:R,availableHeight:P});const j=await l.getDimensions(u.floating);return A!==j.width||T!==j.height?{reset:{rects:!0}}:{}}}};function Vy(){return typeof window<"u"}function $d(t){return NP(t)?(t.nodeName||"").toLowerCase():"#document"}function ts(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bi(t){var e;return(e=(NP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NP(t){return Vy()?t instanceof Node||t instanceof ts(t).Node:!1}function Ks(t){return Vy()?t instanceof Element||t instanceof ts(t).Element:!1}function Mi(t){return Vy()?t instanceof HTMLElement||t instanceof ts(t).HTMLElement:!1}function wC(t){return!Vy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ts(t).ShadowRoot}const qee=new Set(["inline","contents"]);function Um(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qee.has(s)}const Hee=new Set(["table","td","th"]);function Gee(t){return Hee.has($d(t))}const Wee=[":popover-open",":modal"];function Ly(t){return Wee.some(e=>{try{return t.matches(e)}catch{return!1}})}const Yee=["transform","translate","scale","rotate","perspective"],Kee=["transform","translate","scale","rotate","perspective","filter"],Zee=["paint","layout","strict","content"];function n2(t){const e=r2(),n=Ks(t)?Zs(t):t;return Yee.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Kee.some(r=>(n.willChange||"").includes(r))||Zee.some(r=>(n.contain||"").includes(r))}function Qee(t){let e=Xo(t);for(;Mi(e)&&!wd(e);){if(n2(e))return e;if(Ly(e))return null;e=Xo(e)}return null}function r2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xee=new Set(["html","body","#document"]);function wd(t){return Xee.has($d(t))}function Zs(t){return ts(t).getComputedStyle(t)}function By(t){return Ks(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xo(t){if($d(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wC(t)&&t.host||Bi(t);return wC(e)?e.host:e}function CP(t){const e=Xo(t);return wd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mi(e)&&Um(e)?e:CP(e)}function im(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=CP(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),l=ts(s);if(a){const u=Dw(l);return e.concat(l,l.visualViewport||[],Um(s)?s:[],u&&n?im(u):[])}return e.concat(s,im(s,[],n))}function Dw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RP(t){const e=Zs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Mi(t),a=s?t.offsetWidth:n,l=s?t.offsetHeight:r,u=Ig(n)!==a||Ig(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function s2(t){return Ks(t)?t:t.contextElement}function Ju(t){const e=s2(t);if(!Mi(e))return ki(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=RP(e);let l=(a?Ig(n.width):n.width)/r,u=(a?Ig(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Jee=ki(0);function IP(t){const e=ts(t);return!r2()||!e.visualViewport?Jee:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ete(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ts(t)?!1:e}function wc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=s2(t);let l=ki(1);e&&(r?Ks(r)&&(l=Ju(r)):l=Ju(t));const u=ete(a,n,r)?IP(a):ki(0);let d=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,m=s.width/l.x,b=s.height/l.y;if(a){const v=ts(a),w=r&&Ks(r)?ts(r):r;let A=v,T=Dw(A);for(;T&&r&&w!==A;){const N=Ju(T),k=T.getBoundingClientRect(),M=Zs(T),B=k.left+(T.clientLeft+parseFloat(M.paddingLeft))*N.x,$=k.top+(T.clientTop+parseFloat(M.paddingTop))*N.y;d*=N.x,h*=N.y,m*=N.x,b*=N.y,d+=B,h+=$,A=ts(T),T=Dw(A)}}return Pg({width:m,height:b,x:d,y:h})}function Uy(t,e){const n=By(t).scrollLeft;return e?e.left+n:wc(Bi(t)).left+n}function kP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Uy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function tte(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",l=Bi(r),u=e?Ly(e.floating):!1;if(r===l||u&&a)return n;let d={scrollLeft:0,scrollTop:0},h=ki(1);const m=ki(0),b=Mi(r);if((b||!b&&!a)&&(($d(r)!=="body"||Um(l))&&(d=By(r)),Mi(r))){const w=wc(r);h=Ju(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}const v=l&&!b&&!a?kP(l,d):ki(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+v.x,y:n.y*h.y-d.scrollTop*h.y+m.y+v.y}}function nte(t){return Array.from(t.getClientRects())}function rte(t){const e=Bi(t),n=By(t),r=t.ownerDocument.body,s=Zr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Zr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Uy(t);const u=-n.scrollTop;return Zs(r).direction==="rtl"&&(l+=Zr(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:u}}const _C=25;function ste(t,e){const n=ts(t),r=Bi(t),s=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){a=s.width,l=s.height;const m=r2();(!m||m&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const h=Uy(r);if(h<=0){const m=r.ownerDocument,b=m.body,v=getComputedStyle(b),w=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,A=Math.abs(r.clientWidth-b.clientWidth-w);A<=_C&&(a-=A)}else h<=_C&&(a+=h);return{width:a,height:l,x:u,y:d}}const ite=new Set(["absolute","fixed"]);function ate(t,e){const n=wc(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=Mi(t)?Ju(t):ki(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,d=s*a.x,h=r*a.y;return{width:l,height:u,x:d,y:h}}function EC(t,e,n){let r;if(e==="viewport")r=ste(t,n);else if(e==="document")r=rte(Bi(t));else if(Ks(e))r=ate(e,n);else{const s=IP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Pg(r)}function PP(t,e){const n=Xo(t);return n===e||!Ks(n)||wd(n)?!1:Zs(n).position==="fixed"||PP(n,e)}function ote(t,e){const n=e.get(t);if(n)return n;let r=im(t,[],!1).filter(u=>Ks(u)&&$d(u)!=="body"),s=null;const a=Zs(t).position==="fixed";let l=a?Xo(t):t;for(;Ks(l)&&!wd(l);){const u=Zs(l),d=n2(l);!d&&u.position==="fixed"&&(s=null),(a?!d&&!s:!d&&u.position==="static"&&!!s&&ite.has(s.position)||Um(l)&&!d&&PP(t,l))?r=r.filter(m=>m!==l):s=u,l=Xo(l)}return e.set(t,r),r}function lte(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Ly(e)?[]:ote(e,this._c):[].concat(n),r],u=l[0],d=l.reduce((h,m)=>{const b=EC(e,m,s);return h.top=Zr(b.top,h.top),h.right=Qo(b.right,h.right),h.bottom=Qo(b.bottom,h.bottom),h.left=Zr(b.left,h.left),h},EC(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function cte(t){const{width:e,height:n}=RP(t);return{width:e,height:n}}function ute(t,e,n){const r=Mi(e),s=Bi(e),a=n==="fixed",l=wc(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=ki(0);function h(){d.x=Uy(s)}if(r||!r&&!a)if(($d(e)!=="body"||Um(s))&&(u=By(e)),r){const w=wc(e,!0,a,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else s&&h();a&&!r&&s&&h();const m=s&&!r&&!a?kP(s,u):ki(0),b=l.left+u.scrollLeft-d.x-m.x,v=l.top+u.scrollTop-d.y-m.y;return{x:b,y:v,width:l.width,height:l.height}}function X1(t){return Zs(t).position==="static"}function TC(t,e){if(!Mi(t)||Zs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bi(t)===n&&(n=n.ownerDocument.body),n}function OP(t,e){const n=ts(t);if(Ly(t))return n;if(!Mi(t)){let s=Xo(t);for(;s&&!wd(s);){if(Ks(s)&&!X1(s))return s;s=Xo(s)}return n}let r=TC(t,e);for(;r&&Gee(r)&&X1(r);)r=TC(r,e);return r&&wd(r)&&X1(r)&&!n2(r)?n:r||Qee(t)||n}const dte=async function(t){const e=this.getOffsetParent||OP,n=this.getDimensions,r=await n(t.floating);return{reference:ute(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fte(t){return Zs(t).direction==="rtl"}const hte={convertOffsetParentRelativeRectToViewportRelativeRect:tte,getDocumentElement:Bi,getClippingRect:lte,getOffsetParent:OP,getElementRects:dte,getClientRects:nte,getDimensions:cte,getScale:Ju,isElement:Ks,isRTL:fte};function DP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mte(t,e){let n=null,r;const s=Bi(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:m,top:b,width:v,height:w}=h;if(u||e(),!v||!w)return;const A=A0(b),T=A0(s.clientWidth-(m+v)),N=A0(s.clientHeight-(b+w)),k=A0(m),B={rootMargin:-A+"px "+-T+"px "+-N+"px "+-k+"px",threshold:Zr(0,Qo(1,d))||1};let $=!0;function U(Z){const P=Z[0].intersectionRatio;if(P!==d){if(!$)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!DP(h,t.getBoundingClientRect())&&l(),$=!1}try{n=new IntersectionObserver(U,{...B,root:s.ownerDocument})}catch{n=new IntersectionObserver(U,B)}n.observe(t)}return l(!0),a}function pte(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=s2(t),m=s||a?[...h?im(h):[],...im(e)]:[];m.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const b=h&&u?mte(h,n):null;let v=-1,w=null;l&&(w=new ResizeObserver(k=>{let[M]=k;M&&M.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var B;(B=w)==null||B.observe(e)})),n()}),h&&!d&&w.observe(h),w.observe(e));let A,T=d?wc(t):null;d&&N();function N(){const k=wc(t);T&&!DP(T,k)&&n(),T=k,A=requestAnimationFrame(N)}return n(),()=>{var k;m.forEach(M=>{s&&M.removeEventListener("scroll",n),a&&M.removeEventListener("resize",n)}),b?.(),(k=w)==null||k.disconnect(),w=null,d&&cancelAnimationFrame(A)}}const gte=Uee,yte=Fee,bte=Vee,vte=$ee,xte=Lee,AC=Mee,wte=zee,_te=(t,e,n)=>{const r=new Map,s={platform:hte,...n},a={...s.platform,_c:r};return jee(t,e,{...s,platform:a})};var Ete=typeof document<"u",Tte=function(){},q0=Ete?O.useLayoutEffect:Tte;function Og(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Og(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!Og(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function jP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function SC(t,e){const n=jP(t);return Math.round(e*n)/n}function J1(t){const e=O.useRef(t);return q0(()=>{e.current=t}),e}function Ate(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=t,[m,b]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=O.useState(r);Og(v,r)||w(r);const[A,T]=O.useState(null),[N,k]=O.useState(null),M=O.useCallback(W=>{W!==Z.current&&(Z.current=W,T(W))},[]),B=O.useCallback(W=>{W!==P.current&&(P.current=W,k(W))},[]),$=a||A,U=l||N,Z=O.useRef(null),P=O.useRef(null),R=O.useRef(m),j=d!=null,F=J1(d),z=J1(s),q=J1(h),D=O.useCallback(()=>{if(!Z.current||!P.current)return;const W={placement:e,strategy:n,middleware:v};z.current&&(W.platform=z.current),_te(Z.current,P.current,W).then(se=>{const G={...se,isPositioned:q.current!==!1};me.current&&!Og(R.current,G)&&(R.current=G,cm.flushSync(()=>{b(G)}))})},[v,e,n,z,q]);q0(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,b(W=>({...W,isPositioned:!1})))},[h]);const me=O.useRef(!1);q0(()=>(me.current=!0,()=>{me.current=!1}),[]),q0(()=>{if($&&(Z.current=$),U&&(P.current=U),$&&U){if(F.current)return F.current($,U,D);D()}},[$,U,D,F,j]);const ie=O.useMemo(()=>({reference:Z,floating:P,setReference:M,setFloating:B}),[M,B]),Y=O.useMemo(()=>({reference:$,floating:U}),[$,U]),Q=O.useMemo(()=>{const W={position:n,left:0,top:0};if(!Y.floating)return W;const se=SC(Y.floating,m.x),G=SC(Y.floating,m.y);return u?{...W,transform:"translate("+se+"px, "+G+"px)",...jP(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:G}},[n,u,Y.floating,m.x,m.y]);return O.useMemo(()=>({...m,update:D,refs:ie,elements:Y,floatingStyles:Q}),[m,D,ie,Y,Q])}const Ste=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AC({element:r.current,padding:s}).fn(n):{}:r?AC({element:r,padding:s}).fn(n):{}}}},Nte=(t,e)=>({...gte(t),options:[t,e]}),Cte=(t,e)=>({...yte(t),options:[t,e]}),Rte=(t,e)=>({...wte(t),options:[t,e]}),Ite=(t,e)=>({...bte(t),options:[t,e]}),kte=(t,e)=>({...vte(t),options:[t,e]}),Pte=(t,e)=>({...xte(t),options:[t,e]}),Ote=(t,e)=>({...Ste(t),options:[t,e]});var Dte="Arrow",MP=O.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return g.jsx(en.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});MP.displayName=Dte;var jte=MP;function Mte(t){const[e,n]=O.useState(void 0);return gr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var i2="Popper",[VP,LP]=Oy(i2),[Vte,BP]=VP(i2),UP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=O.useState(null);return g.jsx(Vte,{scope:e,anchor:r,onAnchorChange:s,children:n})};UP.displayName=i2;var FP="PopperAnchor",zP=O.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=BP(FP,n),l=O.useRef(null),u=Nn(e,l),d=O.useRef(null);return O.useEffect(()=>{const h=d.current;d.current=r?.current||l.current,h!==d.current&&a.onAnchorChange(d.current)}),r?null:g.jsx(en.div,{...s,ref:u})});zP.displayName=FP;var a2="PopperContent",[Lte,Bte]=VP(a2),$P=O.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:A,...T}=t,N=BP(a2,n),[k,M]=O.useState(null),B=Nn(e,Ee=>M(Ee)),[$,U]=O.useState(null),Z=Mte($),P=Z?.width??0,R=Z?.height??0,j=r+(a!=="center"?"-"+a:""),F=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},z=Array.isArray(h)?h:[h],q=z.length>0,D={padding:F,boundary:z.filter(Fte),altBoundary:q},{refs:me,floatingStyles:ie,placement:Y,isPositioned:Q,middlewareData:W}=Ate({strategy:"fixed",placement:j,whileElementsMounted:(...Ee)=>pte(...Ee,{animationFrame:w==="always"}),elements:{reference:N.anchor},middleware:[Nte({mainAxis:s+R,alignmentAxis:l}),d&&Cte({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?Rte():void 0,...D}),d&&Ite({...D}),kte({...D,apply:({elements:Ee,rects:Ve,availableWidth:nt,availableHeight:Qe})=>{const{width:et,height:st}=Ve.reference,Xe=Ee.floating.style;Xe.setProperty("--radix-popper-available-width",`${nt}px`),Xe.setProperty("--radix-popper-available-height",`${Qe}px`),Xe.setProperty("--radix-popper-anchor-width",`${et}px`),Xe.setProperty("--radix-popper-anchor-height",`${st}px`)}}),$&&Ote({element:$,padding:u}),zte({arrowWidth:P,arrowHeight:R}),v&&Pte({strategy:"referenceHidden",...D})]}),[se,G]=GP(Y),ne=vc(A);gr(()=>{Q&&ne?.()},[Q,ne]);const fe=W.arrow?.x,ye=W.arrow?.y,ge=W.arrow?.centerOffset!==0,[Ce,Oe]=O.useState();return gr(()=>{k&&Oe(window.getComputedStyle(k).zIndex)},[k]),g.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:Q?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(Lte,{scope:n,placedSide:se,onArrowChange:U,arrowX:fe,arrowY:ye,shouldHideArrow:ge,children:g.jsx(en.div,{"data-side":se,"data-align":G,...T,ref:B,style:{...T.style,animation:Q?void 0:"none"}})})})});$P.displayName=a2;var qP="PopperArrow",Ute={top:"bottom",right:"left",bottom:"top",left:"right"},HP=O.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=Bte(qP,r),l=Ute[a.placedSide];return g.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:g.jsx(jte,{...s,ref:n,style:{...s.style,display:"block"}})})});HP.displayName=qP;function Fte(t){return t!==null}var zte=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,m]=GP(n),b={start:"0%",center:"50%",end:"100%"}[m],v=(s.arrow?.x??0)+u/2,w=(s.arrow?.y??0)+d/2;let A="",T="";return h==="bottom"?(A=l?b:`${v}px`,T=`${-d}px`):h==="top"?(A=l?b:`${v}px`,T=`${r.floating.height+d}px`):h==="right"?(A=`${-d}px`,T=l?b:`${w}px`):h==="left"&&(A=`${r.floating.width+d}px`,T=l?b:`${w}px`),{data:{x:A,y:T}}}});function GP(t){const[e,n="center"]=t.split("-");return[e,n]}var $te=UP,qte=zP,Hte=$P,Gte=HP;function Wte(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var WP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Yte="VisuallyHidden",Kte=O.forwardRef((t,e)=>g.jsx(en.span,{...t,ref:e,style:{...WP,...t.style}}));Kte.displayName=Yte;var Zte=[" ","Enter","ArrowUp","ArrowDown"],Qte=[" ","Enter"],_c="Select",[Fy,zy,Xte]=wee(_c),[qd,ure]=Oy(_c,[Xte,LP]),$y=LP(),[Jte,rl]=qd(_c),[ene,tne]=qd(_c),YP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:u,onValueChange:d,dir:h,name:m,autoComplete:b,disabled:v,required:w,form:A}=t,T=$y(e),[N,k]=O.useState(null),[M,B]=O.useState(null),[$,U]=O.useState(!1),Z=Eee(h),[P,R]=Rw({prop:r,defaultProp:s??!1,onChange:a,caller:_c}),[j,F]=Rw({prop:l,defaultProp:u,onChange:d,caller:_c}),z=O.useRef(null),q=N?A||!!N.closest("form"):!0,[D,me]=O.useState(new Set),ie=Array.from(D).map(Y=>Y.props.value).join(";");return g.jsx($te,{...T,children:g.jsxs(Jte,{required:w,scope:e,trigger:N,onTriggerChange:k,valueNode:M,onValueNodeChange:B,valueNodeHasChildren:$,onValueNodeHasChildrenChange:U,contentId:Qu(),value:j,onValueChange:F,open:P,onOpenChange:R,dir:Z,triggerPointerDownPosRef:z,disabled:v,children:[g.jsx(Fy.Provider,{scope:e,children:g.jsx(ene,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(Y=>{me(Q=>new Set(Q).add(Y))},[]),onNativeOptionRemove:O.useCallback(Y=>{me(Q=>{const W=new Set(Q);return W.delete(Y),W})},[]),children:n})}),q?g.jsxs(g9,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:b,value:j,onChange:Y=>F(Y.target.value),disabled:v,form:A,children:[j===void 0?g.jsx("option",{value:""}):null,Array.from(D)]},ie):null]})})};YP.displayName=_c;var KP="SelectTrigger",ZP=O.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,a=$y(n),l=rl(KP,n),u=l.disabled||r,d=Nn(e,l.onTriggerChange),h=zy(n),m=O.useRef("touch"),[b,v,w]=b9(T=>{const N=h().filter(B=>!B.disabled),k=N.find(B=>B.value===l.value),M=v9(N,T,k);M!==void 0&&l.onValueChange(M.value)}),A=T=>{u||(l.onOpenChange(!0),w()),T&&(l.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return g.jsx(qte,{asChild:!0,...a,children:g.jsx(en.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":y9(l.value)?"":void 0,...s,ref:d,onClick:sn(s.onClick,T=>{T.currentTarget.focus(),m.current!=="mouse"&&A(T)}),onPointerDown:sn(s.onPointerDown,T=>{m.current=T.pointerType;const N=T.target;N.hasPointerCapture(T.pointerId)&&N.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(A(T),T.preventDefault())}),onKeyDown:sn(s.onKeyDown,T=>{const N=b.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&v(T.key),!(N&&T.key===" ")&&Zte.includes(T.key)&&(A(),T.preventDefault())})})})});ZP.displayName=KP;var QP="SelectValue",XP=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:l="",...u}=t,d=rl(QP,n),{onValueNodeHasChildrenChange:h}=d,m=a!==void 0,b=Nn(e,d.onValueNodeChange);return gr(()=>{h(m)},[h,m]),g.jsx(en.span,{...u,ref:b,style:{pointerEvents:"none"},children:y9(d.value)?g.jsx(g.Fragment,{children:l}):a})});XP.displayName=QP;var nne="SelectIcon",JP=O.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return g.jsx(en.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});JP.displayName=nne;var rne="SelectPortal",e9=t=>g.jsx(YE,{asChild:!0,...t});e9.displayName=rne;var Ec="SelectContent",t9=O.forwardRef((t,e)=>{const n=rl(Ec,t.__scopeSelect),[r,s]=O.useState();if(gr(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?cm.createPortal(g.jsx(n9,{scope:t.__scopeSelect,children:g.jsx(Fy.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),a):null}return g.jsx(r9,{...t,ref:e})});t9.displayName=Ec;var js=10,[n9,sl]=qd(Ec),sne="SelectContentImpl",ine=gd("SelectContent.RemoveScroll"),r9=O.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:A,hideWhenDetached:T,avoidCollisions:N,...k}=t,M=rl(Ec,n),[B,$]=O.useState(null),[U,Z]=O.useState(null),P=Nn(e,Ee=>$(Ee)),[R,j]=O.useState(null),[F,z]=O.useState(null),q=zy(n),[D,me]=O.useState(!1),ie=O.useRef(!1);O.useEffect(()=>{if(B)return cP(B)},[B]),eP();const Y=O.useCallback(Ee=>{const[Ve,...nt]=q().map(st=>st.ref.current),[Qe]=nt.slice(-1),et=document.activeElement;for(const st of Ee)if(st===et||(st?.scrollIntoView({block:"nearest"}),st===Ve&&U&&(U.scrollTop=0),st===Qe&&U&&(U.scrollTop=U.scrollHeight),st?.focus(),document.activeElement!==et))return},[q,U]),Q=O.useCallback(()=>Y([R,B]),[Y,R,B]);O.useEffect(()=>{D&&Q()},[D,Q]);const{onOpenChange:W,triggerPointerDownPosRef:se}=M;O.useEffect(()=>{if(B){let Ee={x:0,y:0};const Ve=Qe=>{Ee={x:Math.abs(Math.round(Qe.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(Qe.pageY)-(se.current?.y??0))}},nt=Qe=>{Ee.x<=10&&Ee.y<=10?Qe.preventDefault():B.contains(Qe.target)||W(!1),document.removeEventListener("pointermove",Ve),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",nt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",nt,{capture:!0})}}},[B,W,se]),O.useEffect(()=>{const Ee=()=>W(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[W]);const[G,ne]=b9(Ee=>{const Ve=q().filter(et=>!et.disabled),nt=Ve.find(et=>et.ref.current===document.activeElement),Qe=v9(Ve,Ee,nt);Qe&&setTimeout(()=>Qe.ref.current.focus())}),fe=O.useCallback((Ee,Ve,nt)=>{const Qe=!ie.current&&!nt;(M.value!==void 0&&M.value===Ve||Qe)&&(j(Ee),Qe&&(ie.current=!0))},[M.value]),ye=O.useCallback(()=>B?.focus(),[B]),ge=O.useCallback((Ee,Ve,nt)=>{const Qe=!ie.current&&!nt;(M.value!==void 0&&M.value===Ve||Qe)&&z(Ee)},[M.value]),Ce=r==="popper"?jw:s9,Oe=Ce===jw?{side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:A,hideWhenDetached:T,avoidCollisions:N}:{};return g.jsx(n9,{scope:n,content:B,viewport:U,onViewportChange:Z,itemRefCallback:fe,selectedItem:R,onItemLeave:ye,itemTextRefCallback:ge,focusSelectedItem:Q,selectedItemText:F,position:r,isPositioned:D,searchRef:G,children:g.jsx(KE,{as:ine,allowPinchZoom:!0,children:g.jsx(WE,{asChild:!0,trapped:M.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:sn(s,Ee=>{M.trigger?.focus({preventScroll:!0}),Ee.preventDefault()}),children:g.jsx(GE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:g.jsx(Ce,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:Ee=>Ee.preventDefault(),...k,...Oe,onPlaced:()=>me(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:sn(k.onKeyDown,Ee=>{const Ve=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!Ve&&Ee.key.length===1&&ne(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let Qe=q().filter(et=>!et.disabled).map(et=>et.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(Qe=Qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const et=Ee.target,st=Qe.indexOf(et);Qe=Qe.slice(st+1)}setTimeout(()=>Y(Qe)),Ee.preventDefault()}})})})})})})});r9.displayName=sne;var ane="SelectItemAlignedPosition",s9=O.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,a=rl(Ec,n),l=sl(Ec,n),[u,d]=O.useState(null),[h,m]=O.useState(null),b=Nn(e,P=>m(P)),v=zy(n),w=O.useRef(!1),A=O.useRef(!0),{viewport:T,selectedItem:N,selectedItemText:k,focusSelectedItem:M}=l,B=O.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&T&&N&&k){const P=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),F=k.getBoundingClientRect();if(a.dir!=="rtl"){const et=F.left-R.left,st=j.left-et,Xe=P.left-st,Dt=P.width+Xe,Rn=Math.max(Dt,R.width),yn=window.innerWidth-js,Kt=pC(st,[js,Math.max(js,yn-Rn)]);u.style.minWidth=Dt+"px",u.style.left=Kt+"px"}else{const et=R.right-F.right,st=window.innerWidth-j.right-et,Xe=window.innerWidth-P.right-st,Dt=P.width+Xe,Rn=Math.max(Dt,R.width),yn=window.innerWidth-js,Kt=pC(st,[js,Math.max(js,yn-Rn)]);u.style.minWidth=Dt+"px",u.style.right=Kt+"px"}const z=v(),q=window.innerHeight-js*2,D=T.scrollHeight,me=window.getComputedStyle(h),ie=parseInt(me.borderTopWidth,10),Y=parseInt(me.paddingTop,10),Q=parseInt(me.borderBottomWidth,10),W=parseInt(me.paddingBottom,10),se=ie+Y+D+W+Q,G=Math.min(N.offsetHeight*5,se),ne=window.getComputedStyle(T),fe=parseInt(ne.paddingTop,10),ye=parseInt(ne.paddingBottom,10),ge=P.top+P.height/2-js,Ce=q-ge,Oe=N.offsetHeight/2,Ee=N.offsetTop+Oe,Ve=ie+Y+Ee,nt=se-Ve;if(Ve<=ge){const et=z.length>0&&N===z[z.length-1].ref.current;u.style.bottom="0px";const st=h.clientHeight-T.offsetTop-T.offsetHeight,Xe=Math.max(Ce,Oe+(et?ye:0)+st+Q),Dt=Ve+Xe;u.style.height=Dt+"px"}else{const et=z.length>0&&N===z[0].ref.current;u.style.top="0px";const Xe=Math.max(ge,ie+T.offsetTop+(et?fe:0)+Oe)+nt;u.style.height=Xe+"px",T.scrollTop=Ve-ge+T.offsetTop}u.style.margin=`${js}px 0`,u.style.minHeight=G+"px",u.style.maxHeight=q+"px",r?.(),requestAnimationFrame(()=>w.current=!0)}},[v,a.trigger,a.valueNode,u,h,T,N,k,a.dir,r]);gr(()=>B(),[B]);const[$,U]=O.useState();gr(()=>{h&&U(window.getComputedStyle(h).zIndex)},[h]);const Z=O.useCallback(P=>{P&&A.current===!0&&(B(),M?.(),A.current=!1)},[B,M]);return g.jsx(lne,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:Z,children:g.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:g.jsx(en.div,{...s,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});s9.displayName=ane;var one="SelectPopperPosition",jw=O.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=js,...a}=t,l=$y(n);return g.jsx(Hte,{...l,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jw.displayName=one;var[lne,o2]=qd(Ec,{}),Mw="SelectViewport",i9=O.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,a=sl(Mw,n),l=o2(Mw,n),u=Nn(e,a.onViewportChange),d=O.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(Fy.Slot,{scope:n,children:g.jsx(en.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:sn(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:v}=l;if(v?.current&&b){const w=Math.abs(d.current-m.scrollTop);if(w>0){const A=window.innerHeight-js*2,T=parseFloat(b.style.minHeight),N=parseFloat(b.style.height),k=Math.max(T,N);if(k<A){const M=k+w,B=Math.min(A,M),$=M-B;b.style.height=B+"px",b.style.bottom==="0px"&&(m.scrollTop=$>0?$:0,b.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});i9.displayName=Mw;var a9="SelectGroup",[cne,une]=qd(a9),dne=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Qu();return g.jsx(cne,{scope:n,id:s,children:g.jsx(en.div,{role:"group","aria-labelledby":s,...r,ref:e})})});dne.displayName=a9;var o9="SelectLabel",fne=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=une(o9,n);return g.jsx(en.div,{id:s.id,...r,ref:e})});fne.displayName=o9;var Dg="SelectItem",[hne,l9]=qd(Dg),c9=O.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...l}=t,u=rl(Dg,n),d=sl(Dg,n),h=u.value===r,[m,b]=O.useState(a??""),[v,w]=O.useState(!1),A=Nn(e,M=>d.itemRefCallback?.(M,r,s)),T=Qu(),N=O.useRef("touch"),k=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(hne,{scope:n,value:r,disabled:s,textId:T,isSelected:h,onItemTextChange:O.useCallback(M=>{b(B=>B||(M?.textContent??"").trim())},[]),children:g.jsx(Fy.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:g.jsx(en.div,{role:"option","aria-labelledby":T,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:A,onFocus:sn(l.onFocus,()=>w(!0)),onBlur:sn(l.onBlur,()=>w(!1)),onClick:sn(l.onClick,()=>{N.current!=="mouse"&&k()}),onPointerUp:sn(l.onPointerUp,()=>{N.current==="mouse"&&k()}),onPointerDown:sn(l.onPointerDown,M=>{N.current=M.pointerType}),onPointerMove:sn(l.onPointerMove,M=>{N.current=M.pointerType,s?d.onItemLeave?.():N.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:sn(l.onPointerLeave,M=>{M.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:sn(l.onKeyDown,M=>{d.searchRef?.current!==""&&M.key===" "||(Qte.includes(M.key)&&k(),M.key===" "&&M.preventDefault())})})})})});c9.displayName=Dg;var ch="SelectItemText",u9=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...a}=t,l=rl(ch,n),u=sl(ch,n),d=l9(ch,n),h=tne(ch,n),[m,b]=O.useState(null),v=Nn(e,k=>b(k),d.onItemTextChange,k=>u.itemTextRefCallback?.(k,d.value,d.disabled)),w=m?.textContent,A=O.useMemo(()=>g.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:T,onNativeOptionRemove:N}=h;return gr(()=>(T(A),()=>N(A)),[T,N,A]),g.jsxs(g.Fragment,{children:[g.jsx(en.span,{id:d.textId,...a,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?cm.createPortal(a.children,l.valueNode):null]})});u9.displayName=ch;var d9="SelectItemIndicator",f9=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l9(d9,n).isSelected?g.jsx(en.span,{"aria-hidden":!0,...r,ref:e}):null});f9.displayName=d9;var Vw="SelectScrollUpButton",h9=O.forwardRef((t,e)=>{const n=sl(Vw,t.__scopeSelect),r=o2(Vw,t.__scopeSelect),[s,a]=O.useState(!1),l=Nn(e,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?g.jsx(p9,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});h9.displayName=Vw;var Lw="SelectScrollDownButton",m9=O.forwardRef((t,e)=>{const n=sl(Lw,t.__scopeSelect),r=o2(Lw,t.__scopeSelect),[s,a]=O.useState(!1),l=Nn(e,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;a(m)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?g.jsx(p9,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});m9.displayName=Lw;var p9=O.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,a=sl("SelectScrollButton",n),l=O.useRef(null),u=zy(n),d=O.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return O.useEffect(()=>()=>d(),[d]),gr(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),g.jsx(en.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:sn(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:sn(s.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:sn(s.onPointerLeave,()=>{d()})})}),mne="SelectSeparator",pne=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(en.div,{"aria-hidden":!0,...r,ref:e})});pne.displayName=mne;var Bw="SelectArrow",gne=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$y(n),a=rl(Bw,n),l=sl(Bw,n);return a.open&&l.position==="popper"?g.jsx(Gte,{...s,...r,ref:e}):null});gne.displayName=Bw;var yne="SelectBubbleInput",g9=O.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=O.useRef(null),a=Nn(r,s),l=Wte(e);return O.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&m){const b=new Event("change",{bubbles:!0});m.call(u,e),u.dispatchEvent(b)}},[l,e]),g.jsx(en.select,{...n,style:{...WP,...n.style},ref:a,defaultValue:e})});g9.displayName=yne;function y9(t){return t===""||t===void 0}function b9(t){const e=vc(t),n=O.useRef(""),r=O.useRef(0),s=O.useCallback(l=>{const u=n.current+l;e(u),function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[e]),a=O.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function v9(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=bne(t,Math.max(a,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function bne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vne=YP,xne=ZP,wne=XP,_ne=JP,Ene=e9,Tne=t9,Ane=i9,Sne=c9,Nne=u9,Cne=f9,Rne=h9,Ine=m9;function kne({...t}){return g.jsx(vne,{"data-slot":"select",...t})}function Pne({...t}){return g.jsx(wne,{"data-slot":"select-value",...t})}function One({className:t,size:e="default",children:n,...r}){return g.jsxs(xne,{"data-slot":"select-trigger","data-size":e,className:Jn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,g.jsx(_ne,{asChild:!0,children:g.jsx(XC,{className:"size-4 opacity-50"})})]})}function Dne({className:t,children:e,position:n="popper",...r}){return g.jsx(Ene,{children:g.jsxs(Tne,{"data-slot":"select-content",className:Jn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx(jne,{}),g.jsx(Ane,{className:Jn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),g.jsx(Mne,{})]})})}function ex({className:t,children:e,...n}){return g.jsxs(Sne,{"data-slot":"select-item",className:Jn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(Cne,{children:g.jsx(QC,{className:"size-4"})})}),g.jsx(Nne,{children:e})]})}function jne({className:t,...e}){return g.jsx(Rne,{"data-slot":"select-scroll-up-button",className:Jn("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(Gj,{className:"size-4"})})}function Mne({className:t,...e}){return g.jsx(Ine,{"data-slot":"select-scroll-down-button",className:Jn("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(XC,{className:"size-4"})})}function S0({className:t,type:e,...n}){return g.jsx("input",{type:e,"data-slot":"input",className:Jn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const Vne=Z8({title:Eu().min(1,"Job title is required"),description:Eu().min(10,"Description must be at least 10 characters"),requirements:Eu().optional(),skills:Eu().optional(),location:F0(["Remote","Hybrid","Onsite"]),type:F0(["full-time","part-time","contract","internship","freelance"]),salaryMin:Eu().refine(t=>!t||!isNaN(Number(t)),{message:"Must be a valid number"}),salaryMax:Eu().refine(t=>!t||!isNaN(Number(t)),{message:"Must be a valid number"}),status:F0(["active","closed","draft"])}),Lne=()=>{const[t,e]=O.useState(!1),{companyJobs:n,user:r,companyApplications:s}=ei(),a=zE({resolver:G8(Vne),defaultValues:{title:"",description:"",requirements:"",skills:"",location:"Onsite",type:"full-time",salaryMin:"",salaryMax:"",status:"active"}}),l=async d=>{if(!r){console.error("User not authenticated");return}const h=u8(),m=Yr(Rr),b={id:h,companyId:r.id,title:d.title,description:d.description,requirements:d.requirements?d.requirements.split(`
`).filter(v=>v.trim()):[],skills:d.skills?d.skills.split(",").map(v=>v.trim()).filter(v=>v):[],location:d.location,type:d.type,salary:{min:Number(d.salaryMin)||0,max:Number(d.salaryMax)||0,currency:"USD"},postedAt:new Date().toISOString(),status:d.status,company:{id:r.id,companyName:r.name||"Company"}};try{await uc(Fn(m,"jobs",h),b),console.log("Job posted to Firestore:",h),e(!1),a.reset()}catch(v){console.error("Error posting job:",v)}},u=d=>(s||[]).filter(h=>h.jobId===d).length;return g.jsxs("div",{className:"w-full p-1",children:[g.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-10",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Job Listings"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage job listings"})]}),g.jsxs("button",{onClick:()=>e(!0),className:"mt-4 md:mt-0 bg-blue-600 text-white px-5 py-2.5 rounded-lg font-semibold hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 transition-all flex items-center gap-2",children:[g.jsx(JC,{className:"w-5 h-5"}),"Create Job Listing"]})]}),g.jsx(hee,{open:t,onOpenChange:e,children:g.jsxs(gee,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[g.jsxs(yee,{children:[g.jsx(vee,{children:"Create Job Listing"}),g.jsx(xee,{children:"Fill out the form below to create a job listing."})]}),g.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-5",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),g.jsx(S0,{type:"text",...a.register("title"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.formState.errors.title&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.formState.errors.title.message})]}),g.jsxs("div",{className:"h-full",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),g.jsxs(kne,{onValueChange:d=>a.setValue("location",d),defaultValue:a.getValues("location"),children:[g.jsx(One,{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:g.jsx(Pne,{placeholder:"Select location"})}),g.jsxs(Dne,{children:[g.jsx(ex,{value:"Remote",children:"Remote"}),g.jsx(ex,{value:"Hybrid",children:"Hybrid"}),g.jsx(ex,{value:"Onsite",children:"Onsite"})]})]}),a.formState.errors.location&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.formState.errors.location.message})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Description"}),g.jsx("textarea",{...a.register("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.formState.errors.description&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.formState.errors.description.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements (one per line)"}),g.jsx("textarea",{...a.register("requirements"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`5+ years experience
Bachelor's degree
Strong communication skills`})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills (comma separated)"}),g.jsx(S0,{type:"text",...a.register("skills"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"React, TypeScript, Node.js"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type"}),g.jsxs("select",{...a.register("type"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[g.jsx("option",{value:"full-time",children:"Full-time"}),g.jsx("option",{value:"part-time",children:"Part-time"}),g.jsx("option",{value:"contract",children:"Contract"}),g.jsx("option",{value:"remote",children:"Remote"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Salary ($)"}),g.jsx(S0,{type:"number",...a.register("salaryMin"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Salary ($)"}),g.jsx(S0,{type:"number",...a.register("salaryMax"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),g.jsxs(bee,{className:"flex justify-end gap-3 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:a.formState.isSubmitting,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a.formState.isSubmitting?"Creating...":"Create Listing"})]})]})]})}),g.jsx("div",{className:"space-y-6",children:n&&n.length===0?g.jsxs("div",{className:"text-center py-16 border border-dashed border-gray-300 rounded-lg",children:[g.jsx(nc,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No jobs posted yet"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Start by creating your first job listing"}),g.jsx("button",{onClick:()=>e(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700",children:"Create Your First Job Listing"})]},0):n&&n.map(d=>g.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:d.title}),g.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${d.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:d.status})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-gray-600 mb-3",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(rc,{className:"w-4 h-4"}),d.location]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Kw,{className:"w-4 h-4"}),"$",d.salary.min.toLocaleString()," - $",d.salary.max.toLocaleString()]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Yw,{className:"w-4 h-4"}),new Date(d.postedAt).toLocaleDateString()]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(ox,{className:"w-4 h-4"}),u(d.id)," submissions"]})]}),g.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:d.description}),g.jsx("div",{className:"flex flex-wrap gap-2",children:d.skills&&d.skills.map(h=>g.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:h},h))})]}),g.jsxs("div",{className:"flex items-center gap-2 self-start",children:[g.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:g.jsx(xh,{className:"w-5 h-5"})}),g.jsx("button",{className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:g.jsx(Zw,{className:"w-5 h-5"})})]})]})},d.id))})]})},Bne=Z8({role:F0(["candidate","company"],{required_error:"Please select your role"})});function Une(){const{control:t,handleSubmit:e,watch:n,formState:{isSubmitting:r}}=zE({resolver:G8(Bne),mode:"onChange",defaultValues:{role:void 0}}),s=n("role"),a=om(),l=O.useCallback(async u=>{const d=_s.currentUser?.uid;d&&await Rz(d,u.role==="candidate"?"student":"recruiter"),localStorage.setItem("role",u.role),a(`/${u.role}`)},[a]);return g.jsxs("div",{className:"min-h-screen bg-neutral-950 flex items-center flex-col justify-center p-5 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-violet-900/10 rounded-full blur-[100px] animate-pulse"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[500px] h-[500px] bg-amber-900/10 rounded-full blur-[100px] animate-pulse delay-700"})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-4xl",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-sans font-bold text-transparent bg-clip-text bg-gradient-to-r from-violet-200 via-white to-amber-200 mb-4 tracking-tight",children:"Identify Your Role"}),g.jsx("p",{className:"text-neutral-400 text-lg max-w-lg mx-auto leading-relaxed",children:"Select your path to access the decentralized verification network."})]}),g.jsxs("form",{onSubmit:e(l),children:[g.jsx(_Z,{name:"role",control:t,render:({field:u,fieldState:d})=>g.jsxs("div",{className:"mb-10",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsx("div",{className:`group relative cursor-pointer rounded-3xl p-8 transition-all duration-500 transform ${u.value==="candidate"?"bg-neutral-900 border-2 border-violet-500/50 shadow-2xl shadow-violet-500/20 scale-[1.02]":"bg-neutral-900/50 border border-neutral-800 hover:bg-neutral-800 hover:border-violet-500/30"} backdrop-blur-xl`,onClick:()=>u.onChange("candidate"),children:g.jsxs("div",{className:"flex flex-col items-center text-center gap-6",children:[g.jsx("div",{className:`rounded-2xl p-5 transition-all duration-500 ${u.value==="candidate"?"bg-gradient-to-br from-violet-600 to-fuchsia-600 text-white shadow-lg":"bg-neutral-800 text-violet-400 group-hover:scale-110"}`,children:g.jsxs("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l9-5-9-5-9 5 9 5z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})}),g.jsxs("div",{children:[g.jsx("h3",{className:`font-bold text-2xl mb-2 transition-colors ${u.value==="candidate"?"text-white":"text-neutral-200 group-hover:text-white"}`,children:"Student / Candidate"}),g.jsxs("p",{className:"text-neutral-400 text-sm leading-relaxed group-hover:text-neutral-300 transition-colors",children:["Build your on-chain verified CV. ",g.jsx("br",{}),"Apply to jobs with zero-knowledge proof credentials."]})]}),g.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500/50"}),g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500/30"}),g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500/10"})]}),u.value==="candidate"&&g.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-violet-500/20 rounded-full flex items-center justify-center animate-pulse",children:g.jsx("svg",{className:"w-4 h-4 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})}),g.jsx("div",{className:`group relative cursor-pointer rounded-3xl p-8 transition-all duration-500 transform ${u.value==="company"?"bg-neutral-900 border-2 border-amber-500/50 shadow-2xl shadow-amber-500/20 scale-[1.02]":"bg-neutral-900/50 border border-neutral-800 hover:bg-neutral-800 hover:border-amber-500/30"} backdrop-blur-xl`,onClick:()=>u.onChange("company"),children:g.jsxs("div",{className:"flex flex-col items-center text-center gap-6",children:[g.jsx("div",{className:`rounded-2xl p-5 transition-all duration-500 ${u.value==="company"?"bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg":"bg-neutral-800 text-amber-400 group-hover:scale-110"}`,children:g.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),g.jsxs("div",{children:[g.jsx("h3",{className:`font-bold text-2xl mb-2 transition-colors ${u.value==="company"?"text-white":"text-neutral-200 group-hover:text-white"}`,children:"Recruiter / Company"}),g.jsxs("p",{className:"text-neutral-400 text-sm leading-relaxed group-hover:text-neutral-300 transition-colors",children:["Verify entity reputation on-chain. ",g.jsx("br",{}),"Hire verified talent instantly."]})]}),g.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/50"}),g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/30"}),g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/10"})]}),u.value==="company"&&g.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-amber-500/20 rounded-full flex items-center justify-center animate-pulse",children:g.jsx("svg",{className:"w-4 h-4 text-amber-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})})]}),d.error&&g.jsx("div",{className:"flex justify-center mt-6 animate-fade-in-up",children:g.jsxs("p",{className:"text-rose-400 bg-rose-500/10 px-4 py-2 rounded-lg text-sm font-medium border border-rose-500/20",children:[" ",d.error.message]})})]})}),g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsx("button",{type:"submit",disabled:!s||r,className:`w-full p-4 rounded-xl font-bold text-lg transition-all duration-300 transform border border-transparent ${s==="candidate"?"bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40 hover:scale-[1.02]":s==="company"?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25 hover:shadow-amber-500/40 hover:scale-[1.02]":"bg-neutral-800 text-neutral-500 border-neutral-700 cursor-not-allowed opacity-50"}`,children:g.jsx("div",{className:"flex items-center justify-center gap-3",children:r?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),g.jsx("span",{children:"Initializing Dashboard..."})]}):g.jsxs(g.Fragment,{children:[g.jsxs("span",{children:["Continue as ",s==="candidate"?"Student":s==="company"?"Recruiter":"..."]}),s&&g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})}),g.jsx("p",{className:"text-center text-neutral-500 text-xs mt-6",children:"VeriTrust is currently running on Flow EVM Testnet (Chain ID 545)."})]})]})]})]})}const Fne=({application:t,userRole:e,onStatusChange:n})=>{const r={[Ze.APPLIED]:{label:"Pending Review",color:"bg-amber-100 text-amber-800 border-amber-200",icon:Ql},[Ze.UNDER_REVIEW]:{label:"Under Review",color:"bg-blue-100 text-blue-800 border-blue-200",icon:xh},[Ze.ACCEPTED]:{label:"Verified",color:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:jr},[Ze.REJECTED]:{label:"Needs Attention",color:"bg-rose-100 text-rose-800 border-rose-200",icon:wh},[Ze.EXAM_INVITED]:{label:"Exam Invited",color:"bg-purple-100 text-purple-800 border-purple-200",icon:xh}},s=r[t.status]||r[Ze.APPLIED],a=e==="company";return g.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow flex flex-col h-full",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-900 leading-snug truncate",children:t.job.title}),g.jsx("p",{className:"text-sm text-slate-600 font-medium truncate mt-1",children:t.job.company?.companyName||"-"})]}),g.jsx("span",{className:`shrink-0 inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold border ${s.color}`,children:s.label})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-slate-600 mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-slate-50 border border-slate-100 px-3 py-2",children:[g.jsx(rc,{className:"w-4 h-4 text-slate-500"}),g.jsx("span",{className:"truncate",children:t.job.location||"-"})]}),g.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-slate-50 border border-slate-100 px-3 py-2",children:[g.jsx(Yw,{className:"w-4 h-4 text-slate-500"}),g.jsxs("span",{className:"truncate",children:["Submitted ",new Date(t.appliedAt).toLocaleDateString()]})]})]}),g.jsx("div",{className:"rounded-xl border border-slate-100 bg-white mb-4 flex-grow",children:g.jsxs("div",{className:"px-4 py-3",children:[g.jsx("div",{className:"flex items-center justify-between gap-4",children:g.jsxs("p",{className:"text-sm text-slate-700 truncate",children:[g.jsx("span",{className:"font-semibold text-slate-900",children:"Student:"})," ",t?.candidate.name||"-"]})}),g.jsxs("p",{className:"text-sm text-slate-600 truncate mt-1",children:[g.jsx("span",{className:"font-semibold text-slate-900",children:"Email:"})," ",t.candidate.candidateId||t.candidate.email||"-"]})]})}),a&&g.jsxs("div",{className:"mt-auto border-t border-slate-100 pt-4",children:[t.status===Ze.APPLIED&&g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("button",{onClick:()=>n(t.id,Ze.UNDER_REVIEW),className:"flex justify-center items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-sm",children:"Review"}),g.jsx("button",{onClick:()=>n(t.id,Ze.REJECTED),className:"flex justify-center items-center gap-2 px-3 py-2 bg-white border border-rose-200 text-rose-700 rounded-lg hover:bg-rose-50 transition-colors text-sm font-medium",children:"Reject"})]}),t.status===Ze.UNDER_REVIEW&&g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("button",{onClick:()=>n(t.id,Ze.ACCEPTED),className:"flex justify-center items-center gap-2 px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-medium shadow-sm",children:[g.jsx(QC,{className:"w-4 h-4"})," Verify"]}),g.jsx("button",{onClick:()=>n(t.id,Ze.REJECTED),className:"flex justify-center items-center gap-2 px-3 py-2 bg-white border border-rose-200 text-rose-700 rounded-lg hover:bg-rose-50 transition-colors text-sm font-medium",children:"Needs Info"})]}),(t.status===Ze.ACCEPTED||t.status===Ze.REJECTED)&&g.jsx("p",{className:"text-center text-xs text-slate-400 font-medium italic",children:t.status===Ze.ACCEPTED?"Application Verified":"Application Rejected"})]}),g.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:g.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[g.jsx("span",{children:"Status"}),g.jsx("span",{className:"font-semibold text-slate-700",children:s.label})]})})]})},NC=()=>{const t=Vi(),n=(t.pathname.startsWith("/candidate")?"candidate":t.pathname.startsWith("/company")?"company":null)==="candidate",{myApplication:r,companyApplications:s,updateApplicationStatus:a}=ei(),l=O.useMemo(()=>n?r||[]:s||[],[n,r,s]),[u,d]=O.useState(""),[h,m]=O.useState("all"),[b,v]=O.useState("date"),w=async(N,k)=>{a&&await a(N,k)},A=O.useMemo(()=>({total:l.length,underReview:l.filter(N=>N.status==="pending"||N.status==="reviewed").length,verified:l.filter(N=>N.status==="accepted").length,rejected:l.filter(N=>N.status==="rejected").length,confirmed:l.filter(N=>N.status==="accepted").length}),[l]),T=O.useMemo(()=>l.filter(N=>{const k=u===""||(N.job?.title||"").toLowerCase().includes(u.toLowerCase())||(N.candidate?.name||"").toLowerCase().includes(u.toLowerCase()),M=h==="all"||N.status===h;return h==="all"?k:h==="pending"?k&&(N.status==="pending"||N.status==="reviewed"):h==="approved"||h==="verified"?k&&N.status==="accepted":h==="rejected"?k&&N.status==="rejected":k&&M}).sort((N,k)=>b==="date"?new Date(k.appliedAt).getTime()-new Date(N.appliedAt).getTime():0),[l,u,h,b]);return g.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g.jsx("div",{className:"mb-6",children:g.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:g.jsx("div",{className:"px-6 py-6 sm:px-8 sm:py-7 bg-gradient-to-r from-blue-50 via-white to-emerald-50",children:g.jsxs("div",{className:"flex items-start justify-between gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-semibold text-slate-900 tracking-tight",children:"Submissions Dashboard"}),g.jsx("p",{className:"text-slate-600 mt-1",children:n?"Track your profile submissions":"Review profile submissions from students"})]}),g.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center rounded-full border border-blue-200 bg-blue-50 px-3 py-1 text-xs font-semibold text-blue-700",children:"Identity"}),g.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700",children:"Verified"}),g.jsx("span",{className:"inline-flex items-center rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:"Under Review"})]})]})})})}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[g.jsx("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-blue-50 rounded-xl border border-blue-100",children:g.jsx(xa,{className:"w-5 h-5 text-blue-700"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Total"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900 mt-1",children:A.total})]})]})}),g.jsx("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-amber-50 rounded-xl border border-amber-100",children:g.jsx(xa,{className:"w-5 h-5 text-amber-700"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Under Review"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900 mt-1",children:A.underReview})]})]})}),g.jsx("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-emerald-50 rounded-xl border border-emerald-100",children:g.jsx(Ti,{className:"w-5 h-5 text-emerald-700"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Verified"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900 mt-1",children:A.verified})]})]})}),g.jsx("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-red-50 rounded-xl border border-red-100",children:g.jsx(wh,{className:"w-5 h-5 text-red-700"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Needs Attention"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900 mt-1",children:A.rejected})]})]})}),g.jsx("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-blue-50 rounded-xl border border-blue-100",children:g.jsx(Ti,{className:"w-5 h-5 text-blue-700"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Confirmed"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900 mt-1",children:A.confirmed})]})]})})]}),g.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm mb-6",children:g.jsxs("div",{className:"p-5 sm:p-6 flex flex-col lg:flex-row gap-4 lg:items-center",children:[g.jsxs("div",{className:"flex-1 relative",children:[g.jsx(ax,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),g.jsx("input",{type:"text",placeholder:"Search submissions...",value:u,onChange:N=>d(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[g.jsxs("select",{value:h,onChange:N=>m(N.target.value),className:"px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"pending",children:"Pending & Reviewing"}),g.jsx("option",{value:"approved",children:"Verified"}),g.jsx("option",{value:"rejected",children:"Needs Attention"})]}),g.jsxs("select",{value:b,onChange:N=>v(N.target.value),className:"px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[g.jsx("option",{value:"date",children:"Sort by Date"}),g.jsx("option",{value:"status",children:"Sort by Status"}),g.jsx("option",{value:"company",children:"Sort by Organization"})]})]})]})}),T.length>0?g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:T.map(N=>g.jsx(Fne,{application:N,userRole:n?"candidate":"company",onStatusChange:w},N.id))}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(xa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No submissions found"}),g.jsx("p",{className:"text-gray-600",children:u||h!=="all"?"Try adjusting your search or filters":"No submissions available at this time"})]})]})})},zne=()=>{const{loading:t}=ei();return t?g.jsx(lZ,{message:"Loading..."}):g.jsxs(ej,{children:[g.jsxs(fr,{path:"/candidate",element:g.jsx(cZ,{allowedType:"candidate",children:g.jsx(fN,{})}),children:[g.jsx(fr,{index:!0,element:g.jsx(lQ,{})}),g.jsx(fr,{path:"jobs",element:g.jsx(gZ,{})}),g.jsx(fr,{path:"profile",element:g.jsx(aQ,{})}),g.jsx(fr,{path:"applications",element:g.jsx(oQ,{})}),g.jsx(fr,{path:"commondashboard",element:g.jsx(NC,{})})]}),g.jsxs(fr,{path:"/company",element:g.jsx(fN,{}),children:[g.jsx(fr,{path:"applications",element:g.jsx(cQ,{})}),g.jsx(fr,{path:"profile",element:g.jsx(XQ,{})}),g.jsx(fr,{index:!0,element:g.jsx(JQ,{})}),g.jsx(fr,{path:"jobs",element:g.jsx(Lne,{})}),g.jsx(fr,{path:"commondashboard",element:g.jsx(NC,{})})]}),g.jsx(fr,{path:"/option",element:g.jsx(Une,{})}),g.jsx(fr,{path:"/",element:g.jsx(Pz,{})}),g.jsx(fr,{path:"*",element:g.jsx("div",{children:"Page not found"})})]})};function $ne(){return g.jsx(Tj,{children:g.jsx(oZ,{children:g.jsx(zne,{})})})}aD.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx($ne,{})}));export{Se as B,bh as H,WG as a,Ts as b,wy as c,Gq as d,Nc as e,Di as f,iE as g,Dm as i,Ay as l,$n as s};
